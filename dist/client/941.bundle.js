/*! For license information please see 941.bundle.js.LICENSE.txt */
(self.webpackChunkproject=self.webpackChunkproject||[]).push([[941],{133:(t,e,i)=>{"use strict";i.d(e,{L:()=>n});const s={default:-1};function n(t="default"){return void 0===s[t]&&(s[t]=-1),++s[t]}},218:(t,e,i)=>{"use strict";i.d(e,{n:()=>h});var s=i(8875),n=i(133),r=i(4670);const o=Object.create(null),a=class t extends s.A{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...t.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){(0,r.t6)(r.lj,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=function(t){const e=o[t];return void 0===e&&(o[t]=(0,n.L)("resource")),e}(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};a.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let h=a},268:(t,e,i)=>{"use strict";i.d(e,{R:()=>r});let s=0;const n=500;function r(...t){s!==n&&(s++,s===n?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}},341:(t,e,i)=>{"use strict";i.d(e,{w:()=>a});var s=i(3513),n=i(4492),r=i(6563);const o={};function a(t,e){let i=2166136261;for(let s=0;s<e;s++)i^=t[s].uid,i=Math.imul(i,16777619),i>>>=0;return o[i]||function(t,e,i){const a={};let l=0;h||(h=(0,r.a)());for(let i=0;i<h;i++){const s=i<e?t[i]:n.g.EMPTY.source;a[l++]=s.source,a[l++]=s.style}const c=new s.T(a);return o[i]=c,c}(t,e,i)}let h=0},583:(t,e,i)=>{"use strict";i.d(e,{v:()=>l});var s=i(8875),n=i(9939),r=i(2698),o=i(133),a=i(218);const h=class t extends s.A{constructor(e={}){super(),this.options=e,this.uid=(0,o.L)("textureSource"),this._resourceType="textureSource",this._resourceId=(0,o.L)("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...t.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new a.n((0,r.S)(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=(0,o.L)("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,e,i){i||(i=this._resolution),t||(t=this.width),e||(e=this.height);const s=Math.round(t*i),n=Math.round(e*i);return this.width=s/i,this.height=n/i,this._resolution=i,(this.pixelWidth!==s||this.pixelHeight!==n)&&(this._refreshPOT(),this.pixelWidth=s,this.pixelHeight=n,this.emit("resize",this),this._resourceId=(0,o.L)("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=(0,n.f3)(this.pixelWidth)&&(0,n.f3)(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};h.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let l=h},753:(t,e,i)=>{"use strict";i.d(e,{j:()=>r});var s=i(4676);const n=16777215;function r(t,e){return t===n?e:e===n?t:(0,s.u)(t,e)}},800:(t,e,i)=>{"use strict";i.d(e,{k:()=>f});var s=i(2577),n=i(8507);const r=[];n.XO.handleByNamedList(n.Ag.Environment,r);var o=i(5815),a=i(4577),h=i(4670),l=i(1257),c=i(7729),u=i(8875);const d=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],p=class t extends u.A{constructor(t){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const e=[...d,...this.config.runners??[]];this._addRunners(...e),this._unsafeEvalCheck()}async init(e={}){const i=!0===e.skipExtensionImports||!1===e.manageImports;await async function(t){if(!t)for(let t=0;t<r.length;t++){const e=r[t];if(e.value.test())return void await e.value.load()}}(i),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const t in this._systemsHash)e={...this._systemsHash[t].constructor.defaultOptions,...e};e={...t.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let t=0;t<this.runners.init.items.length;t++)await this.runners.init.items[t].init(e);this._initOptions=e}render(t,e){let i=t;if(i instanceof o.mc&&(i={container:i},e&&((0,h.t6)(h.lj,"passing a second argument is deprecated, please use render options instead"),i.target=e.renderTexture)),i.target||(i.target=this.view.renderTarget),i.target===this.view.renderTarget&&(this._lastObjectRendered=i.container,i.clearColor??(i.clearColor=this.background.colorRgba),i.clear??(i.clear=this.background.clearBeforeRender)),i.clearColor){const t=Array.isArray(i.clearColor)&&4===i.clearColor.length;i.clearColor=t?i.clearColor:s.Q.shared.setValue(i.clearColor).toArray()}i.transform||(i.container.updateLocalTransform(),i.transform=i.container.localTransform),i.container.enableRenderGroup(),this.runners.prerender.emit(i),this.runners.renderStart.emit(i),this.runners.render.emit(i),this.runners.renderEnd.emit(i),this.runners.postrender.emit(i)}resize(t,e,i){const s=this.view.resolution;this.view.resize(t,e,i),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),void 0!==i&&i!==s&&this.runners.resolutionChange.emit(i)}clear(t={}){t.target||(t.target=this.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=l.u.ALL);const{clear:e,clearColor:i,target:n}=t;s.Q.shared.setValue(i??this.background.colorRgba),this.renderTarget.clear(n,e,s.Q.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach((t=>{this.runners[t]=new c.C(t)}))}_addSystems(t){let e;for(e in t){const i=t[e];this._addSystem(i.value,i.name)}}_addSystem(t,e){const i=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=i,this._systemsHash[e]=i;for(const t in this.runners)this.runners[t].add(i);return this}_addPipes(t,e){const i=e.reduce(((t,e)=>(t[e.name]=e.value,t)),{});t.forEach((t=>{const e=t.value,s=t.name,n=i[s];this.renderPipes[s]=new e(this,n?new n:null)}))}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach((t=>{t.destroy()})),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!(0,a.f)())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};p.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let f=p},848:(t,e,i)=>{"use strict";i.d(e,{L:()=>n});var s=i(133);class n{constructor(){this.uid=(0,s.L)("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}},949:(t,e,i)=>{"use strict";i.d(e,{h:()=>o});var s=i(8875),n=i(133),r=i(1132);class o extends s.A{constructor(t){let{data:e,size:i}=t;const{usage:s,label:r,shrinkToFit:o}=t;super(),this.uid=(0,n.L)("buffer"),this._resourceType="buffer",this._resourceId=(0,n.L)("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,e instanceof Array&&(e=new Float32Array(e)),this._data=e,i??(i=e?.byteLength);const a=!!e;this.descriptor={size:i,usage:s,mappedAtCreation:a,label:r},this.shrinkToFit=o??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&r.S.STATIC)}set static(t){t?this.descriptor.usage|=r.S.STATIC:this.descriptor.usage&=~r.S.STATIC}setDataWithSize(t,e,i){if(this._updateID++,this._updateSize=e*t.BYTES_PER_ELEMENT,this._data===t)return void(i&&this.emit("update",this));const s=this._data;this._data=t,this._dataInt32=null,s&&s.length===t.length||!this.shrinkToFit&&s&&t.byteLength<s.byteLength?i&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=(0,n.L)("resource"),this.emit("change",this))}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}},990:(t,e,i)=>{"use strict";i.d(e,{T:()=>d,w:()=>u});var s=i(2577),n=i(4492),r=i(7276),o=i(2806);function a(t){return t instanceof o.m}function h(t){return t instanceof r._}function l(t,e,i){return t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...i,...t}}function c(t,e,i){return e.buildGradient(),t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,t.textureSpace=e.textureSpace,{...i,...t}}function u(t,e){if(null==t)return null;const i={},r=t;return function(t){return s.Q.isColorLike(t)}(t)?function(t,e,i){const r=s.Q.shared.setValue(e??0);return t.color=r.toNumber(),t.alpha=1===r.alpha?i.alpha:r.alpha,t.texture=n.g.WHITE,{...i,...t}}(i,t,e):function(t){return t instanceof n.g}(t)?function(t,e,i){return t.texture=e,{...i,...t}}(i,t,e):a(t)?l(i,t,e):h(t)?c(i,t,e):r.fill&&a(r.fill)?l(r,r.fill,e):r.fill&&h(r.fill)?c(r,r.fill,e):function(t,e){const i={...e,...t},n=s.Q.shared.setValue(i.color);return i.alpha*=n.alpha,i.color=n.toNumber(),i}(r,e)}function d(t,e){const{width:i,alignment:s,miterLimit:n,cap:r,join:o,pixelLine:a,...h}=e,l=u(t,h);return l?{width:i,alignment:s,miterLimit:n,cap:r,join:o,pixelLine:a,...l}:null}},1132:(t,e,i)=>{"use strict";i.d(e,{S:()=>s});var s=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))(s||{})},1159:(t,e,i)=>{"use strict";i.d(e,{J:()=>R});var s=i(8507),n=i(133),r=i(1460),o=i(6736),a=i(8639),h=i(6563);class l{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const e=this.textures[t];this.textures[t]=null,this.ids[e.uid]=null}this.count=0}}class c{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new l,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const u=[];let d=0;function p(){return d>0?u[--d]:new c}function f(t){u[d++]=t}let g=0;const m=class t{constructor(e={}){this.uid=(0,n.L)("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],t.defaultOptions.maxTextures=t.defaultOptions.maxTextures??(0,h.a)(),e={...t.defaultOptions,...e};const{maxTextures:i,attributesInitialSize:s,indicesInitialSize:o}=e;this.attributeBuffer=new r.u(4*s),this.indexBuffer=new Uint16Array(o),this.maxTextures=i}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)f(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,e){const i=t._batch.textures.ids[e._source.uid];return!(!i&&0!==i||(t._textureId=i,t.texture=e,0))}updateElement(t){this.dirty=!0;const e=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,e.float32View,e.uint32View,t._attributeStart,t._textureId)}break(t){const e=this._elements;if(!e[this.elementStart])return;let i=p(),s=i.textures;s.clear();const n=e[this.elementStart];let r=(0,a.i)(n.blendMode,n.texture._source),o=n.topology;4*this.attributeSize>this.attributeBuffer.size&&this._resizeAttributeBuffer(4*this.attributeSize),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const h=this.attributeBuffer.float32View,l=this.attributeBuffer.uint32View,c=this.indexBuffer;let u=this._batchIndexSize,d=this._batchIndexStart,f="startBatch";const m=this.maxTextures;for(let n=this.elementStart;n<this.elementSize;++n){const x=e[n];e[n]=null;const b=x.texture._source,y=(0,a.i)(x.blendMode,b),_=r!==y||o!==x.topology;b._batchTick!==g||_?(b._batchTick=g,(s.count>=m||_)&&(this._finishBatch(i,d,u-d,s,r,o,t,f),f="renderBatch",d=u,r=y,o=x.topology,i=p(),s=i.textures,s.clear(),++g),x._textureId=b._textureBindLocation=s.count,s.ids[b.uid]=s.count,s.textures[s.count++]=b,x._batch=i,u+=x.indexSize,x.packAsQuad?(this.packQuadAttributes(x,h,l,x._attributeStart,x._textureId),this.packQuadIndex(c,x._indexStart,x._attributeStart/this.vertexSize)):(this.packAttributes(x,h,l,x._attributeStart,x._textureId),this.packIndex(x,c,x._indexStart,x._attributeStart/this.vertexSize))):(x._textureId=b._textureBindLocation,u+=x.indexSize,x.packAsQuad?(this.packQuadAttributes(x,h,l,x._attributeStart,x._textureId),this.packQuadIndex(c,x._indexStart,x._attributeStart/this.vertexSize)):(this.packAttributes(x,h,l,x._attributeStart,x._textureId),this.packIndex(x,c,x._indexStart,x._attributeStart/this.vertexSize)),x._batch=i)}s.count>0&&(this._finishBatch(i,d,u-d,s,r,o,t,f),d=u,++g),this.elementStart=this.elementSize,this._batchIndexStart=d,this._batchIndexSize=u}_finishBatch(t,e,i,s,n,r,o,a){t.gpuBindGroup=null,t.bindGroup=null,t.action=a,t.batcher=this,t.textures=s,t.blendMode=n,t.topology=r,t.start=e,t.size=i,++g,this.batches[this.batchIndex++]=t,o.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){4*t<=this.attributeBuffer.size||this._resizeAttributeBuffer(4*t)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const e=Math.max(t,2*this.attributeBuffer.size),i=new r.u(e);(0,o.W)(this.attributeBuffer.rawBinaryData,i.rawBinaryData),this.attributeBuffer=i}_resizeIndexBuffer(t){const e=this.indexBuffer;let i=Math.max(t,1.5*e.length);i+=i%2;const s=i>65535?new Uint32Array(i):new Uint16Array(i);if(s.BYTES_PER_ELEMENT!==e.BYTES_PER_ELEMENT)for(let t=0;t<e.length;t++)s[t]=e[t];else(0,o.W)(e.buffer,s.buffer);this.indexBuffer=s}packQuadIndex(t,e,i){t[e]=i+0,t[e+1]=i+1,t[e+2]=i+2,t[e+3]=i+0,t[e+4]=i+2,t[e+5]=i+3}packIndex(t,e,i,s){const n=t.indices,r=t.indexSize,o=t.indexOffset,a=t.attributeOffset;for(let t=0;t<r;t++)e[i++]=s+n[t+o]-a}destroy(){for(let t=0;t<this.batches.length;t++)f(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};m.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let x=m;var b=i(949),y=i(1132),_=i(6011);const v=new Float32Array(1),w=new Uint32Array(1);class A extends _.V{constructor(){const t=new b.h({data:v,label:"attribute-batch-buffer",usage:y.S.VERTEX|y.S.COPY_DST,shrinkToFit:!1});super({attributes:{aPosition:{buffer:t,format:"float32x2",stride:24,offset:0},aUV:{buffer:t,format:"float32x2",stride:24,offset:8},aColor:{buffer:t,format:"unorm8x4",stride:24,offset:16},aTextureIdAndRound:{buffer:t,format:"uint16x2",stride:24,offset:20}},indexBuffer:new b.h({data:w,label:"index-batch-buffer",usage:y.S.INDEX|y.S.COPY_DST,shrinkToFit:!1})})}}var S=i(5611),M=i(4459),k=i(4e3),C=i(6665),P=i(6040),T=i(8475);class O extends T.M{constructor(t){super({glProgram:(0,S.I)({name:"batch",bits:[M.a,(0,k.P)(t),C.m]}),gpuProgram:(0,S.v)({name:"batch",bits:[M.F,(0,k._)(t),C.b]}),resources:{batchSamplers:(0,P.n)(t)}})}}let E=null;const I=class t extends x{constructor(){super(...arguments),this.geometry=new A,this.shader=E||(E=new O(this.maxTextures)),this.name=t.extension.name,this.vertexSize=6}packAttributes(t,e,i,s,n){const r=n<<16|65535&t.roundPixels,o=t.transform,a=o.a,h=o.b,l=o.c,c=o.d,u=o.tx,d=o.ty,{positions:p,uvs:f}=t,g=t.color,m=t.attributeOffset,x=m+t.attributeSize;for(let t=m;t<x;t++){const n=2*t,o=p[n],m=p[n+1];e[s++]=a*o+l*m+u,e[s++]=c*m+h*o+d,e[s++]=f[n],e[s++]=f[n+1],i[s++]=g,i[s++]=r}}packQuadAttributes(t,e,i,s,n){const r=t.texture,o=t.transform,a=o.a,h=o.b,l=o.c,c=o.d,u=o.tx,d=o.ty,p=t.bounds,f=p.maxX,g=p.minX,m=p.maxY,x=p.minY,b=r.uvs,y=t.color,_=n<<16|65535&t.roundPixels;e[s+0]=a*g+l*x+u,e[s+1]=c*x+h*g+d,e[s+2]=b.x0,e[s+3]=b.y0,i[s+4]=y,i[s+5]=_,e[s+6]=a*f+l*x+u,e[s+7]=c*x+h*f+d,e[s+8]=b.x1,e[s+9]=b.y1,i[s+10]=y,i[s+11]=_,e[s+12]=a*f+l*m+u,e[s+13]=c*m+h*f+d,e[s+14]=b.x2,e[s+15]=b.y2,i[s+16]=y,i[s+17]=_,e[s+18]=a*g+l*m+u,e[s+19]=c*m+h*g+d,e[s+20]=b.x3,e[s+21]=b.y3,i[s+22]=y,i[s+23]=_}};I.extension={type:[s.Ag.Batcher],name:"default"};let R=I},1173:(t,e,i)=>{"use strict";i.d(e,{x:()=>l});var s=i(268),n=i(2927),r=i(2406);function o(t,e,i,s,n){const r=e[i];for(let a=0;a<r.length;a++){const h=r[a];i<e.length-1?o(t.replace(s[i],h),e,i+1,s,n):n.push(t.replace(s[i],h))}}function a(t){const e=t.match(/\{(.*?)\}/g),i=[];if(e){const s=[];e.forEach((t=>{const e=t.substring(1,t.length-1).split(",");s.push(e)})),o(t,s,0,e,i)}else i.push(t);return i}var h=i(2217);class l{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach((t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))})),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if("string"==typeof t)this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}}getAlias(t){const{alias:e,src:i}=t;return(0,r.z)(e||i,(t=>"string"==typeof t?t:Array.isArray(t)?t.map((t=>t?.src??t)):t?.src?t.src:t),!0)}addManifest(t){this._manifest&&(0,s.R)("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach((t=>{this.addBundle(t.name,t.assets)}))}addBundle(t,e){const i=[];let s=e;Array.isArray(e)||(s=Object.entries(e).map((([t,e])=>"string"==typeof e||Array.isArray(e)?{alias:t,src:e}:{alias:t,...e}))),s.forEach((e=>{const s=e.src,n=e.alias;let r;if("string"==typeof n){const e=this._createBundleAssetId(t,n);i.push(e),r=[n,e]}else{const e=n.map((e=>this._createBundleAssetId(t,e)));i.push(...e),r=[...n,...e]}this.add({...e,alias:r,src:s})})),this._bundles[t]=i}add(t){const e=[];let i;Array.isArray(t)?e.push(...t):e.push(t),i=t=>{this.hasKey(t)&&(0,s.R)(`[Resolver] already has key: ${t} overwriting`)},(0,r.z)(e).forEach((t=>{const{src:e}=t;let{data:s,format:n,loadParser:o}=t;const h=(0,r.z)(e).map((t=>"string"==typeof t?a(t):Array.isArray(t)?t:[t])),l=this.getAlias(t);Array.isArray(l)?l.forEach(i):i(l);const c=[];h.forEach((t=>{t.forEach((t=>{let e={};if("object"!=typeof t){e.src=t;for(let i=0;i<this._parsers.length;i++){const s=this._parsers[i];if(s.test(t)){e=s.parse(t);break}}}else s=t.data??s,n=t.format??n,o=t.loadParser??o,e={...e,...t};if(!l)throw new Error(`[Resolver] alias is undefined for this asset: ${e.src}`);e=this._buildResolvedAsset(e,{aliases:l,data:s,format:n,loadParser:o}),c.push(e)}))})),l.forEach((t=>{this._assetMap[t]=c}))}))}resolveBundle(t){const e=(0,h.a)(t);t=(0,r.z)(t);const i={};return t.forEach((t=>{const e=this._bundles[t];if(e){const s=this.resolve(e),n={};for(const e in s){const i=s[e];n[this._extractAssetIdFromBundle(t,e)]=i}i[t]=n}})),e?i[t[0]]:i}resolveUrl(t){const e=this.resolve(t);if("string"!=typeof t){const t={};for(const i in e)t[i]=e[i].src;return t}return e.src}resolve(t){const e=(0,h.a)(t);t=(0,r.z)(t);const i={};return t.forEach((t=>{if(!this._resolverHash[t])if(this._assetMap[t]){let e=this._assetMap[t];const i=this._getPreferredOrder(e);i?.priority.forEach((t=>{i.params[t].forEach((i=>{const s=e.filter((e=>!!e[t]&&e[t]===i));s.length&&(e=s)}))})),this._resolverHash[t]=e[0]}else this._resolverHash[t]=this._buildResolvedAsset({alias:[t],src:t},{});i[t]=this._resolverHash[t]})),e?i[t[0]]:i}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const i=t[e],s=this._preferredOrder.find((t=>t.params.format.includes(i.format)));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(t){return this._defaultSearchParams?`${t}${/\?/.test(t)?"&":"?"}${this._defaultSearchParams}`:t}_buildResolvedAsset(t,e){const{aliases:i,data:s,loadParser:r,format:o}=e;return(this._basePath||this._rootPath)&&(t.src=n.A.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=i??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...s||{},...t.data},t.loadParser=r??t.loadParser,t.format=o??t.format??t.src.split(".").pop().split("?").shift().split("#").shift(),t}}l.RETINA_PREFIX=/@([0-9\.]+)x/},1196:(t,e,i)=>{"use strict";i.d(e,{N:()=>r});var s=i(9313);const n=new s.u;class r{constructor(t,e){this.mapCoord=new s.u,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?t.width<10?0:.5:e,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,e){void 0===e&&(e=t);const i=this.mapCoord;for(let s=0;s<t.length;s+=2){const n=t[s],r=t[s+1];e[s]=n*i.a+r*i.c+i.tx,e[s+1]=n*i.b+r*i.d+i.ty}return e}update(){const t=this._texture;this._updateID++;const e=t.uvs;this.mapCoord.set(e.x1-e.x0,e.y1-e.y0,e.x3-e.x0,e.y3-e.y0,e.x0,e.y0);const i=t.orig,s=t.trim;s&&(n.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(n));const r=t.source,o=this.uClampFrame,a=this.clampMargin/r._resolution,h=this.clampOffset/r._resolution;return o[0]=(t.frame.x+a+h)/r.width,o[1]=(t.frame.y+a+h)/r.height,o[2]=(t.frame.x+t.frame.width-a+h)/r.width,o[3]=(t.frame.y+t.frame.height-a+h)/r.height,this.uClampOffset[0]=this.clampOffset/r.pixelWidth,this.uClampOffset[1]=this.clampOffset/r.pixelHeight,this.isSimple=t.frame.width===r.width&&t.frame.height===r.height&&0===t.rotate,!0}}},1242:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const s=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function n(t){const e="number"==typeof t.fontSize?`${t.fontSize}px`:t.fontSize;let i=t.fontFamily;Array.isArray(t.fontFamily)||(i=t.fontFamily.split(","));for(let t=i.length-1;t>=0;t--){let e=i[t].trim();/([\"\'])[^\'\"]+\1/.test(e)||s.includes(e)||(e=`"${e}"`),i[t]=e}return`${t.fontStyle} ${t.fontVariant} ${t.fontWeight} ${e} ${i.join(",")}`}},1257:(t,e,i)=>{"use strict";i.d(e,{u:()=>s});var s=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(s||{})},1312:(t,e,i)=>{"use strict";i.d(e,{c:()=>v});var s=i(1979),n=i(4670),r=i(268),o=i(8291),a=i(2577),h=i(9252),l=i(7608),c=i(8293),u=i(4492),d=i(4016),p=i(1242),f=i(3548),g=i(1849);function m(t){if(""===t)return[];"string"==typeof t&&(t=[t]);const e=[];for(let i=0,s=t.length;i<s;i++){const s=t[i];if(Array.isArray(s)){if(2!==s.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);if(0===s[0].length||0===s[1].length)throw new Error("[BitmapFont]: Invalid character delimiter.");const t=s[0].charCodeAt(0),i=s[1].charCodeAt(0);if(i<t)throw new Error("[BitmapFont]: Invalid character range.");for(let s=t,n=i;s<=n;s++)e.push(String.fromCharCode(s))}else e.push(...Array.from(s))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const x=class t extends g.v{constructor(e){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const i={...t.defaultOptions,...e};this._textureSize=i.textureSize,this._mipmap=i.mipmap;const s=i.style.clone();i.overrideFill&&(s._fill.color=16777215,s._fill.alpha=1,s._fill.texture=u.g.WHITE,s._fill.fill=null),this.applyFillAsTint=i.overrideFill;const n=s.fontSize;s.fontSize=this.baseMeasurementFontSize;const r=(0,p.Z)(s);i.overrideSize?s._stroke&&(s._stroke.width*=this.baseRenderedFontSize/n):s.fontSize=this.baseRenderedFontSize=n,this._style=s,this._skipKerning=i.skipKerning??!1,this.resolution=i.resolution??1,this._padding=i.padding??4,this.fontMetrics=d.P.measureFont(r),this.lineHeight=s.lineHeight||this.fontMetrics.fontSize||s.fontSize}ensureCharacters(t){const e=m(t).filter((t=>!this._currentChars.includes(t))).filter(((t,e,i)=>i.indexOf(t)===e));if(!e.length)return;let i;this._currentChars=[...this._currentChars,...e],i=-1===this._currentPageIndex?this._nextPage():this.pages[this._currentPageIndex];let{canvas:s,context:n}=i.canvasAndContext,r=i.texture.source;const o=this._style;let a=this._currentX,l=this._currentY;const c=this.baseRenderedFontSize/this.baseMeasurementFontSize,p=this._padding*c;let f=0,g=!1;const x=s.width/this.resolution,b=s.height/this.resolution;for(let t=0;t<e.length;t++){const i=e[t],m=d.P.measureText(i,o,s,!1);m.lineHeight=m.height;const y=m.width*c,_=Math.ceil(("italic"===o.fontStyle?2:1)*y)+2*p,v=m.height*c+2*p;if(g=!1,"\n"!==i&&"\r"!==i&&"\t"!==i&&" "!==i&&(g=!0,f=Math.ceil(Math.max(v,f))),a+_>x&&(l+=f,f=v,a=0,l+f>b)){r.update();const t=this._nextPage();s=t.canvasAndContext.canvas,n=t.canvasAndContext.context,r=t.texture.source,l=0}const w=y/c-(o.dropShadow?.distance??0)-(o._stroke?.width??0);if(this.chars[i]={id:i.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:w,kerning:{}},g){this._drawGlyph(n,m,a+p,l+p,c,o);const t=r.width*c,e=r.height*c,s=new h.M(a/t*r.width,l/e*r.height,_/t*r.width,v/e*r.height);this.chars[i].texture=new u.g({source:r,frame:s}),a+=Math.ceil(_)}}r.update(),this._currentX=a,this._currentY=l,this._skipKerning&&this._applyKerning(e,n)}get pageTextures(){return(0,n.t6)(n.lj,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(t,e){const i=this._measureCache;for(let s=0;s<t.length;s++){const n=t[s];for(let t=0;t<this._currentChars.length;t++){const s=this._currentChars[t];let r=i[n];r||(r=i[n]=e.measureText(n).width);let o=i[s];o||(o=i[s]=e.measureText(s).width);let a=e.measureText(n+s).width,h=a-(r+o);h&&(this.chars[n].kerning[s]=h),a=e.measureText(n+s).width,h=a-(r+o),h&&(this.chars[s].kerning[n]=h)}}}_nextPage(){this._currentPageIndex++;const t=this.resolution,e=l.N.getOptimalCanvasAndContext(this._textureSize,this._textureSize,t);this._setupContext(e.context,this._style,t);const i=t*(this.baseRenderedFontSize/this.baseMeasurementFontSize),s={canvasAndContext:e,texture:new u.g({source:new c.b({resource:e.canvas,resolution:i,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})})};return this.pages[this._currentPageIndex]=s,s}_setupContext(t,e,i){e.fontSize=this.baseRenderedFontSize,t.scale(i,i),t.font=(0,p.Z)(e),e.fontSize=this.baseMeasurementFontSize,t.textBaseline=e.textBaseline;const s=e._stroke,n=s?.width??0;if(s&&(t.lineWidth=n,t.lineJoin=s.join,t.miterLimit=s.miterLimit,t.strokeStyle=(0,f.r)(s,t)),e._fill&&(t.fillStyle=(0,f.r)(e._fill,t)),e.dropShadow){const s=e.dropShadow,n=a.Q.shared.setValue(s.color).toArray(),r=s.blur*i,o=s.distance*i;t.shadowColor=`rgba(${255*n[0]},${255*n[1]},${255*n[2]},${s.alpha})`,t.shadowBlur=r,t.shadowOffsetX=Math.cos(s.angle)*o,t.shadowOffsetY=Math.sin(s.angle)*o}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}_drawGlyph(t,e,i,s,n,r){const o=e.text,a=e.fontProperties,h=r._stroke,l=(h?.width??0)*n,c=i+l/2,u=s-l/2,d=a.descent*n,p=e.lineHeight*n;r.stroke&&l&&t.strokeText(o,c,u+p-d),r._fill&&t.fillText(o,c,u+p-d)}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{canvasAndContext:e,texture:i}=this.pages[t];l.N.returnCanvasAndContext(e),i.destroy(!0)}this.pages=null}};x.defaultOptions={textureSize:512,style:new o.x,mipmap:!0};let b=x;var y=i(2763);let _=0;const v=new class{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(t,e){let i=`${e.fontFamily}-bitmap`,n=!0;if(e._fill.fill&&!e._stroke)i+=e._fill.fill.styleKey,n=!1;else if(e._stroke||e.dropShadow){let t=e.styleKey;t=t.substring(0,t.lastIndexOf("-")),i=`${t}-bitmap`,n=!1}if(!s.l.has(i)){const t=new b({style:e,overrideFill:n,overrideSize:!0,...this.defaultOptions});_++,_>50&&(0,r.R)("BitmapText",`You have dynamically created ${_} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),t.once("destroy",(()=>{_--,s.l.remove(i)})),s.l.set(i,t)}const o=s.l.get(i);return o.ensureCharacters?.(t),o}getLayout(t,e,i=!0){const s=this.getFont(t,e);return(0,y.Z)([...t],e,s,i)}measureText(t,e,i=!0){return this.getLayout(t,e,i)}install(...t){let e=t[0];"string"==typeof e&&(e={name:e,style:t[1],chars:t[2]?.chars,resolution:t[2]?.resolution,padding:t[2]?.padding,skipKerning:t[2]?.skipKerning},(0,n.t6)(n.lj,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const i=e?.name;if(!i)throw new Error("[BitmapFontManager] Property `name` is required.");e={...this.defaultOptions,...e};const r=e.style,a=r instanceof o.x?r:new o.x(r),h=null!==a._fill.fill&&void 0!==a._fill.fill,l=new b({style:a,overrideFill:h,skipKerning:e.skipKerning,padding:e.padding,resolution:e.resolution,overrideSize:!1}),c=m(e.chars);return l.ensureCharacters(c.join("")),s.l.set(`${i}-bitmap`,l),l.once("destroy",(()=>s.l.remove(`${i}-bitmap`))),l}uninstall(t){const e=`${t}-bitmap`,i=s.l.get(e);i&&i.destroy()}}},1460:(t,e,i)=>{"use strict";i.d(e,{u:()=>s});class s{constructor(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}},1652:(t,e,i)=>{"use strict";i.d(e,{TO:()=>s,Td:()=>r,bO:()=>n});const s=2*Math.PI,n=180/Math.PI,r=Math.PI/180},1761:(t,e,i)=>{"use strict";i.d(e,{e:()=>n});let s={createCanvas:(t,e)=>{const i=document.createElement("canvas");return i.width=t,i.height=e,i},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>(new DOMParser).parseFromString(t,"text/xml")};const n={get:()=>s,set(t){s=t}}},1828:(t,e,i)=>{"use strict";function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function n(t){var e=function(t){if("object"!=s(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:e+""}function r(t,e,i){return(e=n(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}function l(t,e){if(t){if("string"==typeof t)return h(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(t,e):void 0}}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var s,n,r,o,a=[],h=!0,l=!1;try{if(r=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;h=!1}else for(;!(h=(s=r.call(i)).done)&&(a.push(s.value),a.length!==e);h=!0);}catch(t){l=!0,n=t}finally{try{if(!h&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(l)throw n}}return a}}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){if(null==t)return{};var i,s,n=function(t,e){if(null==t)return{};var i={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(-1!==e.indexOf(s))continue;i[s]=t[s]}return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(s=0;s<r.length;s++)i=r[s],-1===e.indexOf(i)&&{}.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}i.d(e,{Ay:()=>ps});var d=i(6540),p=i.t(d,2),f=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function g(){return g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},g.apply(null,arguments)}function m(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,n(s.key),s)}}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(y=function(){return!!t})()}function _(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(){function t(t){var e=this;this._insertTag=function(t){var i;i=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,i),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{i.insertRule(t,i.cssRules.length)}catch(t){}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){var e;return null==(e=t.parentNode)?void 0:e.removeChild(t)})),this.tags=[],this.ctr=0},t}(),w=Math.abs,A=String.fromCharCode,S=Object.assign;function M(t){return t.trim()}function k(t,e,i){return t.replace(e,i)}function C(t,e){return t.indexOf(e)}function P(t,e){return 0|t.charCodeAt(e)}function T(t,e,i){return t.slice(e,i)}function O(t){return t.length}function E(t){return t.length}function I(t,e){return e.push(t),t}var R=1,F=1,L=0,D=0,B=0,z="";function V(t,e,i,s,n,r,o){return{value:t,root:e,parent:i,type:s,props:n,children:r,line:R,column:F,length:o,return:""}}function H(t,e){return S(V("",null,null,"",null,null,0),t,{length:-t.length},e)}function N(){return B=D>0?P(z,--D):0,F--,10===B&&(F=1,R--),B}function W(){return B=D<L?P(z,D++):0,F++,10===B&&(F=1,R++),B}function j(){return P(z,D)}function U(){return D}function $(t,e){return T(z,t,e)}function G(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Y(t){return R=F=1,L=O(z=t),D=0,[]}function X(t){return z="",t}function q(t){return M($(D-1,Q(91===t?t+2:40===t?t+1:t)))}function K(t){for(;(B=j())&&B<33;)W();return G(t)>2||G(B)>3?"":" "}function Z(t,e){for(;--e&&W()&&!(B<48||B>102||B>57&&B<65||B>70&&B<97););return $(t,U()+(e<6&&32==j()&&32==W()))}function Q(t){for(;W();)switch(B){case t:return D;case 34:case 39:34!==t&&39!==t&&Q(B);break;case 40:41===t&&Q(t);break;case 92:W()}return D}function J(t,e){for(;W()&&t+B!==57&&(t+B!==84||47!==j()););return"/*"+$(e,D-1)+"*"+A(47===t?t:W())}function tt(t){for(;!G(j());)W();return $(t,D)}var et="-ms-",it="-moz-",st="-webkit-",nt="comm",rt="rule",ot="decl",at="@keyframes";function ht(t,e){for(var i="",s=E(t),n=0;n<s;n++)i+=e(t[n],n,t,e)||"";return i}function lt(t,e,i,s){switch(t.type){case"@layer":if(t.children.length)break;case"@import":case ot:return t.return=t.return||t.value;case nt:return"";case at:return t.return=t.value+"{"+ht(t.children,s)+"}";case rt:t.value=t.props.join(",")}return O(i=ht(t.children,s))?t.return=t.value+"{"+i+"}":""}function ct(t){return X(ut("",null,null,null,[""],t=Y(t),0,[0],t))}function ut(t,e,i,s,n,r,o,a,h){for(var l=0,c=0,u=o,d=0,p=0,f=0,g=1,m=1,x=1,b=0,y="",_=n,v=r,w=s,S=y;m;)switch(f=b,b=W()){case 40:if(108!=f&&58==P(S,u-1)){-1!=C(S+=k(q(b),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:S+=q(b);break;case 9:case 10:case 13:case 32:S+=K(f);break;case 92:S+=Z(U()-1,7);continue;case 47:switch(j()){case 42:case 47:I(pt(J(W(),U()),e,i),h);break;default:S+="/"}break;case 123*g:a[l++]=O(S)*x;case 125*g:case 59:case 0:switch(b){case 0:case 125:m=0;case 59+c:-1==x&&(S=k(S,/\f/g,"")),p>0&&O(S)-u&&I(p>32?ft(S+";",s,i,u-1):ft(k(S," ","")+";",s,i,u-2),h);break;case 59:S+=";";default:if(I(w=dt(S,e,i,l,c,n,a,y,_=[],v=[],u),r),123===b)if(0===c)ut(S,e,w,w,_,r,u,a,v);else switch(99===d&&110===P(S,3)?100:d){case 100:case 108:case 109:case 115:ut(t,w,w,s&&I(dt(t,w,w,0,0,n,a,y,n,_=[],u),v),n,v,u,a,s?_:v);break;default:ut(S,w,w,w,[""],v,0,a,v)}}l=c=p=0,g=x=1,y=S="",u=o;break;case 58:u=1+O(S),p=f;default:if(g<1)if(123==b)--g;else if(125==b&&0==g++&&125==N())continue;switch(S+=A(b),b*g){case 38:x=c>0?1:(S+="\f",-1);break;case 44:a[l++]=(O(S)-1)*x,x=1;break;case 64:45===j()&&(S+=q(W())),d=j(),c=u=O(y=S+=tt(U())),b++;break;case 45:45===f&&2==O(S)&&(g=0)}}return r}function dt(t,e,i,s,n,r,o,a,h,l,c){for(var u=n-1,d=0===n?r:[""],p=E(d),f=0,g=0,m=0;f<s;++f)for(var x=0,b=T(t,u+1,u=w(g=o[f])),y=t;x<p;++x)(y=M(g>0?d[x]+" "+b:k(b,/&\f/g,d[x])))&&(h[m++]=y);return V(t,e,i,0===n?rt:a,h,l,c)}function pt(t,e,i){return V(t,e,i,nt,A(B),T(t,2,-2),0)}function ft(t,e,i,s){return V(t,e,i,ot,T(t,0,s),T(t,s+1,-1),s)}var gt=function(t,e,i){for(var s=0,n=0;s=n,n=j(),38===s&&12===n&&(e[i]=1),!G(n);)W();return $(t,D)},mt=new WeakMap,xt=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,i=t.parent,s=t.column===i.column&&t.line===i.line;"rule"!==i.type;)if(!(i=i.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||mt.get(i))&&!s){mt.set(t,!0);for(var n=[],r=function(t,e){return X(function(t,e){var i=-1,s=44;do{switch(G(s)){case 0:38===s&&12===j()&&(e[i]=1),t[i]+=gt(D-1,e,i);break;case 2:t[i]+=q(s);break;case 4:if(44===s){t[++i]=58===j()?"&\f":"",e[i]=t[i].length;break}default:t[i]+=A(s)}}while(s=W());return t}(Y(t),e))}(e,n),o=i.props,a=0,h=0;a<r.length;a++)for(var l=0;l<o.length;l++,h++)t.props[h]=n[a]?r[a].replace(/&\f/g,o[l]):o[l]+" "+r[a]}}},bt=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function yt(t,e){switch(function(t,e){return 45^P(t,0)?(((e<<2^P(t,0))<<2^P(t,1))<<2^P(t,2))<<2^P(t,3):0}(t,e)){case 5103:return st+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return st+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return st+t+it+t+et+t+t;case 6828:case 4268:return st+t+et+t+t;case 6165:return st+t+et+"flex-"+t+t;case 5187:return st+t+k(t,/(\w+).+(:[^]+)/,st+"box-$1$2"+et+"flex-$1$2")+t;case 5443:return st+t+et+"flex-item-"+k(t,/flex-|-self/,"")+t;case 4675:return st+t+et+"flex-line-pack"+k(t,/align-content|flex-|-self/,"")+t;case 5548:return st+t+et+k(t,"shrink","negative")+t;case 5292:return st+t+et+k(t,"basis","preferred-size")+t;case 6060:return st+"box-"+k(t,"-grow","")+st+t+et+k(t,"grow","positive")+t;case 4554:return st+k(t,/([^-])(transform)/g,"$1"+st+"$2")+t;case 6187:return k(k(k(t,/(zoom-|grab)/,st+"$1"),/(image-set)/,st+"$1"),t,"")+t;case 5495:case 3959:return k(t,/(image-set\([^]*)/,st+"$1$`$1");case 4968:return k(k(t,/(.+:)(flex-)?(.*)/,st+"box-pack:$3"+et+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+st+t+t;case 4095:case 3583:case 4068:case 2532:return k(t,/(.+)-inline(.+)/,st+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(O(t)-1-e>6)switch(P(t,e+1)){case 109:if(45!==P(t,e+4))break;case 102:return k(t,/(.+:)(.+)-([^]+)/,"$1"+st+"$2-$3$1"+it+(108==P(t,e+3)?"$3":"$2-$3"))+t;case 115:return~C(t,"stretch")?yt(k(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==P(t,e+1))break;case 6444:switch(P(t,O(t)-3-(~C(t,"!important")&&10))){case 107:return k(t,":",":"+st)+t;case 101:return k(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+st+(45===P(t,14)?"inline-":"")+"box$3$1"+st+"$2$3$1"+et+"$2box$3")+t}break;case 5936:switch(P(t,e+11)){case 114:return st+t+et+k(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return st+t+et+k(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return st+t+et+k(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return st+t+et+t+t}return t}var _t=[function(t,e,i,s){if(t.length>-1&&!t.return)switch(t.type){case ot:t.return=yt(t.value,t.length);break;case at:return ht([H(t,{value:k(t.value,"@","@"+st)})],s);case rt:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t){return(t=/(::plac\w+|:read-\w+)/.exec(t))?t[0]:t}(e)){case":read-only":case":read-write":return ht([H(t,{props:[k(e,/:(read-\w+)/,":-moz-$1")]})],s);case"::placeholder":return ht([H(t,{props:[k(e,/:(plac\w+)/,":"+st+"input-$1")]}),H(t,{props:[k(e,/:(plac\w+)/,":-moz-$1")]}),H(t,{props:[k(e,/:(plac\w+)/,et+"input-$1")]})],s)}return""}))}}],vt=function(t){var e=t.key;if("css"===e){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var s,n,r=t.stylisPlugins||_t,o={},a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),i=1;i<e.length;i++)o[e[i]]=!0;a.push(t)}));var h,l,c,u,d=[lt,(u=function(t){h.insert(t)},function(t){t.root||(t=t.return)&&u(t)})],p=(l=[xt,bt].concat(r,d),c=E(l),function(t,e,i,s){for(var n="",r=0;r<c;r++)n+=l[r](t,e,i,s)||"";return n});n=function(t,e,i,s){h=i,ht(ct(t?t+"{"+e.styles+"}":e.styles),p),s&&(f.inserted[e.name]=!0)};var f={key:e,sheet:new v({key:e,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:n};return f.sheet.hydrate(a),f},wt=function(t,e,i){var s=t.key+"-"+e.name;!1===i&&void 0===t.registered[s]&&(t.registered[s]=e.styles)},At={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function St(t){var e=Object.create(null);return function(i){return void 0===e[i]&&(e[i]=t(i)),e[i]}}var Mt=/[A-Z]|^ms/g,kt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ct=function(t){return 45===t.charCodeAt(1)},Pt=function(t){return null!=t&&"boolean"!=typeof t},Tt=St((function(t){return Ct(t)?t:t.replace(Mt,"-$&").toLowerCase()})),Ot=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(kt,(function(t,e,i){return It={name:e,styles:i,next:It},e}))}return 1===At[t]||Ct(t)||"number"!=typeof e||0===e?e:e+"px"};function Et(t,e,i){if(null==i)return"";var s=i;if(void 0!==s.__emotion_styles)return s;switch(typeof i){case"boolean":return"";case"object":var n=i;if(1===n.anim)return It={name:n.name,styles:n.styles,next:It},n.name;var r=i;if(void 0!==r.styles){var o=r.next;if(void 0!==o)for(;void 0!==o;)It={name:o.name,styles:o.styles,next:It},o=o.next;return r.styles+";"}return function(t,e,i){var s="";if(Array.isArray(i))for(var n=0;n<i.length;n++)s+=Et(t,e,i[n])+";";else for(var r in i){var o=i[r];if("object"!=typeof o){var a=o;null!=e&&void 0!==e[a]?s+=r+"{"+e[a]+"}":Pt(a)&&(s+=Tt(r)+":"+Ot(r,a)+";")}else if(!Array.isArray(o)||"string"!=typeof o[0]||null!=e&&void 0!==e[o[0]]){var h=Et(t,e,o);switch(r){case"animation":case"animationName":s+=Tt(r)+":"+h+";";break;default:s+=r+"{"+h+"}"}}else for(var l=0;l<o.length;l++)Pt(o[l])&&(s+=Tt(r)+":"+Ot(r,o[l])+";")}return s}(t,e,i);case"function":if(void 0!==t){var a=It,h=i(t);return It=a,Et(t,e,h)}}var l=i;if(null==e)return l;var c=e[l];return void 0!==c?c:l}var It,Rt=/label:\s*([^\s;{]+)\s*(;|$)/g;function Ft(t,e,i){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var s=!0,n="";It=void 0;var r=t[0];null==r||void 0===r.raw?(s=!1,n+=Et(i,e,r)):n+=r[0];for(var o=1;o<t.length;o++)n+=Et(i,e,t[o]),s&&(n+=r[o]);Rt.lastIndex=0;for(var a,h="";null!==(a=Rt.exec(n));)h+="-"+a[1];var l=function(t){for(var e,i=0,s=0,n=t.length;n>=4;++s,n-=4)e=1540483477*(65535&(e=255&t.charCodeAt(s)|(255&t.charCodeAt(++s))<<8|(255&t.charCodeAt(++s))<<16|(255&t.charCodeAt(++s))<<24))+(59797*(e>>>16)<<16),i=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&i)+(59797*(i>>>16)<<16);switch(n){case 3:i^=(255&t.charCodeAt(s+2))<<16;case 2:i^=(255&t.charCodeAt(s+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(s)))+(59797*(i>>>16)<<16)}return(((i=1540483477*(65535&(i^=i>>>13))+(59797*(i>>>16)<<16))^i>>>15)>>>0).toString(36)}(n)+h;return{name:l,styles:n,next:It}}var Lt,Dt,Bt=!!p.useInsertionEffect&&p.useInsertionEffect,zt=Bt||function(t){return t()},Vt=(Bt||d.useLayoutEffect,d.createContext("undefined"!=typeof HTMLElement?vt({key:"css"}):null)),Ht=(Vt.Provider,function(t){return(0,d.forwardRef)((function(e,i){var s=(0,d.useContext)(Vt);return t(e,s,i)}))}),Nt=d.createContext({}),Wt={}.hasOwnProperty,jt="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ut=function(t){var e=t.cache,i=t.serialized,s=t.isStringTag;return wt(e,i,s),zt((function(){return function(t,e,i){wt(t,e,i);var s=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var n=e;do{t.insert(e===n?"."+s:"",n,t.sheet,!0),n=n.next}while(void 0!==n)}}(e,i,s)})),null},$t=Ht((function(t,e,i){var s=t.css;"string"==typeof s&&void 0!==e.registered[s]&&(s=e.registered[s]);var n=t[jt],r=[s],o="";"string"==typeof t.className?o=function(t,e,i){var s="";return i.split(" ").forEach((function(i){void 0!==t[i]?e.push(t[i]+";"):i&&(s+=i+" ")})),s}(e.registered,r,t.className):null!=t.className&&(o=t.className+" ");var a=Ft(r,void 0,d.useContext(Nt));o+=e.key+"-"+a.name;var h={};for(var l in t)Wt.call(t,l)&&"css"!==l&&l!==jt&&(h[l]=t[l]);return h.className=o,i&&(h.ref=i),d.createElement(d.Fragment,null,d.createElement(Ut,{cache:e,serialized:a,isStringTag:"string"==typeof n}),d.createElement(n,h))})),Gt=$t,Yt=(i(4146),function(t,e){var i=arguments;if(null==e||!Wt.call(e,"css"))return d.createElement.apply(void 0,i);var s=i.length,n=new Array(s);n[0]=Gt,n[1]=function(t,e){var i={};for(var s in e)Wt.call(e,s)&&(i[s]=e[s]);return i[jt]=t,i}(t,e);for(var r=2;r<s;r++)n[r]=i[r];return d.createElement.apply(null,n)});function Xt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Ft(e)}Lt=Yt||(Yt={}),Dt||(Dt=Lt.JSX||(Lt.JSX={}));var qt=i(961);const Kt=Math.min,Zt=Math.max,Qt=Math.round,Jt=Math.floor,te=t=>({x:t,y:t});function ee(){return"undefined"!=typeof window}function ie(t){return re(t)?(t.nodeName||"").toLowerCase():"#document"}function se(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function ne(t){var e;return null==(e=(re(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function re(t){return!!ee()&&(t instanceof Node||t instanceof se(t).Node)}function oe(t){return!!ee()&&(t instanceof Element||t instanceof se(t).Element)}function ae(t){return!!ee()&&(t instanceof HTMLElement||t instanceof se(t).HTMLElement)}function he(t){return!(!ee()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof se(t).ShadowRoot)}function le(t){const{overflow:e,overflowX:i,overflowY:s,display:n}=ce(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+i)&&!["inline","contents"].includes(n)}function ce(t){return se(t).getComputedStyle(t)}function ue(t){const e=function(t){if("html"===ie(t))return t;const e=t.assignedSlot||t.parentNode||he(t)&&t.host||ne(t);return he(e)?e.host:e}(t);return function(t){return["html","body","#document"].includes(ie(t))}(e)?t.ownerDocument?t.ownerDocument.body:t.body:ae(e)&&le(e)?e:ue(e)}function de(t,e,i){var s;void 0===e&&(e=[]),void 0===i&&(i=!0);const n=ue(t),r=n===(null==(s=t.ownerDocument)?void 0:s.body),o=se(n);if(r){const t=pe(o);return e.concat(o,o.visualViewport||[],le(n)?n:[],t&&i?de(t):[])}return e.concat(n,de(n,[],i))}function pe(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fe(t){return oe(t)?t:t.contextElement}function ge(t){const e=fe(t);if(!ae(e))return te(1);const i=e.getBoundingClientRect(),{width:s,height:n,$:r}=function(t){const e=ce(t);let i=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const n=ae(t),r=n?t.offsetWidth:i,o=n?t.offsetHeight:s,a=Qt(i)!==r||Qt(s)!==o;return a&&(i=r,s=o),{width:i,height:s,$:a}}(e);let o=(r?Qt(i.width):i.width)/s,a=(r?Qt(i.height):i.height)/n;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}const me=te(0);function xe(t){const e=se(t);return"undefined"!=typeof CSS&&CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:me}function be(t,e,i,s){void 0===e&&(e=!1),void 0===i&&(i=!1);const n=t.getBoundingClientRect(),r=fe(t);let o=te(1);e&&(s?oe(s)&&(o=ge(s)):o=ge(t));const a=function(t,e,i){return void 0===e&&(e=!1),!(!i||e&&i!==se(t))&&e}(r,i,s)?xe(r):te(0);let h=(n.left+a.x)/o.x,l=(n.top+a.y)/o.y,c=n.width/o.x,u=n.height/o.y;if(r){const t=se(r),e=s&&oe(s)?se(s):s;let i=t,n=pe(i);for(;n&&s&&e!==i;){const t=ge(n),e=n.getBoundingClientRect(),s=ce(n),r=e.left+(n.clientLeft+parseFloat(s.paddingLeft))*t.x,o=e.top+(n.clientTop+parseFloat(s.paddingTop))*t.y;h*=t.x,l*=t.y,c*=t.x,u*=t.y,h+=r,l+=o,i=se(n),n=pe(i)}}return function(t){const{x:e,y:i,width:s,height:n}=t;return{width:s,height:n,top:i,left:e,right:e+s,bottom:i+n,x:e,y:i}}({width:c,height:u,x:h,y:l})}function ye(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}var _e=d.useLayoutEffect,ve=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],we=function(){};function Ae(t,e){return e?"-"===e[0]?t+e:t+"__"+e:t}function Se(t,e){for(var i=arguments.length,s=new Array(i>2?i-2:0),n=2;n<i;n++)s[n-2]=arguments[n];var r=[].concat(s);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&r.push("".concat(Ae(t,o)));return r.filter((function(t){return t})).map((function(t){return String(t).trim()})).join(" ")}var Me=function(t){return e=t,Array.isArray(e)?t.filter(Boolean):"object"===s(t)&&null!==t?[t]:[];var e},ke=function(t){return t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme,a({},u(t,ve))},Ce=function(t,e,i){var s=t.cx,n=t.getStyles,r=t.getClassNames,o=t.className;return{css:n(e,t),className:s(null!=i?i:{},r(e,t),o)}};function Pe(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Te(t){return Pe(t)?window.pageYOffset:t.scrollTop}function Oe(t,e){Pe(t)?window.scrollTo(0,e):t.scrollTop=e}function Ee(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:we,n=Te(t),r=e-n,o=0;!function e(){var a,h=r*((a=(a=o+=10)/i-1)*a*a+1)+n;Oe(t,h),o<i?window.requestAnimationFrame(e):s(t)}()}function Ie(t,e){var i=t.getBoundingClientRect(),s=e.getBoundingClientRect(),n=e.offsetHeight/3;s.bottom+n>i.bottom?Oe(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+n,t.scrollHeight)):s.top-n<i.top&&Oe(t,Math.max(e.offsetTop-n,0))}function Re(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}}var Fe=!1,Le={get passive(){return Fe=!0}},De="undefined"!=typeof window?window:{};De.addEventListener&&De.removeEventListener&&(De.addEventListener("p",we,Le),De.removeEventListener("p",we,!1));var Be=Fe;function ze(t){return null!=t}function Ve(t,e,i){return t?e:i}var He=["children","innerProps"],Ne=["children","innerProps"];var We,je,Ue,$e=function(t){return"auto"===t?"bottom":t},Ge=(0,d.createContext)(null),Ye=function(t){var e=t.children,i=t.minMenuHeight,s=t.maxMenuHeight,n=t.menuPlacement,r=t.menuPosition,o=t.menuShouldScrollIntoView,h=t.theme,l=((0,d.useContext)(Ge)||{}).setPortalPlacement,u=(0,d.useRef)(null),p=c((0,d.useState)(s),2),f=p[0],g=p[1],m=c((0,d.useState)(null),2),x=m[0],b=m[1],y=h.spacing.controlHeight;return _e((function(){var t=u.current;if(t){var e="fixed"===r,a=function(t){var e=t.maxHeight,i=t.menuEl,s=t.minHeight,n=t.placement,r=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,h=function(t){var e=getComputedStyle(t),i="absolute"===e.position,s=/(auto|scroll)/;if("fixed"===e.position)return document.documentElement;for(var n=t;n=n.parentElement;)if(e=getComputedStyle(n),(!i||"static"!==e.position)&&s.test(e.overflow+e.overflowY+e.overflowX))return n;return document.documentElement}(i),l={placement:"bottom",maxHeight:e};if(!i||!i.offsetParent)return l;var c,u=h.getBoundingClientRect().height,d=i.getBoundingClientRect(),p=d.bottom,f=d.height,g=d.top,m=i.offsetParent.getBoundingClientRect().top,x=o||Pe(c=h)?window.innerHeight:c.clientHeight,b=Te(h),y=parseInt(getComputedStyle(i).marginBottom,10),_=parseInt(getComputedStyle(i).marginTop,10),v=m-_,w=x-g,A=v+b,S=u-b-g,M=p-x+b+y,k=b+g-_,C=160;switch(n){case"auto":case"bottom":if(w>=f)return{placement:"bottom",maxHeight:e};if(S>=f&&!o)return r&&Ee(h,M,C),{placement:"bottom",maxHeight:e};if(!o&&S>=s||o&&w>=s)return r&&Ee(h,M,C),{placement:"bottom",maxHeight:o?w-y:S-y};if("auto"===n||o){var P=e,T=o?v:A;return T>=s&&(P=Math.min(T-y-a,e)),{placement:"top",maxHeight:P}}if("bottom"===n)return r&&Oe(h,M),{placement:"bottom",maxHeight:e};break;case"top":if(v>=f)return{placement:"top",maxHeight:e};if(A>=f&&!o)return r&&Ee(h,k,C),{placement:"top",maxHeight:e};if(!o&&A>=s||o&&v>=s){var O=e;return(!o&&A>=s||o&&v>=s)&&(O=o?v-_:A-_),r&&Ee(h,k,C),{placement:"top",maxHeight:O}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(n,'".'))}return l}({maxHeight:s,menuEl:t,minHeight:i,placement:n,shouldScroll:o&&!e,isFixedPosition:e,controlHeight:y});g(a.maxHeight),b(a.placement),null==l||l(a.placement)}}),[s,n,r,o,i,l,y]),e({ref:u,placerProps:a(a({},t),{},{placement:x||$e(n),maxHeight:f})})},Xe=function(t,e){var i=t.theme,s=i.spacing.baseUnit,n=i.colors;return a({textAlign:"center"},e?{}:{color:n.neutral40,padding:"".concat(2*s,"px ").concat(3*s,"px")})},qe=Xe,Ke=Xe,Ze=["size"],Qe=["innerProps","isRtl","size"],Je={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},ti=function(t){var e=t.size,i=u(t,Ze);return Yt("svg",g({height:e,width:e,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Je},i))},ei=function(t){return Yt(ti,g({size:20},t),Yt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},ii=function(t){return Yt(ti,g({size:20},t),Yt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},si=function(t,e){var i=t.isFocused,s=t.theme,n=s.spacing.baseUnit,r=s.colors;return a({label:"indicatorContainer",display:"flex",transition:"color 150ms"},e?{}:{color:i?r.neutral60:r.neutral20,padding:2*n,":hover":{color:i?r.neutral80:r.neutral40}})},ni=si,ri=si,oi=function(){var t=Xt.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(We||(je=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],Ue||(Ue=je.slice(0)),We=Object.freeze(Object.defineProperties(je,{raw:{value:Object.freeze(Ue)}})))),ai=function(t){var e=t.delay,i=t.offset;return Yt("span",{css:Xt({animation:"".concat(oi," 1s ease-in-out ").concat(e,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},hi=["data"],li=["innerRef","isDisabled","isHidden","inputClassName"],ci={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},ui={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":a({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},ci)},di=function(t){return a({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},ci)},pi=function(t){var e=t.children,i=t.innerProps;return Yt("div",i,e)},fi={ClearIndicator:function(t){var e=t.children,i=t.innerProps;return Yt("div",g({},Ce(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),e||Yt(ei,null))},Control:function(t){var e=t.children,i=t.isDisabled,s=t.isFocused,n=t.innerRef,r=t.innerProps,o=t.menuIsOpen;return Yt("div",g({ref:n},Ce(t,"control",{control:!0,"control--is-disabled":i,"control--is-focused":s,"control--menu-is-open":o}),r,{"aria-disabled":i||void 0}),e)},DropdownIndicator:function(t){var e=t.children,i=t.innerProps;return Yt("div",g({},Ce(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),e||Yt(ii,null))},DownChevron:ii,CrossIcon:ei,Group:function(t){var e=t.children,i=t.cx,s=t.getStyles,n=t.getClassNames,r=t.Heading,o=t.headingProps,a=t.innerProps,h=t.label,l=t.theme,c=t.selectProps;return Yt("div",g({},Ce(t,"group",{group:!0}),a),Yt(r,g({},o,{selectProps:c,theme:l,getStyles:s,getClassNames:n,cx:i}),h),Yt("div",null,e))},GroupHeading:function(t){var e=ke(t);e.data;var i=u(e,hi);return Yt("div",g({},Ce(t,"groupHeading",{"group-heading":!0}),i))},IndicatorsContainer:function(t){var e=t.children,i=t.innerProps;return Yt("div",g({},Ce(t,"indicatorsContainer",{indicators:!0}),i),e)},IndicatorSeparator:function(t){var e=t.innerProps;return Yt("span",g({},e,Ce(t,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(t){var e=t.cx,i=t.value,s=ke(t),n=s.innerRef,r=s.isDisabled,o=s.isHidden,a=s.inputClassName,h=u(s,li);return Yt("div",g({},Ce(t,"input",{"input-container":!0}),{"data-value":i||""}),Yt("input",g({className:e({input:!0},a),ref:n,style:di(o),disabled:r},h)))},LoadingIndicator:function(t){var e=t.innerProps,i=t.isRtl,s=t.size,n=void 0===s?4:s,r=u(t,Qe);return Yt("div",g({},Ce(a(a({},r),{},{innerProps:e,isRtl:i,size:n}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),e),Yt(ai,{delay:0,offset:i}),Yt(ai,{delay:160,offset:!0}),Yt(ai,{delay:320,offset:!i}))},Menu:function(t){var e=t.children,i=t.innerRef,s=t.innerProps;return Yt("div",g({},Ce(t,"menu",{menu:!0}),{ref:i},s),e)},MenuList:function(t){var e=t.children,i=t.innerProps,s=t.innerRef,n=t.isMulti;return Yt("div",g({},Ce(t,"menuList",{"menu-list":!0,"menu-list--is-multi":n}),{ref:s},i),e)},MenuPortal:function(t){var e=t.appendTo,i=t.children,s=t.controlElement,n=t.innerProps,r=t.menuPlacement,o=t.menuPosition,h=(0,d.useRef)(null),l=(0,d.useRef)(null),u=c((0,d.useState)($e(r)),2),p=u[0],f=u[1],m=(0,d.useMemo)((function(){return{setPortalPlacement:f}}),[]),x=c((0,d.useState)(null),2),b=x[0],y=x[1],_=(0,d.useCallback)((function(){if(s){var t=function(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}(s),e="fixed"===o?0:window.pageYOffset,i=t[p]+e;i===(null==b?void 0:b.offset)&&t.left===(null==b?void 0:b.rect.left)&&t.width===(null==b?void 0:b.rect.width)||y({offset:i,rect:t})}}),[s,o,p,null==b?void 0:b.offset,null==b?void 0:b.rect.left,null==b?void 0:b.rect.width]);_e((function(){_()}),[_]);var v=(0,d.useCallback)((function(){"function"==typeof l.current&&(l.current(),l.current=null),s&&h.current&&(l.current=function(t,e,i,s){void 0===s&&(s={});const{ancestorScroll:n=!0,ancestorResize:r=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:h=!1}=s,l=fe(t),c=n||r?[...l?de(l):[],...de(e)]:[];c.forEach((t=>{n&&t.addEventListener("scroll",i,{passive:!0}),r&&t.addEventListener("resize",i)}));const u=l&&a?function(t,e){let i,s=null;const n=ne(t);function r(){var t;clearTimeout(i),null==(t=s)||t.disconnect(),s=null}return function o(a,h){void 0===a&&(a=!1),void 0===h&&(h=1),r();const l=t.getBoundingClientRect(),{left:c,top:u,width:d,height:p}=l;if(a||e(),!d||!p)return;const f={rootMargin:-Jt(u)+"px "+-Jt(n.clientWidth-(c+d))+"px "+-Jt(n.clientHeight-(u+p))+"px "+-Jt(c)+"px",threshold:Zt(0,Kt(1,h))||1};let g=!0;function m(e){const s=e[0].intersectionRatio;if(s!==h){if(!g)return o();s?o(!1,s):i=setTimeout((()=>{o(!1,1e-7)}),1e3)}1!==s||ye(l,t.getBoundingClientRect())||o(),g=!1}try{s=new IntersectionObserver(m,{...f,root:n.ownerDocument})}catch(t){s=new IntersectionObserver(m,f)}s.observe(t)}(!0),r}(l,i):null;let d,p=-1,f=null;o&&(f=new ResizeObserver((t=>{let[s]=t;s&&s.target===l&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var t;null==(t=f)||t.observe(e)}))),i()})),l&&!h&&f.observe(l),f.observe(e));let g=h?be(t):null;return h&&function e(){const s=be(t);g&&!ye(g,s)&&i(),g=s,d=requestAnimationFrame(e)}(),i(),()=>{var t;c.forEach((t=>{n&&t.removeEventListener("scroll",i),r&&t.removeEventListener("resize",i)})),null==u||u(),null==(t=f)||t.disconnect(),f=null,h&&cancelAnimationFrame(d)}}(s,h.current,_,{elementResize:"ResizeObserver"in window}))}),[s,_]);_e((function(){v()}),[v]);var w=(0,d.useCallback)((function(t){h.current=t,v()}),[v]);if(!e&&"fixed"!==o||!b)return null;var A=Yt("div",g({ref:w},Ce(a(a({},t),{},{offset:b.offset,position:o,rect:b.rect}),"menuPortal",{"menu-portal":!0}),n),i);return Yt(Ge.Provider,{value:m},e?(0,qt.createPortal)(A,e):A)},LoadingMessage:function(t){var e=t.children,i=void 0===e?"Loading...":e,s=t.innerProps,n=u(t,Ne);return Yt("div",g({},Ce(a(a({},n),{},{children:i,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),i)},NoOptionsMessage:function(t){var e=t.children,i=void 0===e?"No options":e,s=t.innerProps,n=u(t,He);return Yt("div",g({},Ce(a(a({},n),{},{children:i,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),i)},MultiValue:function(t){var e=t.children,i=t.components,s=t.data,n=t.innerProps,r=t.isDisabled,o=t.removeProps,h=t.selectProps,l=i.Container,c=i.Label,u=i.Remove;return Yt(l,{data:s,innerProps:a(a({},Ce(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":r})),n),selectProps:h},Yt(c,{data:s,innerProps:a({},Ce(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:h},e),Yt(u,{data:s,innerProps:a(a({},Ce(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(e||"option")},o),selectProps:h}))},MultiValueContainer:pi,MultiValueLabel:pi,MultiValueRemove:function(t){var e=t.children,i=t.innerProps;return Yt("div",g({role:"button"},i),e||Yt(ei,{size:14}))},Option:function(t){var e=t.children,i=t.isDisabled,s=t.isFocused,n=t.isSelected,r=t.innerRef,o=t.innerProps;return Yt("div",g({},Ce(t,"option",{option:!0,"option--is-disabled":i,"option--is-focused":s,"option--is-selected":n}),{ref:r,"aria-disabled":i},o),e)},Placeholder:function(t){var e=t.children,i=t.innerProps;return Yt("div",g({},Ce(t,"placeholder",{placeholder:!0}),i),e)},SelectContainer:function(t){var e=t.children,i=t.innerProps,s=t.isDisabled,n=t.isRtl;return Yt("div",g({},Ce(t,"container",{"--is-disabled":s,"--is-rtl":n}),i),e)},SingleValue:function(t){var e=t.children,i=t.isDisabled,s=t.innerProps;return Yt("div",g({},Ce(t,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),s),e)},ValueContainer:function(t){var e=t.children,i=t.innerProps,s=t.isMulti,n=t.hasValue;return Yt("div",g({},Ce(t,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":n}),i),e)}},gi=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function mi(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!((s=t[i])===(n=e[i])||gi(s)&&gi(n)))return!1;var s,n;return!0}for(var xi={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},bi=function(t){return Yt("span",g({css:xi},t))},yi={guidance:function(t){var e=t.isSearchable,i=t.isMulti,s=t.tabSelectsValue,n=t.context,r=t.isInitialFocus;switch(n){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return r?"".concat(t["aria-label"]||"Select"," is focused ").concat(e?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var e=t.action,i=t.label,s=void 0===i?"":i,n=t.labels,r=t.isDisabled;switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(n.length>1?"s":""," ").concat(n.join(","),", selected.");case"select-option":return"option ".concat(s,r?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(t){var e=t.context,i=t.focused,s=t.options,n=t.label,r=void 0===n?"":n,o=t.selectValue,a=t.isDisabled,h=t.isSelected,l=t.isAppleDevice,c=function(t,e){return t&&t.length?"".concat(t.indexOf(e)+1," of ").concat(t.length):""};if("value"===e&&o)return"value ".concat(r," focused, ").concat(c(o,i),".");if("menu"===e&&l){var u=a?" disabled":"",d="".concat(h?" selected":"").concat(u);return"".concat(r).concat(d,", ").concat(c(s,i),".")}return""},onFilter:function(t){var e=t.inputValue,i=t.resultsMessage;return"".concat(i).concat(e?" for search term "+e:"",".")}},_i=function(t){var e=t.ariaSelection,i=t.focusedOption,s=t.focusedValue,n=t.focusableOptions,r=t.isFocused,o=t.selectValue,h=t.selectProps,l=t.id,c=t.isAppleDevice,u=h.ariaLiveMessages,p=h.getOptionLabel,f=h.inputValue,g=h.isMulti,m=h.isOptionDisabled,x=h.isSearchable,b=h.menuIsOpen,y=h.options,_=h.screenReaderStatus,v=h.tabSelectsValue,w=h.isLoading,A=h["aria-label"],S=h["aria-live"],M=(0,d.useMemo)((function(){return a(a({},yi),u||{})}),[u]),k=(0,d.useMemo)((function(){var t,i="";if(e&&M.onChange){var s=e.option,n=e.options,r=e.removedValue,h=e.removedValues,l=e.value,c=r||s||(t=l,Array.isArray(t)?null:t),u=c?p(c):"",d=n||h||void 0,f=d?d.map(p):[],g=a({isDisabled:c&&m(c,o),label:u,labels:f},e);i=M.onChange(g)}return i}),[e,M,m,o,p]),C=(0,d.useMemo)((function(){var t="",e=i||s,r=!!(i&&o&&o.includes(i));if(e&&M.onFocus){var a={focused:e,label:p(e),isDisabled:m(e,o),isSelected:r,options:n,context:e===i?"menu":"value",selectValue:o,isAppleDevice:c};t=M.onFocus(a)}return t}),[i,s,p,m,M,n,o,c]),P=(0,d.useMemo)((function(){var t="";if(b&&y.length&&!w&&M.onFilter){var e=_({count:n.length});t=M.onFilter({inputValue:f,resultsMessage:e})}return t}),[n,f,b,M,y,_,w]),T="initial-input-focus"===(null==e?void 0:e.action),O=(0,d.useMemo)((function(){var t="";if(M.guidance){var e=s?"value":b?"menu":"input";t=M.guidance({"aria-label":A,context:e,isDisabled:i&&m(i,o),isMulti:g,isSearchable:x,tabSelectsValue:v,isInitialFocus:T})}return t}),[A,i,s,g,m,x,b,M,o,v,T]),E=Yt(d.Fragment,null,Yt("span",{id:"aria-selection"},k),Yt("span",{id:"aria-focused"},C),Yt("span",{id:"aria-results"},P),Yt("span",{id:"aria-guidance"},O));return Yt(d.Fragment,null,Yt(bi,{id:l},T&&E),Yt(bi,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},r&&!T&&E))},vi=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],wi=new RegExp("["+vi.map((function(t){return t.letters})).join("")+"]","g"),Ai={},Si=0;Si<vi.length;Si++)for(var Mi=vi[Si],ki=0;ki<Mi.letters.length;ki++)Ai[Mi.letters[ki]]=Mi.base;var Ci=function(t){return t.replace(wi,(function(t){return Ai[t]}))},Pi=function(t,e){void 0===e&&(e=mi);var i=null;function s(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];if(i&&i.lastThis===this&&e(s,i.lastArgs))return i.lastResult;var r=t.apply(this,s);return i={lastResult:r,lastArgs:s,lastThis:this},r}return s.clear=function(){i=null},s}(Ci),Ti=function(t){return t.replace(/^\s+|\s+$/g,"")},Oi=function(t){return"".concat(t.label," ").concat(t.value)},Ei=["innerRef"];function Ii(t){var e=t.innerRef,i=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];var n=Object.entries(t).filter((function(t){var e=c(t,1)[0];return!i.includes(e)}));return n.reduce((function(t,e){var i=c(e,2),s=i[0],n=i[1];return t[s]=n,t}),{})}(u(t,Ei),"onExited","in","enter","exit","appear");return Yt("input",g({ref:e},i,{css:Xt({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Ri=["boxSizing","height","overflow","paddingRight","position"],Fi={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Li(t){t.cancelable&&t.preventDefault()}function Di(t){t.stopPropagation()}function Bi(){var t=this.scrollTop,e=this.scrollHeight,i=t+this.offsetHeight;0===t?this.scrollTop=1:i===e&&(this.scrollTop=t-1)}function zi(){return"ontouchstart"in window||navigator.maxTouchPoints}var Vi=!("undefined"==typeof window||!window.document||!window.document.createElement),Hi=0,Ni={capture:!1,passive:!1},Wi=function(t){var e=t.target;return e.ownerDocument.activeElement&&e.ownerDocument.activeElement.blur()},ji={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Ui(t){var e=t.children,i=t.lockEnabled,s=t.captureEnabled,n=function(t){var e=t.isEnabled,i=t.onBottomArrive,s=t.onBottomLeave,n=t.onTopArrive,r=t.onTopLeave,o=(0,d.useRef)(!1),a=(0,d.useRef)(!1),h=(0,d.useRef)(0),l=(0,d.useRef)(null),c=(0,d.useCallback)((function(t,e){if(null!==l.current){var h=l.current,c=h.scrollTop,u=h.scrollHeight,d=h.clientHeight,p=l.current,f=e>0,g=u-d-c,m=!1;g>e&&o.current&&(s&&s(t),o.current=!1),f&&a.current&&(r&&r(t),a.current=!1),f&&e>g?(i&&!o.current&&i(t),p.scrollTop=u,m=!0,o.current=!0):!f&&-e>c&&(n&&!a.current&&n(t),p.scrollTop=0,m=!0,a.current=!0),m&&function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()}(t)}}),[i,s,n,r]),u=(0,d.useCallback)((function(t){c(t,t.deltaY)}),[c]),p=(0,d.useCallback)((function(t){h.current=t.changedTouches[0].clientY}),[]),f=(0,d.useCallback)((function(t){var e=h.current-t.changedTouches[0].clientY;c(t,e)}),[c]),g=(0,d.useCallback)((function(t){if(t){var e=!!Be&&{passive:!1};t.addEventListener("wheel",u,e),t.addEventListener("touchstart",p,e),t.addEventListener("touchmove",f,e)}}),[f,p,u]),m=(0,d.useCallback)((function(t){t&&(t.removeEventListener("wheel",u,!1),t.removeEventListener("touchstart",p,!1),t.removeEventListener("touchmove",f,!1))}),[f,p,u]);return(0,d.useEffect)((function(){if(e){var t=l.current;return g(t),function(){m(t)}}}),[e,g,m]),function(t){l.current=t}}({isEnabled:void 0===s||s,onBottomArrive:t.onBottomArrive,onBottomLeave:t.onBottomLeave,onTopArrive:t.onTopArrive,onTopLeave:t.onTopLeave}),r=function(t){var e=t.isEnabled,i=t.accountForScrollbars,s=void 0===i||i,n=(0,d.useRef)({}),r=(0,d.useRef)(null),o=(0,d.useCallback)((function(t){if(Vi){var e=document.body,i=e&&e.style;if(s&&Ri.forEach((function(t){var e=i&&i[t];n.current[t]=e})),s&&Hi<1){var r=parseInt(n.current.paddingRight,10)||0,o=document.body?document.body.clientWidth:0,a=window.innerWidth-o+r||0;Object.keys(Fi).forEach((function(t){var e=Fi[t];i&&(i[t]=e)})),i&&(i.paddingRight="".concat(a,"px"))}e&&zi()&&(e.addEventListener("touchmove",Li,Ni),t&&(t.addEventListener("touchstart",Bi,Ni),t.addEventListener("touchmove",Di,Ni))),Hi+=1}}),[s]),a=(0,d.useCallback)((function(t){if(Vi){var e=document.body,i=e&&e.style;Hi=Math.max(Hi-1,0),s&&Hi<1&&Ri.forEach((function(t){var e=n.current[t];i&&(i[t]=e)})),e&&zi()&&(e.removeEventListener("touchmove",Li,Ni),t&&(t.removeEventListener("touchstart",Bi,Ni),t.removeEventListener("touchmove",Di,Ni)))}}),[s]);return(0,d.useEffect)((function(){if(e){var t=r.current;return o(t),function(){a(t)}}}),[e,o,a]),function(t){r.current=t}}({isEnabled:i});return Yt(d.Fragment,null,i&&Yt("div",{onClick:Wi,css:ji}),e((function(t){n(t),r(t)})))}var $i={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Gi=function(t){var e=t.name,i=t.onFocus;return Yt("input",{required:!0,name:e,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:$i,value:"",onChange:function(){}})};function Yi(t){var e;return"undefined"!=typeof window&&null!=window.navigator&&t.test((null===(e=window.navigator.userAgentData)||void 0===e?void 0:e.platform)||window.navigator.platform)}function Xi(){return Yi(/^Mac/i)}var qi={clearIndicator:ri,container:function(t){var e=t.isDisabled;return{label:"container",direction:t.isRtl?"rtl":void 0,pointerEvents:e?"none":void 0,position:"relative"}},control:function(t,e){var i=t.isDisabled,s=t.isFocused,n=t.theme,r=n.colors,o=n.borderRadius;return a({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:n.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},e?{}:{backgroundColor:i?r.neutral5:r.neutral0,borderColor:i?r.neutral10:s?r.primary:r.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(r.primary):void 0,"&:hover":{borderColor:s?r.primary:r.neutral30}})},dropdownIndicator:ni,group:function(t,e){var i=t.theme.spacing;return e?{}:{paddingBottom:2*i.baseUnit,paddingTop:2*i.baseUnit}},groupHeading:function(t,e){var i=t.theme,s=i.colors,n=i.spacing;return a({label:"group",cursor:"default",display:"block"},e?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*n.baseUnit,paddingRight:3*n.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(t,e){var i=t.isDisabled,s=t.theme,n=s.spacing.baseUnit,r=s.colors;return a({label:"indicatorSeparator",alignSelf:"stretch",width:1},e?{}:{backgroundColor:i?r.neutral10:r.neutral20,marginBottom:2*n,marginTop:2*n})},input:function(t,e){var i=t.isDisabled,s=t.value,n=t.theme,r=n.spacing,o=n.colors;return a(a({visibility:i?"hidden":"visible",transform:s?"translateZ(0)":""},ui),e?{}:{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,color:o.neutral80})},loadingIndicator:function(t,e){var i=t.isFocused,s=t.size,n=t.theme,r=n.colors,o=n.spacing.baseUnit;return a({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},e?{}:{color:i?r.neutral60:r.neutral20,padding:2*o})},loadingMessage:Ke,menu:function(t,e){var i,s=t.placement,n=t.theme,o=n.borderRadius,h=n.spacing,l=n.colors;return a((r(i={label:"menu"},function(t){return t?{bottom:"top",top:"bottom"}[t]:"bottom"}(s),"100%"),r(i,"position","absolute"),r(i,"width","100%"),r(i,"zIndex",1),i),e?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:h.menuGutter,marginTop:h.menuGutter})},menuList:function(t,e){var i=t.maxHeight,s=t.theme.spacing.baseUnit;return a({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},e?{}:{paddingBottom:s,paddingTop:s})},menuPortal:function(t){var e=t.rect,i=t.offset,s=t.position;return{left:e.left,position:s,top:i,width:e.width,zIndex:1}},multiValue:function(t,e){var i=t.theme,s=i.spacing,n=i.borderRadius,r=i.colors;return a({label:"multiValue",display:"flex",minWidth:0},e?{}:{backgroundColor:r.neutral10,borderRadius:n/2,margin:s.baseUnit/2})},multiValueLabel:function(t,e){var i=t.theme,s=i.borderRadius,n=i.colors,r=t.cropWithEllipsis;return a({overflow:"hidden",textOverflow:r||void 0===r?"ellipsis":void 0,whiteSpace:"nowrap"},e?{}:{borderRadius:s/2,color:n.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(t,e){var i=t.theme,s=i.spacing,n=i.borderRadius,r=i.colors,o=t.isFocused;return a({alignItems:"center",display:"flex"},e?{}:{borderRadius:n/2,backgroundColor:o?r.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:r.dangerLight,color:r.danger}})},noOptionsMessage:qe,option:function(t,e){var i=t.isDisabled,s=t.isFocused,n=t.isSelected,r=t.theme,o=r.spacing,h=r.colors;return a({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},e?{}:{backgroundColor:n?h.primary:s?h.primary25:"transparent",color:i?h.neutral20:n?h.neutral0:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),":active":{backgroundColor:i?void 0:n?h.primary:h.primary50}})},placeholder:function(t,e){var i=t.theme,s=i.spacing,n=i.colors;return a({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},e?{}:{color:n.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},singleValue:function(t,e){var i=t.isDisabled,s=t.theme,n=s.spacing,r=s.colors;return a({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e?{}:{color:i?r.neutral40:r.neutral80,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2})},valueContainer:function(t,e){var i=t.theme.spacing,s=t.isMulti,n=t.hasValue,r=t.selectProps.controlShouldRenderValue;return a({alignItems:"center",display:s&&n&&r?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},e?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(2*i.baseUnit,"px")})}},Ki={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Zi={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Re(),captureMenuScroll:!Re(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(t,e){if(t.data.__isNew__)return!0;var i=a({ignoreCase:!0,ignoreAccents:!0,stringify:Oi,trim:!0,matchFrom:"any"},undefined),s=i.ignoreCase,n=i.ignoreAccents,r=i.stringify,o=i.trim,h=i.matchFrom,l=o?Ti(e):e,c=o?Ti(r(t)):r(t);return s&&(l=l.toLowerCase(),c=c.toLowerCase()),n&&(l=Pi(l),c=Ci(c)),"start"===h?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(t){return t.label},getOptionLabel:function(t){return t.label},getOptionValue:function(t){return t.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(t){return!!t.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(t){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var e=t.count;return"".concat(e," result").concat(1!==e?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Qi(t,e,i,s){return{type:"option",data:e,isDisabled:os(t,e,i),isSelected:as(t,e,i),label:ns(t,e),value:rs(t,e),index:s}}function Ji(t,e){return t.options.map((function(i,s){if("options"in i){var n=i.options.map((function(i,s){return Qi(t,i,e,s)})).filter((function(e){return is(t,e)}));return n.length>0?{type:"group",data:i,options:n,index:s}:void 0}var r=Qi(t,i,e,s);return is(t,r)?r:void 0})).filter(ze)}function ts(t){return t.reduce((function(t,e){return"group"===e.type?t.push.apply(t,_(e.options.map((function(t){return t.data})))):t.push(e.data),t}),[])}function es(t,e){return t.reduce((function(t,i){return"group"===i.type?t.push.apply(t,_(i.options.map((function(t){return{data:t.data,id:"".concat(e,"-").concat(i.index,"-").concat(t.index)}})))):t.push({data:i.data,id:"".concat(e,"-").concat(i.index)}),t}),[])}function is(t,e){var i=t.inputValue,s=void 0===i?"":i,n=e.data,r=e.isSelected,o=e.label,a=e.value;return(!ls(t)||!r)&&hs(t,{label:o,value:a,data:n},s)}var ss=function(t,e){var i;return(null===(i=t.find((function(t){return t.data===e})))||void 0===i?void 0:i.id)||null},ns=function(t,e){return t.getOptionLabel(e)},rs=function(t,e){return t.getOptionValue(e)};function os(t,e,i){return"function"==typeof t.isOptionDisabled&&t.isOptionDisabled(e,i)}function as(t,e,i){if(i.indexOf(e)>-1)return!0;if("function"==typeof t.isOptionSelected)return t.isOptionSelected(e,i);var s=rs(t,e);return i.some((function(e){return rs(t,e)===s}))}function hs(t,e,i){return!t.filterOption||t.filterOption(e,i)}var ls=function(t){var e=t.hideSelectedOptions,i=t.isMulti;return void 0===e?i:e},cs=1,us=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(i,t);var e=function(t){var e=y();return function(){var i,n=b(t);if(e){var r=b(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return function(t,e){if(e&&("object"==s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}(i);function i(t){var s;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(s=e.call(this,t)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=Xi()||Yi(/^iPhone/i)||Yi(/^iPad/i)||Xi()&&navigator.maxTouchPoints>1,s.controlRef=null,s.getControlRef=function(t){s.controlRef=t},s.focusedOptionRef=null,s.getFocusedOptionRef=function(t){s.focusedOptionRef=t},s.menuListRef=null,s.getMenuListRef=function(t){s.menuListRef=t},s.inputRef=null,s.getInputRef=function(t){s.inputRef=t},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(t,e){var i=s.props,n=i.onChange,r=i.name;e.name=r,s.ariaOnChange(t,e),n(t,e)},s.setValue=function(t,e,i){var n=s.props,r=n.closeMenuOnSelect,o=n.isMulti,a=n.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:a}),r&&(s.setState({inputIsHiddenAfterUpdate:!o}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(t,{action:e,option:i})},s.selectOption=function(t){var e=s.props,i=e.blurInputOnSelect,n=e.isMulti,r=e.name,o=s.state.selectValue,a=n&&s.isOptionSelected(t,o),h=s.isOptionDisabled(t,o);if(a){var l=s.getOptionValue(t);s.setValue(o.filter((function(t){return s.getOptionValue(t)!==l})),"deselect-option",t)}else{if(h)return void s.ariaOnChange(t,{action:"select-option",option:t,name:r});n?s.setValue([].concat(_(o),[t]),"select-option",t):s.setValue(t,"select-option")}i&&s.blurInput()},s.removeValue=function(t){var e=s.props.isMulti,i=s.state.selectValue,n=s.getOptionValue(t),r=i.filter((function(t){return s.getOptionValue(t)!==n})),o=Ve(e,r,r[0]||null);s.onChange(o,{action:"remove-value",removedValue:t}),s.focusInput()},s.clearValue=function(){var t=s.state.selectValue;s.onChange(Ve(s.props.isMulti,[],null),{action:"clear",removedValues:t})},s.popValue=function(){var t=s.props.isMulti,e=s.state.selectValue,i=e[e.length-1],n=e.slice(0,e.length-1),r=Ve(t,n,n[0]||null);i&&s.onChange(r,{action:"pop-value",removedValue:i})},s.getFocusedOptionId=function(t){return ss(s.state.focusableOptionsWithIds,t)},s.getFocusableOptionsWithIds=function(){return es(Ji(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Se.apply(void 0,[s.props.classNamePrefix].concat(e))},s.getOptionLabel=function(t){return ns(s.props,t)},s.getOptionValue=function(t){return rs(s.props,t)},s.getStyles=function(t,e){var i=s.props.unstyled,n=qi[t](e,i);n.boxSizing="border-box";var r=s.props.styles[t];return r?r(n,e):n},s.getClassNames=function(t,e){var i,n;return null===(i=(n=s.props.classNames)[t])||void 0===i?void 0:i.call(n,e)},s.getElementId=function(t){return"".concat(s.state.instancePrefix,"-").concat(t)},s.getComponents=function(){return t=s.props,a(a({},fi),t.components);var t},s.buildCategorizedOptions=function(){return Ji(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return ts(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(t,e){s.setState({ariaSelection:a({value:t},e)})},s.onMenuMouseDown=function(t){0===t.button&&(t.stopPropagation(),t.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(t){s.blockOptionHover=!1},s.onControlMouseDown=function(t){if(!t.defaultPrevented){var e=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&s.onMenuClose():e&&s.openMenu("first"):(e&&(s.openAfterFocus=!0),s.focusInput()),"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&t.preventDefault()}},s.onDropdownIndicatorMouseDown=function(t){if(!(t&&"mousedown"===t.type&&0!==t.button||s.props.isDisabled)){var e=s.props,i=e.isMulti,n=e.menuIsOpen;s.focusInput(),n?(s.setState({inputIsHiddenAfterUpdate:!i}),s.onMenuClose()):s.openMenu("first"),t.preventDefault()}},s.onClearIndicatorMouseDown=function(t){t&&"mousedown"===t.type&&0!==t.button||(s.clearValue(),t.preventDefault(),s.openAfterFocus=!1,"touchend"===t.type?s.focusInput():setTimeout((function(){return s.focusInput()})))},s.onScroll=function(t){"boolean"==typeof s.props.closeMenuOnScroll?t.target instanceof HTMLElement&&Pe(t.target)&&s.props.onMenuClose():"function"==typeof s.props.closeMenuOnScroll&&s.props.closeMenuOnScroll(t)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(t){var e=t.touches,i=e&&e.item(0);i&&(s.initialTouchX=i.clientX,s.initialTouchY=i.clientY,s.userIsDragging=!1)},s.onTouchMove=function(t){var e=t.touches,i=e&&e.item(0);if(i){var n=Math.abs(i.clientX-s.initialTouchX),r=Math.abs(i.clientY-s.initialTouchY);s.userIsDragging=n>5||r>5}},s.onTouchEnd=function(t){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(t.target)&&s.menuListRef&&!s.menuListRef.contains(t.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(t){s.userIsDragging||s.onControlMouseDown(t)},s.onClearIndicatorTouchEnd=function(t){s.userIsDragging||s.onClearIndicatorMouseDown(t)},s.onDropdownIndicatorTouchEnd=function(t){s.userIsDragging||s.onDropdownIndicatorMouseDown(t)},s.handleInputChange=function(t){var e=s.props.inputValue,i=t.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(i,{action:"input-change",prevInputValue:e}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(t){s.props.onFocus&&s.props.onFocus(t),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(t){var e=s.props.inputValue;s.menuListRef&&s.menuListRef.contains(document.activeElement)?s.inputRef.focus():(s.props.onBlur&&s.props.onBlur(t),s.onInputChange("",{action:"input-blur",prevInputValue:e}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1}))},s.onOptionHover=function(t){if(!s.blockOptionHover&&s.state.focusedOption!==t){var e=s.getFocusableOptions().indexOf(t);s.setState({focusedOption:t,focusedOptionId:e>-1?s.getFocusedOptionId(t):null})}},s.shouldHideSelectedOptions=function(){return ls(s.props)},s.onValueInputFocus=function(t){t.preventDefault(),t.stopPropagation(),s.focus()},s.onKeyDown=function(t){var e=s.props,i=e.isMulti,n=e.backspaceRemovesValue,r=e.escapeClearsValue,o=e.inputValue,a=e.isClearable,h=e.isDisabled,l=e.menuIsOpen,c=e.onKeyDown,u=e.tabSelectsValue,d=e.openMenuOnFocus,p=s.state,f=p.focusedOption,g=p.focusedValue,m=p.selectValue;if(!(h||"function"==typeof c&&(c(t),t.defaultPrevented))){switch(s.blockOptionHover=!0,t.key){case"ArrowLeft":if(!i||o)return;s.focusValue("previous");break;case"ArrowRight":if(!i||o)return;s.focusValue("next");break;case"Delete":case"Backspace":if(o)return;if(g)s.removeValue(g);else{if(!n)return;i?s.popValue():a&&s.clearValue()}break;case"Tab":if(s.isComposing)return;if(t.shiftKey||!l||!u||!f||d&&s.isOptionSelected(f,m))return;s.selectOption(f);break;case"Enter":if(229===t.keyCode)break;if(l){if(!f)return;if(s.isComposing)return;s.selectOption(f);break}return;case"Escape":l?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:o}),s.onMenuClose()):a&&r&&s.clearValue();break;case" ":if(o)return;if(!l){s.openMenu("first");break}if(!f)return;s.selectOption(f);break;case"ArrowUp":l?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":l?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!l)return;s.focusOption("pageup");break;case"PageDown":if(!l)return;s.focusOption("pagedown");break;case"Home":if(!l)return;s.focusOption("first");break;case"End":if(!l)return;s.focusOption("last");break;default:return}t.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++cs),s.state.selectValue=Me(t.value),t.menuIsOpen&&s.state.selectValue.length){var n=s.getFocusableOptionsWithIds(),r=s.buildFocusableOptions(),o=r.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=n,s.state.focusedOption=r[o],s.state.focusedOptionId=ss(n,r[o])}return s}return function(t,e,i){e&&m(t.prototype,e),i&&m(t,i),Object.defineProperty(t,"prototype",{writable:!1})}(i,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Ie(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(t){var e=this.props,i=e.isDisabled,s=e.menuIsOpen,n=this.state.isFocused;(n&&!i&&t.isDisabled||n&&s&&!t.menuIsOpen)&&this.focusInput(),n&&i&&!t.isDisabled?this.setState({isFocused:!1},this.onMenuClose):n||i||!t.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Ie(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(t,e){this.props.onInputChange(t,e)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(t){var e=this,i=this.state,s=i.selectValue,n=i.isFocused,r=this.buildFocusableOptions(),o="first"===t?0:r.length-1;if(!this.props.isMulti){var a=r.indexOf(s[0]);a>-1&&(o=a)}this.scrollToFocusedOptionOnUpdate=!(n&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:r[o],focusedOptionId:this.getFocusedOptionId(r[o])},(function(){return e.onMenuOpen()}))}},{key:"focusValue",value:function(t){var e=this.state,i=e.selectValue,s=e.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var n=i.indexOf(s);s||(n=-1);var r=i.length-1,o=-1;if(i.length){switch(t){case"previous":o=0===n?0:-1===n?r:n-1;break;case"next":n>-1&&n<r&&(o=n+1)}this.setState({inputIsHidden:-1!==o,focusedValue:i[o]})}}}},{key:"focusOption",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",e=this.props.pageSize,i=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var n=0,r=s.indexOf(i);i||(r=-1),"up"===t?n=r>0?r-1:s.length-1:"down"===t?n=(r+1)%s.length:"pageup"===t?(n=r-e)<0&&(n=0):"pagedown"===t?(n=r+e)>s.length-1&&(n=s.length-1):"last"===t&&(n=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[n],focusedValue:null,focusedOptionId:this.getFocusedOptionId(s[n])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Ki):a(a({},Ki),this.props.theme):Ki}},{key:"getCommonProps",value:function(){var t=this.clearValue,e=this.cx,i=this.getStyles,s=this.getClassNames,n=this.getValue,r=this.selectOption,o=this.setValue,a=this.props,h=a.isMulti,l=a.isRtl,c=a.options;return{clearValue:t,cx:e,getStyles:i,getClassNames:s,getValue:n,hasValue:this.hasValue(),isMulti:h,isRtl:l,options:c,selectOption:r,selectProps:a,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var t=this.props,e=t.isClearable,i=t.isMulti;return void 0===e?i:e}},{key:"isOptionDisabled",value:function(t,e){return os(this.props,t,e)}},{key:"isOptionSelected",value:function(t,e){return as(this.props,t,e)}},{key:"filterOption",value:function(t,e){return hs(this.props,t,e)}},{key:"formatOptionLabel",value:function(t,e){if("function"==typeof this.props.formatOptionLabel){var i=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(t,{context:e,inputValue:i,selectValue:s})}return this.getOptionLabel(t)}},{key:"formatGroupLabel",value:function(t){return this.props.formatGroupLabel(t)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var t=this.props,e=t.isDisabled,i=t.isSearchable,s=t.inputId,n=t.inputValue,r=t.tabIndex,o=t.form,h=t.menuIsOpen,l=t.required,c=this.getComponents().Input,u=this.state,p=u.inputIsHidden,f=u.ariaSelection,m=this.commonProps,x=s||this.getElementId("input"),b=a(a(a({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":l,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==f?void 0:f.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?d.createElement(c,g({},m,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:x,innerRef:this.getInputRef,isDisabled:e,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:r,form:o,type:"text",value:n},b)):d.createElement(Ii,g({id:x,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:we,onFocus:this.onInputFocus,disabled:e,tabIndex:r,inputMode:"none",form:o,value:""},b))}},{key:"renderPlaceholderOrValue",value:function(){var t=this,e=this.getComponents(),i=e.MultiValue,s=e.MultiValueContainer,n=e.MultiValueLabel,r=e.MultiValueRemove,o=e.SingleValue,a=e.Placeholder,h=this.commonProps,l=this.props,c=l.controlShouldRenderValue,u=l.isDisabled,p=l.isMulti,f=l.inputValue,m=l.placeholder,x=this.state,b=x.selectValue,y=x.focusedValue,_=x.isFocused;if(!this.hasValue()||!c)return f?null:d.createElement(a,g({},h,{key:"placeholder",isDisabled:u,isFocused:_,innerProps:{id:this.getElementId("placeholder")}}),m);if(p)return b.map((function(e,o){var a=e===y,l="".concat(t.getOptionLabel(e),"-").concat(t.getOptionValue(e));return d.createElement(i,g({},h,{components:{Container:s,Label:n,Remove:r},isFocused:a,isDisabled:u,key:l,index:o,removeProps:{onClick:function(){return t.removeValue(e)},onTouchEnd:function(){return t.removeValue(e)},onMouseDown:function(t){t.preventDefault()}},data:e}),t.formatOptionLabel(e,"value"))}));if(f)return null;var v=b[0];return d.createElement(o,g({},h,{data:v,isDisabled:u}),this.formatOptionLabel(v,"value"))}},{key:"renderClearIndicator",value:function(){var t=this.getComponents().ClearIndicator,e=this.commonProps,i=this.props,s=i.isDisabled,n=i.isLoading,r=this.state.isFocused;if(!this.isClearable()||!t||s||!this.hasValue()||n)return null;var o={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return d.createElement(t,g({},e,{innerProps:o,isFocused:r}))}},{key:"renderLoadingIndicator",value:function(){var t=this.getComponents().LoadingIndicator,e=this.commonProps,i=this.props,s=i.isDisabled,n=i.isLoading,r=this.state.isFocused;return t&&n?d.createElement(t,g({},e,{innerProps:{"aria-hidden":"true"},isDisabled:s,isFocused:r})):null}},{key:"renderIndicatorSeparator",value:function(){var t=this.getComponents(),e=t.DropdownIndicator,i=t.IndicatorSeparator;if(!e||!i)return null;var s=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused;return d.createElement(i,g({},s,{isDisabled:n,isFocused:r}))}},{key:"renderDropdownIndicator",value:function(){var t=this.getComponents().DropdownIndicator;if(!t)return null;var e=this.commonProps,i=this.props.isDisabled,s=this.state.isFocused,n={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return d.createElement(t,g({},e,{innerProps:n,isDisabled:i,isFocused:s}))}},{key:"renderMenu",value:function(){var t=this,e=this.getComponents(),i=e.Group,s=e.GroupHeading,n=e.Menu,r=e.MenuList,o=e.MenuPortal,a=e.LoadingMessage,h=e.NoOptionsMessage,l=e.Option,c=this.commonProps,u=this.state.focusedOption,p=this.props,f=p.captureMenuScroll,m=p.inputValue,x=p.isLoading,b=p.loadingMessage,y=p.minMenuHeight,_=p.maxMenuHeight,v=p.menuIsOpen,w=p.menuPlacement,A=p.menuPosition,S=p.menuPortalTarget,M=p.menuShouldBlockScroll,k=p.menuShouldScrollIntoView,C=p.noOptionsMessage,P=p.onMenuScrollToTop,T=p.onMenuScrollToBottom;if(!v)return null;var O,E=function(e,i){var s=e.type,n=e.data,r=e.isDisabled,o=e.isSelected,a=e.label,h=e.value,p=u===n,f=r?void 0:function(){return t.onOptionHover(n)},m=r?void 0:function(){return t.selectOption(n)},x="".concat(t.getElementId("option"),"-").concat(i),b={id:x,onClick:m,onMouseMove:f,onMouseOver:f,tabIndex:-1,role:"option","aria-selected":t.isAppleDevice?void 0:o};return d.createElement(l,g({},c,{innerProps:b,data:n,isDisabled:r,isSelected:o,key:x,label:a,type:s,value:h,isFocused:p,innerRef:p?t.getFocusedOptionRef:void 0}),t.formatOptionLabel(e.data,"menu"))};if(this.hasOptions())O=this.getCategorizedOptions().map((function(e){if("group"===e.type){var n=e.data,r=e.options,o=e.index,a="".concat(t.getElementId("group"),"-").concat(o),h="".concat(a,"-heading");return d.createElement(i,g({},c,{key:a,data:n,options:r,Heading:s,headingProps:{id:h,data:e.data},label:t.formatGroupLabel(e.data)}),e.options.map((function(t){return E(t,"".concat(o,"-").concat(t.index))})))}if("option"===e.type)return E(e,"".concat(e.index))}));else if(x){var I=b({inputValue:m});if(null===I)return null;O=d.createElement(a,c,I)}else{var R=C({inputValue:m});if(null===R)return null;O=d.createElement(h,c,R)}var F={minMenuHeight:y,maxMenuHeight:_,menuPlacement:w,menuPosition:A,menuShouldScrollIntoView:k},L=d.createElement(Ye,g({},c,F),(function(e){var i=e.ref,s=e.placerProps,o=s.placement,a=s.maxHeight;return d.createElement(n,g({},c,F,{innerRef:i,innerProps:{onMouseDown:t.onMenuMouseDown,onMouseMove:t.onMenuMouseMove},isLoading:x,placement:o}),d.createElement(Ui,{captureEnabled:f,onTopArrive:P,onBottomArrive:T,lockEnabled:M},(function(e){return d.createElement(r,g({},c,{innerRef:function(i){t.getMenuListRef(i),e(i)},innerProps:{role:"listbox","aria-multiselectable":c.isMulti,id:t.getElementId("listbox")},isLoading:x,maxHeight:a,focusedOption:u}),O)})))}));return S||"fixed"===A?d.createElement(o,g({},c,{appendTo:S,controlElement:this.controlRef,menuPlacement:w,menuPosition:A}),L):L}},{key:"renderFormField",value:function(){var t=this,e=this.props,i=e.delimiter,s=e.isDisabled,n=e.isMulti,r=e.name,o=e.required,a=this.state.selectValue;if(o&&!this.hasValue()&&!s)return d.createElement(Gi,{name:r,onFocus:this.onValueInputFocus});if(r&&!s){if(n){if(i){var h=a.map((function(e){return t.getOptionValue(e)})).join(i);return d.createElement("input",{name:r,type:"hidden",value:h})}var l=a.length>0?a.map((function(e,i){return d.createElement("input",{key:"i-".concat(i),name:r,type:"hidden",value:t.getOptionValue(e)})})):d.createElement("input",{name:r,type:"hidden",value:""});return d.createElement("div",null,l)}var c=a[0]?this.getOptionValue(a[0]):"";return d.createElement("input",{name:r,type:"hidden",value:c})}}},{key:"renderLiveRegion",value:function(){var t=this.commonProps,e=this.state,i=e.ariaSelection,s=e.focusedOption,n=e.focusedValue,r=e.isFocused,o=e.selectValue,a=this.getFocusableOptions();return d.createElement(_i,g({},t,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:s,focusedValue:n,isFocused:r,selectValue:o,focusableOptions:a,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var t=this.getComponents(),e=t.Control,i=t.IndicatorsContainer,s=t.SelectContainer,n=t.ValueContainer,r=this.props,o=r.className,a=r.id,h=r.isDisabled,l=r.menuIsOpen,c=this.state.isFocused,u=this.commonProps=this.getCommonProps();return d.createElement(s,g({},u,{className:o,innerProps:{id:a,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:c}),this.renderLiveRegion(),d.createElement(e,g({},u,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:c,menuIsOpen:l}),d.createElement(n,g({},u,{isDisabled:h}),this.renderPlaceholderOrValue(),this.renderInput()),d.createElement(i,g({},u,{isDisabled:h}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(t,e){var i=e.prevProps,s=e.clearFocusValueOnUpdate,n=e.inputIsHiddenAfterUpdate,r=e.ariaSelection,o=e.isFocused,h=e.prevWasFocused,l=e.instancePrefix,c=t.options,u=t.value,d=t.menuIsOpen,p=t.inputValue,f=t.isMulti,g=Me(u),m={};if(i&&(u!==i.value||c!==i.options||d!==i.menuIsOpen||p!==i.inputValue)){var x=d?function(t,e){return ts(Ji(t,e))}(t,g):[],b=d?es(Ji(t,g),"".concat(l,"-option")):[],y=s?function(t,e){var i=t.focusedValue,s=t.selectValue.indexOf(i);if(s>-1){if(e.indexOf(i)>-1)return i;if(s<e.length)return e[s]}return null}(e,g):null,_=function(t,e){var i=t.focusedOption;return i&&e.indexOf(i)>-1?i:e[0]}(e,x);m={selectValue:g,focusedOption:_,focusedOptionId:ss(b,_),focusableOptionsWithIds:b,focusedValue:y,clearFocusValueOnUpdate:!1}}var v=null!=n&&t!==i?{inputIsHidden:n,inputIsHiddenAfterUpdate:void 0}:{},w=r,A=o&&h;return o&&!A&&(w={value:Ve(f,g,g[0]||null),options:g,action:"initial-input-focus"},A=!h),"initial-input-focus"===(null==r?void 0:r.action)&&(w=null),a(a(a({},m),v),{},{prevProps:t,ariaSelection:w,prevWasFocused:A})}}]),i}(d.Component);us.defaultProps=Zi;var ds=(0,d.forwardRef)((function(t,e){var i=function(t){var e=t.defaultInputValue,i=void 0===e?"":e,s=t.defaultMenuIsOpen,n=void 0!==s&&s,r=t.defaultValue,o=void 0===r?null:r,h=t.inputValue,l=t.menuIsOpen,p=t.onChange,g=t.onInputChange,m=t.onMenuClose,x=t.onMenuOpen,b=t.value,y=u(t,f),_=c((0,d.useState)(void 0!==h?h:i),2),v=_[0],w=_[1],A=c((0,d.useState)(void 0!==l?l:n),2),S=A[0],M=A[1],k=c((0,d.useState)(void 0!==b?b:o),2),C=k[0],P=k[1],T=(0,d.useCallback)((function(t,e){"function"==typeof p&&p(t,e),P(t)}),[p]),O=(0,d.useCallback)((function(t,e){var i;"function"==typeof g&&(i=g(t,e)),w(void 0!==i?i:t)}),[g]),E=(0,d.useCallback)((function(){"function"==typeof x&&x(),M(!0)}),[x]),I=(0,d.useCallback)((function(){"function"==typeof m&&m(),M(!1)}),[m]),R=void 0!==h?h:v,F=void 0!==l?l:S,L=void 0!==b?b:C;return a(a({},y),{},{inputValue:R,menuIsOpen:F,onChange:T,onInputChange:O,onMenuClose:I,onMenuOpen:E,value:L})}(t);return d.createElement(us,g({ref:e},i))})),ps=ds},1849:(t,e,i)=>{"use strict";i.d(e,{v:()=>r});var s=i(8875),n=i(4670);class r extends s.A{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return(0,n.t6)(n.lj,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return(0,n.t6)(n.lj,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return(0,n.t6)(n.lj,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return(0,n.t6)(n.lj,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return(0,n.t6)(n.lj,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners();for(const t in this.chars)this.chars[t].texture?.destroy();this.chars=null,t&&(this.pages.forEach((t=>t.texture.destroy(!0))),this.pages=null)}}},1957:(t,e,i)=>{"use strict";i.d(e,{K:()=>n,Q:()=>s});const s={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var n=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",t[t.NONE=5]="NONE",t))(n||{})},1979:(t,e,i)=>{"use strict";i.d(e,{l:()=>r});var s=i(268),n=i(2406);const r=new class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||(0,s.R)(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const i=(0,n.z)(t);let r;for(let t=0;t<this.parsers.length;t++){const s=this.parsers[t];if(s.test(e)){r=s.getCacheableAssets(i,e);break}}const o=new Map(Object.entries(r||{}));r||i.forEach((t=>{o.set(t,e)}));const a=[...o.keys()],h={cacheKeys:a,keys:i};i.forEach((t=>{this._cacheMap.set(t,h)})),a.forEach((t=>{const i=r?r[t]:e;this._cache.has(t)&&this._cache.get(t)!==i&&(0,s.R)("[Cache] already has key:",t),this._cache.set(t,o.get(t))}))}remove(t){if(!this._cacheMap.has(t))return void(0,s.R)(`[Assets] Asset id ${t} was not found in the Cache`);const e=this._cacheMap.get(t);e.cacheKeys.forEach((t=>{this._cache.delete(t)})),e.keys.forEach((t=>{this._cacheMap.delete(t)}))}get parsers(){return this._parsers}}},2048:(t,e,i)=>{"use strict";function s(t,e,i){const{width:s,height:n}=i.orig,r=i.trim;if(r){const i=r.width,o=r.height;t.minX=r.x-e._x*s,t.maxX=t.minX+i,t.minY=r.y-e._y*n,t.maxY=t.minY+o}else t.minX=-e._x*s,t.maxX=t.minX+s,t.minY=-e._y*n,t.maxY=t.minY+n}i.d(e,{y:()=>s})},2208:(t,e,i)=>{"use strict";i.d(e,{o:()=>a,u:()=>o});var s=i(9313),n=i(8425),r=i(9636);const o=new n.b(s.u),a=new n.b(r.c)},2217:(t,e,i)=>{"use strict";i.d(e,{a:()=>s});const s=t=>!Array.isArray(t)},2233:(t,e,i)=>{"use strict";i.d(e,{Y:()=>s});const s=(t,e)=>{const i=e.split("?")[1];return i&&(t+=`?${i}`),t}},2406:(t,e,i)=>{"use strict";i.d(e,{z:()=>s});const s=(t,e,i=!1)=>(Array.isArray(t)||(t=[t]),e?t.map((t=>"string"==typeof t||i?e(t):t)):t)},2437:(t,e,i)=>{"use strict";i.d(e,{W:()=>a});var s=i(9939),n=i(583),r=i(4492);let o=0;const a=new class{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1}createTexture(t,e,i){const s=new n.v({...this.textureOptions,width:t,height:e,resolution:1,antialias:i,autoGarbageCollect:!1});return new r.g({source:s,label:"texturePool_"+o++})}getOptimalTexture(t,e,i=1,n){let r=Math.ceil(t*i-1e-6),o=Math.ceil(e*i-1e-6);r=(0,s.U5)(r),o=(0,s.U5)(o);const a=(r<<17)+(o<<1)+(n?1:0);this._texturePool[a]||(this._texturePool[a]=[]);let h=this._texturePool[a].pop();return h||(h=this.createTexture(r,o,n)),h.source._resolution=i,h.source.width=r/i,h.source.height=o/i,h.source.pixelWidth=r,h.source.pixelHeight=o,h.frame.x=0,h.frame.y=0,h.frame.width=t,h.frame.height=e,h.updateUvs(),this._poolKeyHash[h.uid]=a,h}getSameSizeTexture(t,e=!1){const i=t.source;return this.getOptimalTexture(t.width,t.height,i._resolution,e)}returnTexture(t){const e=this._poolKeyHash[t.uid];this._texturePool[e].push(t)}clear(t){if(t=!1!==t)for(const t in this._texturePool){const e=this._texturePool[t];if(e)for(let t=0;t<e.length;t++)e[t].destroy(!0)}this._texturePool={}}}},2460:(t,e,i)=>{"use strict";i.d(e,{GH:()=>z});var s=i(8507),n=i(341),r=i(1159),o=i(848),a=i(4670),h=i(8218),l=i(9313),c=i(9252);function u(t,e,i,s,n){const r=e.a,o=e.b,a=e.c,h=e.d,l=e.tx,c=e.ty;i||(i=0),s||(s=2),n||(n=t.length/s-i);let u=i*s;for(let e=0;e<n;e++){const e=t[u],i=t[u+1];t[u]=r*e+a*i+l,t[u+1]=o*e+h*i+c,u+=s}}var d=i(4492),p=i(6954);const f={extension:{type:s.Ag.ShapeBuilder,name:"circle"},build(t,e){let i,s,n,r,o,a;if("circle"===t.type){const e=t;i=e.x,s=e.y,o=a=e.radius,n=r=0}else if("ellipse"===t.type){const e=t;i=e.x,s=e.y,o=e.halfWidth,a=e.halfHeight,n=r=0}else{const e=t,h=e.width/2,l=e.height/2;i=e.x+h,s=e.y+l,o=a=Math.max(0,Math.min(e.radius,Math.min(h,l))),n=h-o,r=l-a}if(!(o>=0&&a>=0&&n>=0&&r>=0))return e;const h=Math.ceil(2.3*Math.sqrt(o+a)),l=8*h+(n?4:0)+(r?4:0);if(0===l)return e;if(0===h)return e[0]=e[6]=i+n,e[1]=e[3]=s+r,e[2]=e[4]=i-n,e[5]=e[7]=s-r,e;let c=0,u=4*h+(n?2:0)+2,d=u,p=l,f=n+o,g=r,m=i+f,x=i-f,b=s+g;if(e[c++]=m,e[c++]=b,e[--u]=b,e[--u]=x,r){const t=s-g;e[d++]=x,e[d++]=t,e[--p]=t,e[--p]=m}for(let t=1;t<h;t++){const l=Math.PI/2*(t/h),f=n+Math.cos(l)*o,g=r+Math.sin(l)*a,m=i+f,x=i-f,b=s+g,y=s-g;e[c++]=m,e[c++]=b,e[--u]=b,e[--u]=x,e[d++]=x,e[d++]=y,e[--p]=y,e[--p]=m}f=n,g=r+a,m=i+f,x=i-f,b=s+g;const y=s-g;return e[c++]=m,e[c++]=b,e[--p]=y,e[--p]=m,n&&(e[c++]=x,e[c++]=b,e[--p]=y,e[--p]=x),e},triangulate(t,e,i,s,n,r){if(0===t.length)return;let o=0,a=0;for(let e=0;e<t.length;e+=2)o+=t[e],a+=t[e+1];o/=t.length/2,a/=t.length/2;let h=s;e[h*i]=o,e[h*i+1]=a;const l=h++;for(let s=0;s<t.length;s+=2)e[h*i]=t[s],e[h*i+1]=t[s+1],s>0&&(n[r++]=h,n[r++]=l,n[r++]=h-1),h++;n[r++]=l+1,n[r++]=l,n[r++]=h-1}},g={...f,extension:{...f.extension,name:"ellipse"}},m={...f,extension:{...f.extension,name:"roundedRectangle"}};var x=i(5101);const b=1e-4;function y(t,e,i,s,n,r,o,a){let h,l;o?(h=s,l=-i):(h=-s,l=i);const c=t-i*n+h,u=e-s*n+l,d=t+i*r+h,p=e+s*r+l;return a.push(c,u),a.push(d,p),2}function _(t,e,i,s,n,r,o,a){const h=i-t,l=s-e;let c=Math.atan2(h,l),u=Math.atan2(n-t,r-e);a&&c<u?c+=2*Math.PI:!a&&c>u&&(u+=2*Math.PI);let d=c;const p=u-c,f=Math.abs(p),g=Math.sqrt(h*h+l*l),m=1+(15*f*Math.sqrt(g)/Math.PI|0),x=p/m;if(d+=x,a){o.push(t,e),o.push(i,s);for(let i=1,s=d;i<m;i++,s+=x)o.push(t,e),o.push(t+Math.sin(s)*g,e+Math.cos(s)*g);o.push(t,e),o.push(n,r)}else{o.push(i,s),o.push(t,e);for(let i=1,s=d;i<m;i++,s+=x)o.push(t+Math.sin(s)*g,e+Math.cos(s)*g),o.push(t,e);o.push(n,r),o.push(t,e)}return 2*m}var v=i(6570);function w(t,e,i,s,n,r,o){const a=v(t,e,2);if(!a)return;for(let t=0;t<a.length;t+=3)r[o++]=a[t]+n,r[o++]=a[t+1]+n,r[o++]=a[t+2]+n;let h=n*s;for(let e=0;e<t.length;e+=2)i[h]=t[e],i[h+1]=t[e+1],h+=s}const A=[],S={extension:{type:s.Ag.ShapeBuilder,name:"polygon"},build(t,e){for(let i=0;i<t.points.length;i++)e[i]=t.points[i];return e},triangulate(t,e,i,s,n,r){w(t,A,e,i,s,n,r)}},M={extension:{type:s.Ag.ShapeBuilder,name:"rectangle"},build(t,e){const i=t,s=i.x,n=i.y,r=i.width,o=i.height;return r>=0&&o>=0?(e[0]=s,e[1]=n,e[2]=s+r,e[3]=n,e[4]=s+r,e[5]=n+o,e[6]=s,e[7]=n+o,e):e},triangulate(t,e,i,s,n,r){let o=0;e[(s*=i)+o]=t[0],e[s+o+1]=t[1],o+=i,e[s+o]=t[2],e[s+o+1]=t[3],o+=i,e[s+o]=t[6],e[s+o+1]=t[7],o+=i,e[s+o]=t[4],e[s+o+1]=t[5],o+=i;const a=s/i;n[r++]=a,n[r++]=a+1,n[r++]=a+2,n[r++]=a+1,n[r++]=a+3,n[r++]=a+2}},k={extension:{type:s.Ag.ShapeBuilder,name:"triangle"},build:(t,e)=>(e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,e),triangulate(t,e,i,s,n,r){let o=0;e[(s*=i)+o]=t[0],e[s+o+1]=t[1],o+=i,e[s+o]=t[2],e[s+o+1]=t[3],o+=i,e[s+o]=t[4],e[s+o+1]=t[5];const a=s/i;n[r++]=a,n[r++]=a+1,n[r++]=a+2}};var C=i(7276);const P=new l.u,T=new c.M,O={};s.XO.handleByMap(s.Ag.ShapeBuilder,O),s.XO.add(M,S,k,f,g,m);const E=new c.M,I=new l.u;function R(t,e,i){const{vertices:s,uvs:n,indices:r}=i,o=r.length,a=s.length/2,l=[],c=O.rectangle,d=E,f=t.image;d.x=t.dx,d.y=t.dy,d.width=t.dw,d.height=t.dh;const g=t.transform;c.build(d,l),g&&u(l,g),c.triangulate(l,s,2,a,r,o);const m=f.uvs;n.push(m.x0,m.y0,m.x1,m.y1,m.x3,m.y3,m.x2,m.y2);const x=h.Z.get(p.G);x.indexOffset=o,x.indexSize=r.length-o,x.attributeOffset=a,x.attributeSize=s.length/2-a,x.baseColor=t.style,x.alpha=t.alpha,x.texture=f,x.geometryData=i,e.push(x)}function F(t,e,i,s,n){const{vertices:r,uvs:o,indices:a}=n;t.shapePrimitives.forEach((({shape:t,transform:l,holes:c})=>{const f=a.length,g=r.length/2,m=[],v=O[t.type];let A="triangle-list";if(v.build(t,m),l&&u(m,l),i){const i=t.closePath??!0,s=e;s.pixelLine?(function(t,e,i,s){const n=b;if(0===t.length)return;const r=t[0],o=t[1],a=t[t.length-2],h=t[t.length-1],l=e||Math.abs(r-a)<n&&Math.abs(o-h)<n,c=i,u=t.length/2,d=c.length/2;for(let e=0;e<u;e++)c.push(t[2*e]),c.push(t[2*e+1]);for(let t=0;t<u-1;t++)s.push(d+t,d+t+1);l&&s.push(d+u-1,d)}(m,i,r,a),A="line-list"):function(t,e,i,s,n,r){const o=b;if(0===t.length)return;const a=e;let h=a.alignment;if(.5!==e.alignment){let e=function(t){const e=t.length;if(e<6)return 1;let i=0;for(let s=0,n=t[e-2],r=t[e-1];s<e;s+=2){const e=t[s],o=t[s+1];i+=(e-n)*(o+r),n=e,r=o}return i<0?-1:1}(t);h=(h-.5)*e+.5}const l=new x.b(t[0],t[1]),c=new x.b(t[t.length-2],t[t.length-1]),u=s,d=Math.abs(l.x-c.x)<o&&Math.abs(l.y-c.y)<o;if(u){t=t.slice(),d&&(t.pop(),t.pop(),c.set(t[t.length-2],t[t.length-1]));const e=.5*(l.x+c.x),i=.5*(c.y+l.y);t.unshift(e,i),t.push(e,i)}const p=n,f=t.length/2;let g=t.length;const m=p.length/2,v=a.width/2,w=v*v,A=a.miterLimit*a.miterLimit;let S=t[0],M=t[1],k=t[2],C=t[3],P=0,T=0,O=-(M-C),E=S-k,I=0,R=0,F=Math.sqrt(O*O+E*E);O/=F,E/=F,O*=v,E*=v;const L=2*(1-h),D=2*h;u||("round"===a.cap?g+=_(S-O*(L-D)*.5,M-E*(L-D)*.5,S-O*L,M-E*L,S+O*D,M+E*D,p,!0)+2:"square"===a.cap&&(g+=y(S,M,O,E,L,D,!0,p))),p.push(S-O*L,M-E*L),p.push(S+O*D,M+E*D);for(let e=1;e<f-1;++e){S=t[2*(e-1)],M=t[2*(e-1)+1],k=t[2*e],C=t[2*e+1],P=t[2*(e+1)],T=t[2*(e+1)+1],O=-(M-C),E=S-k,F=Math.sqrt(O*O+E*E),O/=F,E/=F,O*=v,E*=v,I=-(C-T),R=k-P,F=Math.sqrt(I*I+R*R),I/=F,R/=F,I*=v,R*=v;const i=k-S,s=M-C,n=k-P,r=T-C,o=i*n+s*r,h=s*n-r*i,l=h<0;if(Math.abs(h)<.001*Math.abs(o)){p.push(k-O*L,C-E*L),p.push(k+O*D,C+E*D),o>=0&&("round"===a.join?g+=_(k,C,k-O*L,C-E*L,k-I*L,C-R*L,p,!1)+4:g+=2,p.push(k-I*D,C-R*D),p.push(k+I*L,C+R*L));continue}const c=(-O+S)*(-E+C)-(-O+k)*(-E+M),u=(-I+P)*(-R+C)-(-I+k)*(-R+T),d=(i*u-n*c)/h,f=(r*c-s*u)/h,m=(d-k)*(d-k)+(f-C)*(f-C),x=k+(d-k)*L,b=C+(f-C)*L,y=k-(d-k)*D,B=C-(f-C)*D,z=l?L:D;m<=Math.min(i*i+s*s,n*n+r*r)+z*z*w?"bevel"===a.join||m/w>A?(l?(p.push(x,b),p.push(k+O*D,C+E*D),p.push(x,b),p.push(k+I*D,C+R*D)):(p.push(k-O*L,C-E*L),p.push(y,B),p.push(k-I*L,C-R*L),p.push(y,B)),g+=2):"round"===a.join?l?(p.push(x,b),p.push(k+O*D,C+E*D),g+=_(k,C,k+O*D,C+E*D,k+I*D,C+R*D,p,!0)+4,p.push(x,b),p.push(k+I*D,C+R*D)):(p.push(k-O*L,C-E*L),p.push(y,B),g+=_(k,C,k-O*L,C-E*L,k-I*L,C-R*L,p,!1)+4,p.push(k-I*L,C-R*L),p.push(y,B)):(p.push(x,b),p.push(y,B)):(p.push(k-O*L,C-E*L),p.push(k+O*D,C+E*D),"round"===a.join?g+=l?_(k,C,k+O*D,C+E*D,k+I*D,C+R*D,p,!0)+2:_(k,C,k-O*L,C-E*L,k-I*L,C-R*L,p,!1)+2:"miter"===a.join&&m/w<=A&&(l?(p.push(y,B),p.push(y,B)):(p.push(x,b),p.push(x,b)),g+=2),p.push(k-I*L,C-R*L),p.push(k+I*D,C+R*D),g+=2)}S=t[2*(f-2)],M=t[2*(f-2)+1],k=t[2*(f-1)],C=t[2*(f-1)+1],O=-(M-C),E=S-k,F=Math.sqrt(O*O+E*E),O/=F,E/=F,O*=v,E*=v,p.push(k-O*L,C-E*L),p.push(k+O*D,C+E*D),u||("round"===a.cap?g+=_(k-O*(L-D)*.5,C-E*(L-D)*.5,k-O*L,C-E*L,k+O*D,C+E*D,p,!1)+2:"square"===a.cap&&(g+=y(k,C,O,E,L,D,!1,p)));for(let t=m;t<g+m-2;++t)S=p[2*t],M=p[2*t+1],k=p[2*(t+1)],C=p[2*(t+1)+1],P=p[2*(t+2)],T=p[2*(t+2)+1],Math.abs(S*(C-T)+k*(T-M)+P*(M-C))<1e-8||r.push(t,t+1,t+2)}(m,s,0,i,r,a)}else if(c){const t=[],e=m.slice();(function(t){const e=[];for(let i=0;i<t.length;i++){const s=t[i].shape,n=[];O[s.type].build(s,n),e.push(n)}return e})(c).forEach((i=>{t.push(e.length/2),e.push(...i)})),w(e,t,r,2,g,a,f)}else v.triangulate(m,r,2,g,a,f);const S=o.length/2,M=e.texture;if(M!==d.g.WHITE){const i=function(t,e,i,s){const n=e.matrix?t.copyFrom(e.matrix).invert():t.identity();if("local"===e.textureSpace){const t=i.getBounds(T);e.width&&t.pad(e.width);const{x:s,y:r}=t,o=1/t.width,a=1/t.height,h=-s*o,l=-r*a,c=n.a,u=n.b,d=n.c,p=n.d;n.a*=o,n.b*=o,n.c*=a,n.d*=a,n.tx=h*c+l*d+n.tx,n.ty=h*u+l*p+n.ty}else n.translate(e.texture.frame.x,e.texture.frame.y),n.scale(1/e.texture.source.width,1/e.texture.source.height);const r=e.texture.source.style;return e.fill instanceof C._||"clamp-to-edge"!==r.addressMode||(r.addressMode="repeat",r.update()),s&&n.append(P.copyFrom(s).invert()),n}(I,e,t,l);!function(t,e,i,s,n,r,o,a=null){let h=0;i*=e,n*=r;const l=a.a,c=a.b,u=a.c,d=a.d,p=a.tx,f=a.ty;for(;h<o;){const o=t[i],a=t[i+1];s[n]=l*o+u*a+p,s[n+1]=c*o+d*a+f,n+=r,i+=e,h++}}(r,2,g,o,S,2,r.length/2-g,i)}else!function(t,e,i,s){let n=0;for(e*=2;n<s;)t[e]=0,t[e+1]=0,e+=2,n++}(o,S,0,r.length/2-g);const k=h.Z.get(p.G);k.indexOffset=f,k.indexSize=a.length-f,k.attributeOffset=g,k.attributeSize=r.length/2-g,k.baseColor=e.color,k.alpha=e.alpha,k.texture=M,k.geometryData=n,k.topology=A,s.push(k)}))}class L{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class D{constructor(){this.batcher=new r.J,this.instructions=new o.L}init(){this.instructions.reset()}get geometry(){return(0,a.t6)(a.Ek,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const B=class t{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){t.defaultOptions.bezierSmoothness=e?.bezierSmoothness??t.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let e=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){e?this._cleanGraphicsContextData(t):e=this._initContext(t),function(t,e){const{geometryData:i,batches:s}=e;s.length=0,i.indices.length=0,i.vertices.length=0,i.uvs.length=0;for(let e=0;e<t.instructions.length;e++){const n=t.instructions[e];if("texture"===n.action)R(n.data,s,i);else if("fill"===n.action||"stroke"===n.action){const t="stroke"===n.action,e=n.data.path.shapePath,r=n.data.style,o=n.data.hole;t&&o&&F(o.shapePath,r,!0,s,i),o&&(e.shapePrimitives[e.shapePrimitives.length-1].holes=o.shapePath.shapePrimitives),F(e,r,t,s,i)}}}(t,e);const i=t.batchMode;t.customShader||"no-batch"===i?e.isBatchable=!1:"auto"===i&&(e.isBatchable=e.geometryData.vertices.length<400),t.dirty=!1}return e}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const e=h.Z.get(D),{batches:i,geometryData:s}=this._gpuContextHash[t.uid],r=s.vertices.length,o=s.indices.length;for(let t=0;t<i.length;t++)i[t].applyTransform=!1;const a=e.batcher;a.ensureAttributeBuffer(r),a.ensureIndexBuffer(o),a.begin();for(let t=0;t<i.length;t++){const e=i[t];a.add(e)}a.finish(e.instructions);const l=a.geometry;l.indexBuffer.setDataWithSize(a.indexBuffer,a.indexSize,!0),l.buffers[0].setDataWithSize(a.attributeBuffer.float32View,a.attributeSize,!0);const c=a.batches;for(let t=0;t<c.length;t++){const e=c[t];e.bindGroup=(0,n.w)(e.textures.textures,e.textures.count)}return this._graphicsDataContextHash[t.uid]=e,e}_initContext(t){const e=new L;return e.context=t,this._gpuContextHash[t.uid]=e,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const e=this._gpuContextHash[t.uid];e.isBatchable||this._graphicsDataContextHash[t.uid]&&(h.Z.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),e.batches&&e.batches.forEach((t=>{h.Z.return(t)}))}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};B.extension={type:[s.Ag.WebGLSystem,s.Ag.WebGPUSystem,s.Ag.CanvasSystem],name:"graphicsContext"},B.defaultOptions={bezierSmoothness:.5};let z=B},2571:(t,e,i)=>{"use strict";i.d(e,{xv:()=>s}),i(8875);const s="8.9.2"},2577:(t,e,i)=>{"use strict";i.d(e,{Q:()=>E});var s={grad:.9,turn:360,rad:360/(2*Math.PI)},n=function(t){return"string"==typeof t?t.length>0:"number"==typeof t},r=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=Math.pow(10,e)),Math.round(i*t)/i+0},o=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=1),t>i?i:t>e?t:e},a=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},h=function(t){return{r:o(t.r,0,255),g:o(t.g,0,255),b:o(t.b,0,255),a:o(t.a)}},l=function(t){return{r:r(t.r),g:r(t.g),b:r(t.b),a:r(t.a,3)}},c=/^#([0-9a-f]{3,8})$/i,u=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},d=function(t){var e=t.r,i=t.g,s=t.b,n=t.a,r=Math.max(e,i,s),o=r-Math.min(e,i,s),a=o?r===e?(i-s)/o:r===i?2+(s-e)/o:4+(e-i)/o:0;return{h:60*(a<0?a+6:a),s:r?o/r*100:0,v:r/255*100,a:n}},p=function(t){var e=t.h,i=t.s,s=t.v,n=t.a;e=e/360*6,i/=100,s/=100;var r=Math.floor(e),o=s*(1-i),a=s*(1-(e-r)*i),h=s*(1-(1-e+r)*i),l=r%6;return{r:255*[s,a,o,o,h,s][l],g:255*[h,s,s,a,o,o][l],b:255*[o,o,h,s,s,a][l],a:n}},f=function(t){return{h:a(t.h),s:o(t.s,0,100),l:o(t.l,0,100),a:o(t.a)}},g=function(t){return{h:r(t.h),s:r(t.s),l:r(t.l),a:r(t.a,3)}},m=function(t){return p((i=(e=t).s,{h:e.h,s:(i*=((s=e.l)<50?s:100-s)/100)>0?2*i/(s+i)*100:0,v:s+i,a:e.a}));var e,i,s},x=function(t){return{h:(e=d(t)).h,s:(n=(200-(i=e.s))*(s=e.v)/100)>0&&n<200?i*s/100/(n<=100?n:200-n)*100:0,l:n/2,a:e.a};var e,i,s,n},b=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,w={string:[[function(t){var e=c.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:4===t.length?r(parseInt(t[3]+t[3],16)/255,2):1}:6===t.length||8===t.length?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:8===t.length?r(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=_.exec(t)||v.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:h({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:void 0===e[7]?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=b.exec(t)||y.exec(t);if(!e)return null;var i,n,r=f({h:(i=e[1],n=e[2],void 0===n&&(n="deg"),Number(i)*(s[n]||1)),s:Number(e[3]),l:Number(e[4]),a:void 0===e[5]?1:Number(e[5])/(e[6]?100:1)});return m(r)},"hsl"]],object:[[function(t){var e=t.r,i=t.g,s=t.b,r=t.a,o=void 0===r?1:r;return n(e)&&n(i)&&n(s)?h({r:Number(e),g:Number(i),b:Number(s),a:Number(o)}):null},"rgb"],[function(t){var e=t.h,i=t.s,s=t.l,r=t.a,o=void 0===r?1:r;if(!n(e)||!n(i)||!n(s))return null;var a=f({h:Number(e),s:Number(i),l:Number(s),a:Number(o)});return m(a)},"hsl"],[function(t){var e=t.h,i=t.s,s=t.v,r=t.a,h=void 0===r?1:r;if(!n(e)||!n(i)||!n(s))return null;var l=function(t){return{h:a(t.h),s:o(t.s,0,100),v:o(t.v,0,100),a:o(t.a)}}({h:Number(e),s:Number(i),v:Number(s),a:Number(h)});return p(l)},"hsv"]]},A=function(t,e){for(var i=0;i<e.length;i++){var s=e[i][0](t);if(s)return[s,e[i][1]]}return[null,void 0]},S=function(t,e){var i=x(t);return{h:i.h,s:o(i.s+100*e,0,100),l:i.l,a:i.a}},M=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},k=function(t,e){var i=x(t);return{h:i.h,s:i.s,l:o(i.l+100*e,0,100),a:i.a}},C=function(){function t(t){this.parsed=function(t){return"string"==typeof t?A(t.trim(),w.string):"object"==typeof t&&null!==t?A(t,w.object):[null,void 0]}(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return null!==this.parsed},t.prototype.brightness=function(){return r(M(this.rgba),2)},t.prototype.isDark=function(){return M(this.rgba)<.5},t.prototype.isLight=function(){return M(this.rgba)>=.5},t.prototype.toHex=function(){return e=(t=l(this.rgba)).r,i=t.g,s=t.b,o=(n=t.a)<1?u(r(255*n)):"","#"+u(e)+u(i)+u(s)+o;var t,e,i,s,n,o},t.prototype.toRgb=function(){return l(this.rgba)},t.prototype.toRgbString=function(){return e=(t=l(this.rgba)).r,i=t.g,s=t.b,(n=t.a)<1?"rgba("+e+", "+i+", "+s+", "+n+")":"rgb("+e+", "+i+", "+s+")";var t,e,i,s,n},t.prototype.toHsl=function(){return g(x(this.rgba))},t.prototype.toHslString=function(){return e=(t=g(x(this.rgba))).h,i=t.s,s=t.l,(n=t.a)<1?"hsla("+e+", "+i+"%, "+s+"%, "+n+")":"hsl("+e+", "+i+"%, "+s+"%)";var t,e,i,s,n},t.prototype.toHsv=function(){return t=d(this.rgba),{h:r(t.h),s:r(t.s),v:r(t.v),a:r(t.a,3)};var t},t.prototype.invert=function(){return P({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},t.prototype.saturate=function(t){return void 0===t&&(t=.1),P(S(this.rgba,t))},t.prototype.desaturate=function(t){return void 0===t&&(t=.1),P(S(this.rgba,-t))},t.prototype.grayscale=function(){return P(S(this.rgba,-1))},t.prototype.lighten=function(t){return void 0===t&&(t=.1),P(k(this.rgba,t))},t.prototype.darken=function(t){return void 0===t&&(t=.1),P(k(this.rgba,-t))},t.prototype.rotate=function(t){return void 0===t&&(t=15),this.hue(this.hue()+t)},t.prototype.alpha=function(t){return"number"==typeof t?P({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):r(this.rgba.a,3);var e},t.prototype.hue=function(t){var e=x(this.rgba);return"number"==typeof t?P({h:t,s:e.s,l:e.l,a:e.a}):r(e.h)},t.prototype.isEqual=function(t){return this.toHex()===P(t).toHex()},t}(),P=function(t){return t instanceof C?t:new C(t)},T=[];!function(t){t.forEach((function(t){T.indexOf(t)<0&&(t(C,w),T.push(t))}))}([function(t,e){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var n in i)s[i[n]]=n;var r={};t.prototype.toName=function(e){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var n,o,a=s[this.toHex()];if(a)return a;if(null==e?void 0:e.closest){var h=this.toRgb(),l=1/0,c="black";if(!r.length)for(var u in i)r[u]=new t(i[u]).toRgb();for(var d in i){var p=(n=h,o=r[d],Math.pow(n.r-o.r,2)+Math.pow(n.g-o.g,2)+Math.pow(n.b-o.b,2));p<l&&(l=p,c=d)}return c}},e.string.push([function(e){var s=e.toLowerCase(),n="transparent"===s?"#0000":i[s];return n?new t(n).toRgb():null},"name"])}]);const O=class t{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(e){if(e instanceof t)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(null===e)throw new Error("Cannot set Color#value to null");null!==this._value&&this._isSourceEqual(this._value,e)||(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return"string"==typeof t||"number"==typeof t||t instanceof Number||null===t?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):"object"==typeof t&&null!==t?{...t}:t}_isSourceEqual(t,e){const i=typeof t;if(i!==typeof e)return!1;if("number"===i||"string"===i||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length===e.length&&t.every(((t,i)=>t===e[i]));if(null!==t&&null!==e){const i=Object.keys(t),s=Object.keys(e);return i.length===s.length&&i.every((i=>t[i]===e[i]))}return t===e}toRgba(){const[t,e,i,s]=this._components;return{r:t,g:e,b:i,a:s}}toRgb(){const[t,e,i]=this._components;return{r:t,g:e,b:i}}toRgbaString(){const[t,e,i]=this.toUint8RgbArray();return`rgba(${t},${e},${i},${this.alpha})`}toUint8RgbArray(t){const[e,i,s]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(255*e),t[1]=Math.round(255*i),t[2]=Math.round(255*s),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[e,i,s,n]=this._components;return t[0]=e,t[1]=i,t[2]=s,t[3]=n,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[e,i,s]=this._components;return t[0]=e,t[1]=i,t[2]=s,t}toNumber(){return this._int}toBgrNumber(){const[t,e,i]=this.toUint8RgbArray();return(i<<16)+(e<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(65280&t)+((255&t)<<16)}multiply(e){const[i,s,n,r]=t._temp.setValue(e)._components;return this._components[0]*=i,this._components[1]*=s,this._components[2]*=n,this._components[3]*=r,this._refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(1===t)return(255<<24)+this._int;if(0===t)return e?0:this._int;let i=this._int>>16&255,s=this._int>>8&255,n=255&this._int;return e&&(i=i*t+.5|0,s=s*t+.5|0,n=n*t+.5|0),(255*t<<24)+(i<<16)+(s<<8)+n}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(e){let i,s,n,r;if(("number"==typeof e||e instanceof Number)&&e>=0&&e<=16777215)i=(e>>16&255)/255,s=(e>>8&255)/255,n=(255&e)/255,r=1;else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[i,s,n,r=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[i,s,n,r=255]=e,i/=255,s/=255,n/=255,r/=255;else if("string"==typeof e||"object"==typeof e){if("string"==typeof e){const i=t.HEX_PATTERN.exec(e);i&&(e=`#${i[2]}`)}const o=P(e);o.isValid()&&(({r:i,g:s,b:n,a:r}=o.rgba),i/=255,s/=255,n/=255)}if(void 0===i)throw new Error(`Unable to convert color ${e}`);this._components[0]=i,this._components[1]=s,this._components[2]=n,this._components[3]=r,this._refreshInt()}_refreshInt(){this._clamp(this._components);const[t,e,i]=this._components;this._int=(255*t<<16)+(255*e<<8)+(255*i|0)}_clamp(t,e=0,i=1){return"number"==typeof t?Math.min(Math.max(t,e),i):(t.forEach(((s,n)=>{t[n]=Math.min(Math.max(s,e),i)})),t)}static isColorLike(e){return"number"==typeof e||"string"==typeof e||e instanceof Number||e instanceof t||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||void 0!==e.r&&void 0!==e.g&&void 0!==e.b||void 0!==e.r&&void 0!==e.g&&void 0!==e.b&&void 0!==e.a||void 0!==e.h&&void 0!==e.s&&void 0!==e.l||void 0!==e.h&&void 0!==e.s&&void 0!==e.l&&void 0!==e.a||void 0!==e.h&&void 0!==e.s&&void 0!==e.v||void 0!==e.h&&void 0!==e.s&&void 0!==e.v&&void 0!==e.a}};O.shared=new O,O._temp=new O,O.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let E=O},2698:(t,e,i)=>{"use strict";function s(t){const e={};for(const i in t)void 0!==t[i]&&(e[i]=t[i]);return e}i.d(e,{S:()=>s})},2763:(t,e,i)=>{"use strict";function s(t,e,i,s){const n={width:0,height:0,offsetY:0,scale:e.fontSize/i.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};n.offsetY=i.baseLineOffset;let r=n.lines[0],o=null,a=!0;const h={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},l=t=>{const e=r.width;for(let i=0;i<h.index;i++){const s=t.positions[i];r.chars.push(t.chars[i]),r.charPositions.push(s+e)}r.width+=t.width,a=!1,h.width=0,h.index=0,h.chars.length=0},c=()=>{let t=r.chars.length-1;if(s){let e=r.chars[t];for(;" "===e;)r.width-=i.chars[e].xAdvance,e=r.chars[--t]}n.width=Math.max(n.width,r.width),r={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},a=!0,n.lines.push(r),n.height+=i.lineHeight},u=i.baseMeasurementFontSize/e.fontSize,d=e.letterSpacing*u,p=e.wordWrapWidth*u;for(let s=0;s<t.length+1;s++){let n;const u=s===t.length;u||(n=t[s]);const f=i.chars[n]||i.chars[" "];if(/(?:\s)/.test(n)||"\r"===n||"\n"===n||u){if(!a&&e.wordWrap&&r.width+h.width-d>p?(c(),l(h),u||r.charPositions.push(0)):(h.start=r.width,l(h),u||r.charPositions.push(0)),"\r"===n||"\n"===n)0!==r.width&&c();else if(!u){const t=f.xAdvance+(f.kerning[o]||0)+d;r.width+=t,r.spaceWidth=t,r.spacesIndex.push(r.charPositions.length),r.chars.push(n)}}else{const t=f.kerning[o]||0,e=f.xAdvance+t+d;h.positions[h.index++]=h.width+t,h.chars.push(n),h.width+=e}o=n}return c(),"center"===e.align?function(t){for(let e=0;e<t.lines.length;e++){const i=t.lines[e],s=t.width/2-i.width/2;for(let t=0;t<i.charPositions.length;t++)i.charPositions[t]+=s}}(n):"right"===e.align?function(t){for(let e=0;e<t.lines.length;e++){const i=t.lines[e],s=t.width-i.width;for(let t=0;t<i.charPositions.length;t++)i.charPositions[t]+=s}}(n):"justify"===e.align&&function(t){const e=t.width;for(let i=0;i<t.lines.length;i++){const s=t.lines[i];let n=0,r=s.spacesIndex[n++],o=0;const a=s.spacesIndex.length,h=(e-s.width)/a;for(let t=0;t<s.charPositions.length;t++)t===r&&(r=s.spacesIndex[n++],o+=h),s.charPositions[t]+=o}}(n),n}i.d(e,{Z:()=>s})},2799:(t,e)=>{"use strict";var i="function"==typeof Symbol&&Symbol.for,s=i?Symbol.for("react.element"):60103,n=i?Symbol.for("react.portal"):60106,r=i?Symbol.for("react.fragment"):60107,o=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,h=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,c=i?Symbol.for("react.async_mode"):60111,u=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,x=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,y=i?Symbol.for("react.responder"):60118,_=i?Symbol.for("react.scope"):60119;function v(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case s:switch(t=t.type){case c:case u:case r:case a:case o:case p:return t;default:switch(t=t&&t.$$typeof){case l:case d:case m:case g:case h:return t;default:return e}}case n:return e}}}function w(t){return v(t)===u}e.AsyncMode=c,e.ConcurrentMode=u,e.ContextConsumer=l,e.ContextProvider=h,e.Element=s,e.ForwardRef=d,e.Fragment=r,e.Lazy=m,e.Memo=g,e.Portal=n,e.Profiler=a,e.StrictMode=o,e.Suspense=p,e.isAsyncMode=function(t){return w(t)||v(t)===c},e.isConcurrentMode=w,e.isContextConsumer=function(t){return v(t)===l},e.isContextProvider=function(t){return v(t)===h},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===s},e.isForwardRef=function(t){return v(t)===d},e.isFragment=function(t){return v(t)===r},e.isLazy=function(t){return v(t)===m},e.isMemo=function(t){return v(t)===g},e.isPortal=function(t){return v(t)===n},e.isProfiler=function(t){return v(t)===a},e.isStrictMode=function(t){return v(t)===o},e.isSuspense=function(t){return v(t)===p},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===r||t===u||t===a||t===o||t===p||t===f||"object"==typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===g||t.$$typeof===h||t.$$typeof===l||t.$$typeof===d||t.$$typeof===b||t.$$typeof===y||t.$$typeof===_||t.$$typeof===x)},e.typeOf=v},2806:(t,e,i)=>{"use strict";i.d(e,{m:()=>o});var s=i(9313),n=i(133);const r={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class o{constructor(t,e){this.uid=(0,n.L)("fillPattern"),this.transform=new s.u,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),e&&(t.source.style.addressModeU=r[e].addressModeU,t.source.style.addressModeV=r[e].addressModeV)}setTransform(t){const e=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/e.frame.width,1/e.frame.height),this._styleKey=null}get styleKey(){return this._styleKey||(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`),this._styleKey}}},2812:(t,e,i)=>{"use strict";i.d(e,{o:()=>s});class s{constructor(t,e,i){this._x=e||0,this._y=i||0,this._observer=t}clone(t){return new s(t??this._observer,this._x,this._y)}set(t=0,e=t){return this._x===t&&this._y===e||(this._x=t,this._y=e,this._observer._onUpdate(this)),this}copyFrom(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}},2927:(t,e,i)=>{"use strict";i.d(e,{A:()=>o});var s=i(1761);function n(t){if("string"!=typeof t)throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function r(t){return t.split("?")[0].split("#")[0]}const o={toPosix:t=>t.replace(new RegExp("\\".replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),"/"),isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl:t=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t),isBlobUrl:t=>t.startsWith("blob:"),hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){n(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const i=/^[^/:]+:\/{0,2}/.exec(t);return i?i[0]:""},toAbsolute(t,e,i){if(n(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const a=r(this.toPosix(e??s.e.get().getBaseUrl())),h=r(this.toPosix(i??this.rootname(a)));return(t=this.toPosix(t)).startsWith("/")?o.join(h,t.slice(1)):this.isAbsolute(t)?t:this.join(a,t)},normalize(t){if(n(t),0===t.length)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;let e="";const i=(t=this.toPosix(t)).startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const s=t.endsWith("/");return(t=function(t){let e="",i=0,s=-1,n=0,r=-1;for(let o=0;o<=t.length;++o){if(o<t.length)r=t.charCodeAt(o);else{if(47===r)break;r=47}if(47===r){if(s===o-1||1===n);else if(s!==o-1&&2===n){if(e.length<2||2!==i||46!==e.charCodeAt(e.length-1)||46!==e.charCodeAt(e.length-2))if(e.length>2){const t=e.lastIndexOf("/");if(t!==e.length-1){-1===t?(e="",i=0):(e=e.slice(0,t),i=e.length-1-e.lastIndexOf("/")),s=o,n=0;continue}}else if(2===e.length||1===e.length){e="",i=0,s=o,n=0;continue}}else e.length>0?e+=`/${t.slice(s+1,o)}`:e=t.slice(s+1,o),i=o-s-1;s=o,n=0}else 46===r&&-1!==n?++n:n=-1}return e}(t)).length>0&&s&&(t+="/"),i?`/${t}`:e+t},isAbsolute(t){return n(t),t=this.toPosix(t),!!this.hasProtocol(t)||t.startsWith("/")},join(...t){if(0===t.length)return".";let e;for(let i=0;i<t.length;++i){const s=t[i];if(n(s),s.length>0)if(void 0===e)e=s;else{const n=t[i-1]??"";this.joinExtensions.includes(this.extname(n).toLowerCase())?e+=`/../${s}`:e+=`/${s}`}}return void 0===e?".":this.normalize(e)},dirname(t){if(n(t),0===t.length)return".";let e=(t=this.toPosix(t)).charCodeAt(0);const i=47===e;let s=-1,r=!0;const o=this.getProtocol(t),a=t;for(let i=(t=t.slice(o.length)).length-1;i>=1;--i)if(e=t.charCodeAt(i),47===e){if(!r){s=i;break}}else r=!1;return-1===s?i?"/":this.isUrl(a)?o+t:o:i&&1===s?"//":o+t.slice(0,s)},rootname(t){n(t);let e="";if(e=(t=this.toPosix(t)).startsWith("/")?"/":this.getProtocol(t),this.isUrl(t)){const i=t.indexOf("/",e.length);e=-1!==i?t.slice(0,i):t,e.endsWith("/")||(e+="/")}return e},basename(t,e){n(t),e&&n(e),t=r(this.toPosix(t));let i,s=0,o=-1,a=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let n=e.length-1,r=-1;for(i=t.length-1;i>=0;--i){const h=t.charCodeAt(i);if(47===h){if(!a){s=i+1;break}}else-1===r&&(a=!1,r=i+1),n>=0&&(h===e.charCodeAt(n)?-1==--n&&(o=i):(n=-1,o=r))}return s===o?o=r:-1===o&&(o=t.length),t.slice(s,o)}for(i=t.length-1;i>=0;--i)if(47===t.charCodeAt(i)){if(!a){s=i+1;break}}else-1===o&&(a=!1,o=i+1);return-1===o?"":t.slice(s,o)},extname(t){n(t);let e=-1,i=0,s=-1,o=!0,a=0;for(let n=(t=r(this.toPosix(t))).length-1;n>=0;--n){const r=t.charCodeAt(n);if(47!==r)-1===s&&(o=!1,s=n+1),46===r?-1===e?e=n:1!==a&&(a=1):-1!==e&&(a=-1);else if(!o){i=n+1;break}}return-1===e||-1===s||0===a||1===a&&e===s-1&&e===i+1?"":t.slice(e,s)},parse(t){n(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;let i=(t=r(this.toPosix(t))).charCodeAt(0);const s=this.isAbsolute(t);let o;e.root=this.rootname(t),o=s||this.hasProtocol(t)?1:0;let a=-1,h=0,l=-1,c=!0,u=t.length-1,d=0;for(;u>=o;--u)if(i=t.charCodeAt(u),47!==i)-1===l&&(c=!1,l=u+1),46===i?-1===a?a=u:1!==d&&(d=1):-1!==a&&(d=-1);else if(!c){h=u+1;break}return-1===a||-1===l||0===d||1===d&&a===l-1&&a===h+1?-1!==l&&(e.base=e.name=0===h&&s?t.slice(1,l):t.slice(h,l)):(0===h&&s?(e.name=t.slice(1,a),e.base=t.slice(1,l)):(e.name=t.slice(h,a),e.base=t.slice(h,l)),e.ext=t.slice(a,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]}},3012:(t,e,i)=>{"use strict";i.d(e,{B:()=>l});var s=i(7952),n=i(8306);const r={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function o(t){const e=/@group\((\d+)\)/,i=/@binding\((\d+)\)/,s=/var(<[^>]+>)? (\w+)/,n=/:\s*(\w+)/,r=/(\w+)\s*:\s*([\w\<\>]+)/g,o=/struct\s+(\w+)/,a=t.match(/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g)?.map((t=>({group:parseInt(t.match(e)[1],10),binding:parseInt(t.match(i)[1],10),name:t.match(s)[2],isUniform:"<uniform>"===t.match(s)[1],type:t.match(n)[1]})));if(!a)return{groups:[],structs:[]};const h=t.match(/struct\s+(\w+)\s*{([^}]+)}/g)?.map((t=>{const e=t.match(o)[1],i=t.match(r).reduce(((t,e)=>{const[i,s]=e.split(":");return t[i.trim()]=s.trim(),t}),{});return i?{name:e,members:i}:null})).filter((({name:t})=>a.some((e=>e.type===t))))??[];return{groups:a,structs:h}}var a=(t=>(t[t.VERTEX=1]="VERTEX",t[t.FRAGMENT=2]="FRAGMENT",t[t.COMPUTE=4]="COMPUTE",t))(a||{});const h=Object.create(null);class l{constructor(t){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:e,vertex:i,layout:s,gpuLayout:n,name:r}=t;if(this.name=r,this.fragment=e,this.vertex=i,e.source===i.source){const t=o(e.source);this.structsAndGroups=t}else{const t=o(i.source),s=o(e.source);this.structsAndGroups=function(t,e){const i=new Set,s=new Set;return{structs:[...t.structs,...e.structs].filter((t=>!i.has(t.name)&&(i.add(t.name),!0))),groups:[...t.groups,...e.groups].filter((t=>{const e=`${t.name}-${t.binding}`;return!s.has(e)&&(s.add(e),!0)}))}}(t,s)}this.layout=s??function({groups:t}){const e=[];for(let i=0;i<t.length;i++){const s=t[i];e[s.group]||(e[s.group]={}),e[s.group][s.name]=s.binding}return e}(this.structsAndGroups),this.gpuLayout=n??function({groups:t}){const e=[];for(let i=0;i<t.length;i++){const s=t[i];e[s.group]||(e[s.group]=[]),s.isUniform?e[s.group].push({binding:s.binding,visibility:a.VERTEX|a.FRAGMENT,buffer:{type:"uniform"}}):"sampler"===s.type?e[s.group].push({binding:s.binding,visibility:a.FRAGMENT,sampler:{type:"filtering"}}):"texture_2d"===s.type&&e[s.group].push({binding:s.binding,visibility:a.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}(this.structsAndGroups),this.autoAssignGlobalUniforms=!(void 0===this.layout[0]?.globalUniforms),this.autoAssignLocalUniforms=!(void 0===this.layout[1]?.localUniforms),this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:e}=this,i=t.source+e.source+t.entryPoint+e.entryPoint;this._layoutKey=(0,s.X)(i,"program")}get attributeData(){return this._attributeData??(this._attributeData=function({source:t,entryPoint:e}){const i={},s=t.indexOf(`fn ${e}`);if(-1!==s){const e=t.indexOf("->",s);if(-1!==e){const o=t.substring(s,e),a=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let h;for(;null!==(h=a.exec(o));){const t=r[h[3]]??"float32";i[h[2]]={location:parseInt(h[1],10),format:t,stride:(0,n.m)(t).stride,offset:0,instance:!1,start:0}}}}return i}(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const e=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return h[e]||(h[e]=new l(t)),h[e]}}},3266:(t,e,i)=>{"use strict";i.d(e,{b:()=>o});var s=i(4670),n=i(5060);const r=class t extends n.u{constructor(...t){super({});let e=t[0]??{};"number"==typeof e&&((0,s.t6)(s.lj,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),e={width:e,height:t[1],verticesX:t[2],verticesY:t[3]}),this.build(e)}build(e){e={...t.defaultOptions,...e},this.verticesX=this.verticesX??e.verticesX,this.verticesY=this.verticesY??e.verticesY,this.width=this.width??e.width,this.height=this.height??e.height;const i=this.verticesX*this.verticesY,s=[],n=[],r=[],o=this.verticesX-1,a=this.verticesY-1,h=this.width/o,l=this.height/a;for(let t=0;t<i;t++){const e=t%this.verticesX,i=t/this.verticesX|0;s.push(e*h,i*l),n.push(e/o,i/a)}const c=o*a;for(let t=0;t<c;t++){const e=t%o,i=t/o|0,s=i*this.verticesX+e,n=i*this.verticesX+e+1,a=(i+1)*this.verticesX+e,h=(i+1)*this.verticesX+e+1;r.push(s,n,a,n,h,a)}this.buffers[0].data=new Float32Array(s),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint32Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};r.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};let o=r},3513:(t,e,i)=>{"use strict";i.d(e,{T:()=>s});class s{constructor(t){this.resources=Object.create(null),this._dirty=!0;let e=0;for(const i in t){const s=t[i];this.setResource(s,e++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let e=0;for(const i in this.resources)t[e++]=this.resources[i]._resourceId;this._key=t.join("|")}setResource(t,e){const i=this.resources[e];t!==i&&(i&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[e]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const e=this.resources;for(const i in e)e[i]._touched=t}destroy(){const t=this.resources;for(const e in t){const i=t[e];i.off?.("change",this.onResourceChange,this)}this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const e=this.resources;for(const i in e)e[i]===t&&(e[i]=null)}else this._updateKey()}}},3548:(t,e,i)=>{"use strict";i.d(e,{r:()=>c});var s=i(2577),n=i(9313),r=i(4492),o=i(268),a=i(7276),h=i(2806);const l=1e5;function c(t,e,i,c=0){if(t.texture===r.g.WHITE&&!t.fill)return s.Q.shared.setValue(t.color).setAlpha(t.alpha??1).toHexa();if(!t.fill){const i=e.createPattern(t.texture.source.resource,"repeat"),s=t.matrix.copyTo(n.u.shared);return s.scale(t.texture.frame.width,t.texture.frame.height),i.setTransform(s),i}if(t.fill instanceof h.m){const i=t.fill,s=e.createPattern(i.texture.source.resource,"repeat"),r=i.transform.copyTo(n.u.shared);return r.scale(i.texture.frame.width,i.texture.frame.height),s.setTransform(r),s}if(t.fill instanceof a._){const n=t.fill,r="linear"===n.type,o="local"===n.textureSpace;let a,h=1,u=1;o&&i&&(h=i.width+c,u=i.height+c);let d=!1;if(r){const{start:t,end:i}=n;a=e.createLinearGradient(t.x*h,t.y*u,i.x*h,i.y*u),d=Math.abs(i.x-t.x)<Math.abs(.1*(i.y-t.y))}else{const{center:t,innerRadius:i,outerCenter:s,outerRadius:r}=n;a=e.createRadialGradient(t.x*h,t.y*u,i*h,s.x*h,s.y*u,r*h)}if(d&&o&&i){const t=i.lineHeight/u;for(let e=0;e<i.lines.length;e++){const r=(e*i.lineHeight+c/2)/u;n.colorStops.forEach((e=>{const i=r+e.offset*t;a.addColorStop(Math.floor(i*l)/l,s.Q.shared.setValue(e.color).toHex())}))}}else n.colorStops.forEach((t=>{a.addColorStop(t.offset,s.Q.shared.setValue(t.color).toHex())}));return a}return(0,o.R)("FillStyle not recognised",t),"red"}},3804:(t,e,i)=>{"use strict";i.d(e,{W:()=>r});var s=i(1761);let n;function r(){if(!n||n?.isContextLost()){const t=s.e.get().createCanvas();n=t.getContext("webgl",{})}return n}},4e3:(t,e,i)=>{"use strict";i.d(e,{P:()=>l,_:()=>o});const s={};function n(t){const e=[];if(1===t)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let i=0;for(let s=0;s<t;s++)e.push(`@group(1) @binding(${i++}) var textureSource${s+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${i++}) var textureSampler${s+1}: sampler;`)}return e.join("\n")}function r(t){const e=[];if(1===t)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let i=0;i<t;i++)i===t-1?e.push("  default:{"):e.push(`  case ${i}:{`),e.push(`      outColor = textureSampleGrad(textureSource${i+1}, textureSampler${i+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join("\n")}function o(t){return s[t]||(s[t]={name:"texture-batch-bit",vertex:{header:"\n                @in aTextureIdAndRound: vec2<u32>;\n                @out @interpolate(flat) vTextureId : u32;\n            ",main:"\n                vTextureId = aTextureIdAndRound.y;\n            ",end:"\n                if(aTextureIdAndRound.x == 1)\n                {\n                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n                }\n            "},fragment:{header:`\n                @in @interpolate(flat) vTextureId: u32;\n\n                ${n(t)}\n            `,main:`\n                var uvDx = dpdx(vUV);\n                var uvDy = dpdy(vUV);\n\n                ${r(t)}\n            `}}),s[t]}const a={};function h(t){const e=[];for(let i=0;i<t;i++)i>0&&e.push("else"),i<t-1&&e.push(`if(vTextureId < ${i}.5)`),e.push("{"),e.push(`\toutColor = texture(uTextures[${i}], vUV);`),e.push("}");return e.join("\n")}function l(t){return a[t]||(a[t]={name:"texture-batch-bit",vertex:{header:"\n                in vec2 aTextureIdAndRound;\n                out float vTextureId;\n\n            ",main:"\n                vTextureId = aTextureIdAndRound.y;\n            ",end:"\n                if(aTextureIdAndRound.x == 1.)\n                {\n                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n                }\n            "},fragment:{header:`\n                in float vTextureId;\n\n                uniform sampler2D uTextures[${t}];\n\n            `,main:`\n\n                ${h(t)}\n            `}}),a[t]}},4016:(t,e,i)=>{"use strict";i.d(e,{P:()=>a});var s=i(1761),n=i(1242);const r={willReadFrequently:!0},o=class t{static get experimentalLetterSpacingSupported(){let e=t._experimentalLetterSpacingSupported;if(void 0!==e){const i=s.e.get().getCanvasRenderingContext2D().prototype;e=t._experimentalLetterSpacingSupported="letterSpacing"in i||"textLetterSpacing"in i}return e}constructor(t,e,i,s,n,r,o,a,h){this.text=t,this.style=e,this.width=i,this.height=s,this.lines=n,this.lineWidths=r,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=h}static measureText(e=" ",i,s=t._canvas,r=i.wordWrap){const o=`${e}:${i.styleKey}`;if(t._measurementCache[o])return t._measurementCache[o];const a=(0,n.Z)(i),h=t.measureFont(a);0===h.fontSize&&(h.fontSize=i.fontSize,h.ascent=i.fontSize);const l=t.__context;l.font=a;const c=(r?t._wordWrap(e,i,s):e).split(/(?:\r\n|\r|\n)/),u=new Array(c.length);let d=0;for(let e=0;e<c.length;e++){const s=t._measureText(c[e],i.letterSpacing,l);u[e]=s,d=Math.max(d,s)}const p=i._stroke?.width||0;let f=d+p;i.dropShadow&&(f+=i.dropShadow.distance);const g=i.lineHeight||h.fontSize;let m=Math.max(g,h.fontSize+p)+(c.length-1)*(g+i.leading);return i.dropShadow&&(m+=i.dropShadow.distance),new t(e,i,f,m,c,u,g+i.leading,d,h)}static _measureText(e,i,s){let n=!1;t.experimentalLetterSpacingSupported&&(t.experimentalLetterSpacing?(s.letterSpacing=`${i}px`,s.textLetterSpacing=`${i}px`,n=!0):(s.letterSpacing="0px",s.textLetterSpacing="0px"));const r=s.measureText(e);let o=r.width;const a=-r.actualBoundingBoxLeft;let h=r.actualBoundingBoxRight-a;if(o>0)if(n)o-=i,h-=i;else{const s=(t.graphemeSegmenter(e).length-1)*i;o+=s,h+=s}return Math.max(o,h)}static _wordWrap(e,i,s=t._canvas){const n=s.getContext("2d",r);let o=0,a="",h="";const l=Object.create(null),{letterSpacing:c,whiteSpace:u}=i,d=t._collapseSpaces(u),p=t._collapseNewlines(u);let f=!d;const g=i.wordWrapWidth+c,m=t._tokenize(e);for(let e=0;e<m.length;e++){let s=m[e];if(t._isNewline(s)){if(!p){h+=t._addLine(a),f=!d,a="",o=0;continue}s=" "}if(d){const e=t.isBreakingSpace(s),i=t.isBreakingSpace(a[a.length-1]);if(e&&i)continue}const r=t._getFromCache(s,c,l,n);if(r>g)if(""!==a&&(h+=t._addLine(a),a="",o=0),t.canBreakWords(s,i.breakWords)){const e=t.wordWrapSplit(s);for(let r=0;r<e.length;r++){let u=e[r],d=u,p=1;for(;e[r+p];){const n=e[r+p];if(t.canBreakChars(d,n,s,r,i.breakWords))break;u+=n,d=n,p++}r+=p-1;const m=t._getFromCache(u,c,l,n);m+o>g&&(h+=t._addLine(a),f=!1,a="",o=0),a+=u,o+=m}}else{a.length>0&&(h+=t._addLine(a),a="",o=0);const i=e===m.length-1;h+=t._addLine(s,!i),f=!1,a="",o=0}else r+o>g&&(f=!1,h+=t._addLine(a),a="",o=0),(a.length>0||!t.isBreakingSpace(s)||f)&&(a+=s,o+=r)}return h+=t._addLine(a,!1),h}static _addLine(e,i=!0){return e=t._trimRight(e),i?`${e}\n`:e}static _getFromCache(e,i,s,n){let r=s[e];return"number"!=typeof r&&(r=t._measureText(e,i,n)+i,s[e]=r),r}static _collapseSpaces(t){return"normal"===t||"pre-line"===t}static _collapseNewlines(t){return"normal"===t}static _trimRight(e){if("string"!=typeof e)return"";for(let i=e.length-1;i>=0;i--){const s=e[i];if(!t.isBreakingSpace(s))break;e=e.slice(0,-1)}return e}static _isNewline(e){return"string"==typeof e&&t._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,i){return"string"==typeof e&&t._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const i=[];let s="";if("string"!=typeof e)return i;for(let n=0;n<e.length;n++){const r=e[n],o=e[n+1];t.isBreakingSpace(r,o)||t._isNewline(r)?(""!==s&&(i.push(s),s=""),i.push(r)):s+=r}return""!==s&&i.push(s),i}static canBreakWords(t,e){return e}static canBreakChars(t,e,i,s,n){return!0}static wordWrapSplit(e){return t.graphemeSegmenter(e)}static measureFont(e){if(t._fonts[e])return t._fonts[e];const i=t._context;i.font=e;const s=i.measureText(t.METRICS_STRING+t.BASELINE_SYMBOL),n={ascent:s.actualBoundingBoxAscent,descent:s.actualBoundingBoxDescent,fontSize:s.actualBoundingBoxAscent+s.actualBoundingBoxDescent};return t._fonts[e]=n,n}static clearMetrics(e=""){e?delete t._fonts[e]:t._fonts={}}static get _canvas(){if(!t.__canvas){let e;try{const i=new OffscreenCanvas(0,0),n=i.getContext("2d",r);if(n?.measureText)return t.__canvas=i,i;e=s.e.get().createCanvas()}catch(t){e=s.e.get().createCanvas()}e.width=e.height=10,t.__canvas=e}return t.__canvas}static get _context(){return t.__context||(t.__context=t._canvas.getContext("2d",r)),t.__context}};o.METRICS_STRING="|q",o.BASELINE_SYMBOL="M",o.BASELINE_MULTIPLIER=1.4,o.HEIGHT_MULTIPLIER=2,o.graphemeSegmenter=(()=>{if("function"==typeof Intl?.Segmenter){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map((t=>t.segment))}return t=>[...t]})(),o.experimentalLetterSpacing=!1,o._fonts={},o._newlines=[10,13],o._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288],o._measurementCache={};let a=o},4146:(t,e,i)=>{"use strict";var s=i(4363),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function h(t){return s.isMemo(t)?o:a[t.$$typeof]||n}a[s.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[s.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,i,s){if("string"!=typeof i){if(f){var n=p(i);n&&n!==f&&t(e,n,s)}var o=c(i);u&&(o=o.concat(u(i)));for(var a=h(e),g=h(i),m=0;m<o.length;++m){var x=o[m];if(!(r[x]||s&&s[x]||g&&g[x]||a&&a[x])){var b=d(i,x);try{l(e,x,b)}catch(t){}}}}return e}},4195:(t,e,i)=>{"use strict";i.d(e,{P:()=>r});var s=i(8507),n=i(583);class r extends n.v{constructor(t){const e=t.resource||new Float32Array(t.width*t.height*4);let i=t.format;i||(i=e instanceof Float32Array?"rgba32float":e instanceof Int32Array||e instanceof Uint32Array?"rgba32uint":e instanceof Int16Array||e instanceof Uint16Array?"rgba16uint":(Int8Array,"bgra8unorm")),super({...t,resource:e,format:i}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}r.extension=s.Ag.TextureSource},4363:(t,e,i)=>{"use strict";t.exports=i(2799)},4458:(t,e,i)=>{"use strict";i.d(e,{d:()=>s});var s=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(s||{})},4459:(t,e,i)=>{"use strict";i.d(e,{F:()=>s,a:()=>n});const s={name:"color-bit",vertex:{header:"\n            @in aColor: vec4<f32>;\n        ",main:"\n            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);\n        "}},n={name:"color-bit",vertex:{header:"\n            in vec4 aColor;\n        ",main:"\n            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);\n        "}}},4492:(t,e,i)=>{"use strict";i.d(e,{g:()=>_});var s=i(8875),n=i(9313);const r=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],o=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],h=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],c=[],u=Math.sign;!function(){for(let t=0;t<16;t++){const e=[];l.push(e);for(let i=0;i<16;i++){const s=u(r[t]*r[i]+a[t]*o[i]),n=u(o[t]*r[i]+h[t]*o[i]),l=u(r[t]*a[i]+a[t]*h[i]),c=u(o[t]*a[i]+h[t]*h[i]);for(let t=0;t<16;t++)if(r[t]===s&&o[t]===n&&a[t]===l&&h[t]===c){e.push(t);break}}}for(let t=0;t<16;t++){const e=new n.u;e.set(r[t],o[t],a[t],h[t],0,0),c.push(e)}}();const d={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>r[t],uY:t=>o[t],vX:t=>a[t],vY:t=>h[t],inv:t=>8&t?15&t:7&-t,add:(t,e)=>l[t][e],sub:(t,e)=>l[t][d.inv(e)],rotate180:t=>4^t,isVertical:t=>2==(3&t),byDirection:(t,e)=>2*Math.abs(t)<=Math.abs(e)?e>=0?d.S:d.N:2*Math.abs(e)<=Math.abs(t)?t>0?d.E:d.W:e>0?t>0?d.SE:d.SW:t>0?d.NE:d.NW,matrixAppendRotationInv:(t,e,i=0,s=0)=>{const n=c[d.inv(e)];n.tx=i,n.ty=s,t.append(n)}};var p=i(9252),f=i(133),g=i(4670);const m=()=>{};var x=i(4195),b=i(583),y=i(1196);class _ extends s.A{constructor({source:t,label:e,frame:i,orig:s,trim:n,defaultAnchor:r,defaultBorders:o,rotate:a,dynamic:h}={}){if(super(),this.uid=(0,f.L)("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new p.M,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=e,this.source=t?.source??new b.v,this.noFrame=!i,i)this.frame.copyFrom(i);else{const{width:t,height:e}=this._source;this.frame.width=t,this.frame.height=e}this.orig=s||this.frame,this.trim=n,this.rotate=a??0,this.defaultAnchor=r,this.defaultBorders=o,this.destroyed=!1,this.dynamic=h||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new y.N(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:e}=this,{width:i,height:s}=this._source,n=e.x/i,r=e.y/s,o=e.width/i,a=e.height/s;let h=this.rotate;if(h){const e=o/2,i=a/2,s=n+e,l=r+i;h=d.add(h,d.NW),t.x0=s+e*d.uX(h),t.y0=l+i*d.uY(h),h=d.add(h,2),t.x1=s+e*d.uX(h),t.y1=l+i*d.uY(h),h=d.add(h,2),t.x2=s+e*d.uX(h),t.y2=l+i*d.uY(h),h=d.add(h,2),t.x3=s+e*d.uX(h),t.y3=l+i*d.uY(h)}else t.x0=n,t.y0=r,t.x1=n+o,t.y1=r,t.x2=n+o,t.y2=r+a,t.x3=n,t.y3=r+a}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return(0,g.t6)(g.lj,"Texture.baseTexture is now Texture.source"),this._source}}_.EMPTY=new _({label:"EMPTY",source:new b.v({label:"EMPTY"})}),_.EMPTY.destroy=m,_.WHITE=new _({source:new x.P({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"}),_.WHITE.destroy=m},4577:(t,e,i)=>{"use strict";let s;function n(){if("boolean"==typeof s)return s;try{const t=new Function("param1","param2","param3","return param1[param2] === param3;");s=!0===t({a:"b"},"a","b")}catch(t){s=!1}return s}i.d(e,{f:()=>n})},4589:(t,e,i)=>{"use strict";i.d(e,{T:()=>s});var s=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(s||{})},4670:(t,e,i)=>{"use strict";i.d(e,{Ek:()=>r,lj:()=>n,t6:()=>o});const s={},n="8.0.0",r="8.3.4";function o(t,e,i=3){if(s[e])return;let n=(new Error).stack;void 0===n?console.warn("PixiJS Deprecation Warning: ",`${e}\nDeprecated since v${t}`):(n=n.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}\nDeprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}\nDeprecated since v${t}`),console.warn(n))),s[e]=!0}},4676:(t,e,i)=>{"use strict";function s(t,e){return 16777215!==t&&e?16777215!==e&&t?((t>>16&255)*(e>>16&255)/255<<16)+((t>>8&255)*(e>>8&255)/255<<8)+((255&t)*(255&e)/255|0):t:e}i.d(e,{u:()=>s})},4884:(t,e,i)=>{"use strict";i.d(e,{q:()=>o});var s=i(1761),n=i(8507),r=i(583);class o extends r.v{constructor(t){t.resource||(t.resource=s.e.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),this.resource.width===this.pixelWidth&&this.resource.height===this.pixelHeight||(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,e=this.height,i=this._resolution){const s=super.resize(t,e,i);return s&&this.resizeCanvas(),s}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}o.extension=n.Ag.TextureSource},4985:(t,e,i)=>{"use strict";i.d(e,{l:()=>r});var s=i(9636),n=i(5815);class r extends n.mc{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._bounds=new s.c(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const e=this.bounds,{x:i,y:s}=t;return i>=e.minX&&i<=e.maxX&&s>=e.minY&&s<=e.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null}collectRenderablesSimple(t,e,i){const{renderPipes:s,renderableGC:n}=e;s.blendMode.setBlendMode(this,this.groupBlendMode,t),s[this.renderPipeId].addRenderable(this,t),n.addRenderable(this),this.didViewUpdate=!1;const r=this.children,o=r.length;for(let s=0;s<o;s++)r[s].collectRenderables(t,e,i)}}},5060:(t,e,i)=>{"use strict";i.d(e,{u:()=>h});var s=i(949),n=i(1132),r=i(6011),o=i(4670);const a=class t extends r.V{constructor(...e){let i=e[0]??{};i instanceof Float32Array&&((0,o.t6)(o.lj,"use new MeshGeometry({ positions, uvs, indices }) instead"),i={positions:i,uvs:e[1],indices:e[2]}),i={...t.defaultOptions,...i};const r=i.positions||new Float32Array([0,0,1,0,1,1,0,1]);let a=i.uvs;a||(a=i.positions?new Float32Array(r.length):new Float32Array([0,0,1,0,1,1,0,1]));const h=i.indices||new Uint32Array([0,1,2,0,2,3]),l=i.shrinkBuffersToFit;super({attributes:{aPosition:{buffer:new s.h({data:r,label:"attribute-mesh-positions",shrinkToFit:l,usage:n.S.VERTEX|n.S.COPY_DST}),format:"float32x2",stride:8,offset:0},aUV:{buffer:new s.h({data:a,label:"attribute-mesh-uvs",shrinkToFit:l,usage:n.S.VERTEX|n.S.COPY_DST}),format:"float32x2",stride:8,offset:0}},indexBuffer:new s.h({data:h,label:"index-mesh-buffer",shrinkToFit:l,usage:n.S.INDEX|n.S.COPY_DST}),topology:i.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(t){this.attributes.aPosition.buffer.data=t}get uvs(){return this.attributes.aUV.buffer.data}set uvs(t){this.attributes.aUV.buffer.data=t}get indices(){return this.indexBuffer.data}set indices(t){this.indexBuffer.data=t}};a.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let h=a},5099:(t,e,i)=>{"use strict";i.d(e,{W:()=>s});var s=(t=>(t[t.WEBGL=1]="WEBGL",t[t.WEBGPU=2]="WEBGPU",t[t.BOTH=3]="BOTH",t))(s||{})},5101:(t,e,i)=>{"use strict";i.d(e,{b:()=>s});class s{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new s(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return n.x=0,n.y=0,n}}const n=new s},5585:t=>{"use strict";var e=Object.prototype.hasOwnProperty,i="~";function s(){}function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(t,e,s,r,o){if("function"!=typeof s)throw new TypeError("The listener must be a function");var a=new n(s,r||t,o),h=i?i+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new s:delete t._events[e]}function a(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,s,n=[];if(0===this._eventsCount)return n;for(s in t=this._events)e.call(t,s)&&n.push(i?s.slice(1):s);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var e=i?i+t:t,s=this._events[e];if(!s)return[];if(s.fn)return[s.fn];for(var n=0,r=s.length,o=new Array(r);n<r;n++)o[n]=s[n].fn;return o},a.prototype.listenerCount=function(t){var e=i?i+t:t,s=this._events[e];return s?s.fn?1:s.length:0},a.prototype.emit=function(t,e,s,n,r,o){var a=i?i+t:t;if(!this._events[a])return!1;var h,l,c=this._events[a],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,s),!0;case 4:return c.fn.call(c.context,e,s,n),!0;case 5:return c.fn.call(c.context,e,s,n,r),!0;case 6:return c.fn.call(c.context,e,s,n,r,o),!0}for(l=1,h=new Array(u-1);l<u;l++)h[l-1]=arguments[l];c.fn.apply(c.context,h)}else{var d,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),u){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,s);break;case 4:c[l].fn.call(c[l].context,e,s,n);break;default:if(!h)for(d=1,h=new Array(u-1);d<u;d++)h[d-1]=arguments[d];c[l].fn.apply(c[l].context,h)}}return!0},a.prototype.on=function(t,e,i){return r(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return r(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,s,n){var r=i?i+t:t;if(!this._events[r])return this;if(!e)return o(this,r),this;var a=this._events[r];if(a.fn)a.fn!==e||n&&!a.once||s&&a.context!==s||o(this,r);else{for(var h=0,l=[],c=a.length;h<c;h++)(a[h].fn!==e||n&&!a[h].once||s&&a[h].context!==s)&&l.push(a[h]);l.length?this._events[r]=1===l.length?l[0]:l:o(this,r)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&o(this,e)):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a},5611:(t,e,i)=>{"use strict";i.d(e,{I:()=>k,v:()=>M});var s=i(9113),n=i(3012),r=i(268);function o(t,e,i){if(t)for(const s in t){const n=e[s.toLocaleLowerCase()];if(n){let e=t[s];"header"===s&&(e=e.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),i&&n.push(`//----${i}----//`),n.push(e)}else(0,r.R)(`${s} placement hook does not exist in shader`)}}const a=/\{\{(.*?)\}\}/g;function h(t){const e={};return(t.match(a)?.map((t=>t.replace(/[{()}]/g,"")))??[]).forEach((t=>{e[t]=[]})),e}function l(t,e){let i;const s=/@in\s+([^;]+);/g;for(;null!==(i=s.exec(t));)e.push(i[1])}function c(t,e,i=!1){const s=[];l(e,s),t.forEach((t=>{t.header&&l(t.header,s)}));const n=s;i&&n.sort();const r=n.map(((t,e)=>`       @location(${e}) ${t},`)).join("\n");let o=e.replace(/@in\s+[^;]+;\s*/g,"");return o=o.replace("{{in}}",`\n${r}\n`),o}function u(t,e){let i;const s=/@out\s+([^;]+);/g;for(;null!==(i=s.exec(t));)e.push(i[1])}function d(t,e){let i=t;for(const t in e){const s=e[t];i=s.join("\n").length?i.replace(`{{${t}}}`,`//-----${t} START-----//\n${s.join("\n")}\n//----${t} FINISH----//`):i.replace(`{{${t}}}`,"")}return i}const p=Object.create(null),f=new Map;let g=0;function m({template:t,bits:e}){const i=x(t,e);return p[i]||(p[i]=b(t.vertex,t.fragment,e)),p[i]}function x(t,e){return e.map((t=>(f.has(t)||f.set(t,g++),f.get(t)))).sort(((t,e)=>t-e)).join("-")+t.vertex+t.fragment}function b(t,e,i){const s=h(t),n=h(e);return i.forEach((t=>{o(t.vertex,s,t.name),o(t.fragment,n,t.name)})),{vertex:d(t,s),fragment:d(e,n)}}const y="\n    @in aPosition: vec2<f32>;\n    @in aUV: vec2<f32>;\n\n    @out @builtin(position) vPosition: vec4<f32>;\n    @out vUV : vec2<f32>;\n    @out vColor : vec4<f32>;\n\n    {{header}}\n\n    struct VSOutput {\n        {{struct}}\n    };\n\n    @vertex\n    fn main( {{in}} ) -> VSOutput {\n\n        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;\n        var modelMatrix = mat3x3<f32>(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        var position = aPosition;\n        var uv = aUV;\n\n        {{start}}\n        \n        vColor = vec4<f32>(1., 1., 1., 1.);\n\n        {{main}}\n\n        vUV = uv;\n\n        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);\n       \n        vColor *= globalUniforms.uWorldColorAlpha;\n\n        {{end}}\n\n        {{return}}\n    };\n",_="\n    @in vUV : vec2<f32>;\n    @in vColor : vec4<f32>;\n   \n    {{header}}\n\n    @fragment\n    fn main(\n        {{in}}\n      ) -> @location(0) vec4<f32> {\n        \n        {{start}}\n\n        var outColor:vec4<f32>;\n      \n        {{main}}\n        \n        var finalColor:vec4<f32> = outColor * vColor;\n\n        {{end}}\n\n        return finalColor;\n      };\n",v="\n    in vec2 aPosition;\n    in vec2 aUV;\n\n    out vec4 vColor;\n    out vec2 vUV;\n\n    {{header}}\n\n    void main(void){\n\n        mat3 worldTransformMatrix = uWorldTransformMatrix;\n        mat3 modelMatrix = mat3(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        vec2 position = aPosition;\n        vec2 uv = aUV;\n        \n        {{start}}\n        \n        vColor = vec4(1.);\n        \n        {{main}}\n        \n        vUV = uv;\n        \n        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n\n        vColor *= uWorldColorAlpha;\n\n        {{end}}\n    }\n",w="\n   \n    in vec4 vColor;\n    in vec2 vUV;\n\n    out vec4 finalColor;\n\n    {{header}}\n\n    void main(void) {\n        \n        {{start}}\n\n        vec4 outColor;\n      \n        {{main}}\n        \n        finalColor = outColor * vColor;\n        \n        {{end}}\n    }\n",A={name:"global-uniforms-bit",vertex:{header:"\n        struct GlobalUniforms {\n            uProjectionMatrix:mat3x3<f32>,\n            uWorldTransformMatrix:mat3x3<f32>,\n            uWorldColorAlpha: vec4<f32>,\n            uResolution: vec2<f32>,\n        }\n\n        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;\n        "}},S={name:"global-uniforms-bit",vertex:{header:"\n          uniform mat3 uProjectionMatrix;\n          uniform mat3 uWorldTransformMatrix;\n          uniform vec4 uWorldColorAlpha;\n          uniform vec2 uResolution;\n        "}};function M({bits:t,name:e}){const i=function({template:t,bits:e}){const i=x(t,e);if(p[i])return p[i];const{vertex:s,fragment:n}=function(t,e){const i=e.map((t=>t.vertex)).filter((t=>!!t)),s=e.map((t=>t.fragment)).filter((t=>!!t));let n=c(i,t.vertex,!0);return n=function(t,e){const i=[];u(e,i),t.forEach((t=>{t.header&&u(t.header,i)}));let s=0;const n=i.sort().map((t=>t.indexOf("builtin")>-1?t:`@location(${s++}) ${t}`)).join(",\n"),r=i.sort().map((t=>{return`       var ${e=t,e.replace(/@.*?\s+/g,"")};`;var e})).join("\n"),o=`return VSOutput(\n            ${i.sort().map((t=>` ${function(t){const e=/\b(\w+)\s*:/g.exec(t);return e?e[1]:""}(t)}`)).join(",\n")});`;let a=e.replace(/@out\s+[^;]+;\s*/g,"");return a=a.replace("{{struct}}",`\n${n}\n`),a=a.replace("{{start}}",`\n${r}\n`),a=a.replace("{{return}}",`\n${o}\n`),a}(i,n),{vertex:n,fragment:c(s,t.fragment,!0)}}(t,e);return p[i]=b(s,n,e),p[i]}({template:{fragment:_,vertex:y},bits:[A,...t]});return n.B.from({name:e,vertex:{source:i.vertex,entryPoint:"main"},fragment:{source:i.fragment,entryPoint:"main"}})}function k({bits:t,name:e}){return new s.M({name:e,...m({template:{vertex:v,fragment:w},bits:[S,...t]})})}},5811:(t,e,i)=>{"use strict";i.d(e,{k:()=>l});var s=i(133),n=i(7952);const r=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],o=r.reduce(((t,e)=>(t[e]=!0,t)),{});function a(t,e){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const h=class t{constructor(e,i){this._touched=0,this.uid=(0,s.L)("uniform"),this._resourceType="uniformGroup",this._resourceId=(0,s.L)("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,i={...t.defaultOptions,...i},this.uniformStructures=e;const h={};for(const t in e){const i=e[t];if(i.name=t,i.size=i.size??1,!o[i.type])throw new Error(`Uniform type ${i.type} is not supported. Supported uniform types are: ${r.join(", ")}`);i.value??(i.value=a(i.type,i.size)),h[t]=i.value}this.uniforms=h,this._dirtyId=1,this.ubo=i.ubo,this.isStatic=i.isStatic,this._signature=(0,n.X)(Object.keys(h).map((t=>`${t}-${e[t].type}`)).join("-"),"uniform-group")}update(){this._dirtyId++}};h.defaultOptions={ubo:!1,isStatic:!1};let l=h},5815:(t,e,i)=>{"use strict";i.d(e,{mc:()=>G,u:()=>U,ig:()=>j,fR:()=>$});var s=i(8875),n=i(2577),r=i(8507),o=i(9313),a=i(1652),h=i(2812),l=i(133),c=i(4670),u=i(8218);const d={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(t){"boolean"==typeof t&&!1===t?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(!0===t?{}:t))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(t){(0,c.t6)("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(t)}};var p=i(9903);const f={allowChildren:!0,removeChildren(t=0,e){const i=e??this.children.length,s=i-t,n=[];if(s>0&&s<=i){for(let e=i-1;e>=t;e--){const t=this.children[e];t&&(n.push(t),t.parent=null)}(0,p.d)(this.children,t,i);const e=this.renderGroup||this.parentRenderGroup;e&&e.removeChildren(n);for(let t=0;t<n.length;++t){const e=n[t];e.parentRenderLayer?.detach(e),this.emit("childRemoved",e,this,t),n[t].emit("removed",this)}return n.length>0&&this._didViewChangeTick++,n}if(0===s&&0===this.children.length)return n;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||(0,c.t6)(c.lj,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:i}=this;if(e<0||e>i.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${i.length}`);if(t.parent){const i=t.parent.children.indexOf(t);if(t.parent===this&&i===e)return t;-1!==i&&t.parent.children.splice(i,1)}e===i.length?i.push(t):i.splice(e,0,t),t.parent=this,t.didChange=!0,t._updateFlags=15;const s=this.renderGroup||this.parentRenderGroup;return s&&s.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const i=this.getChildIndex(t),s=this.getChildIndex(e);this.children[i]=e,this.children[s]=t;const n=this.renderGroup||this.parentRenderGroup;n&&(n.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...t){return 1===t.length?this.reparentChildAt(t[0],this.children.length):(t.forEach((t=>this.reparentChildAt(t,this.children.length))),t[0])},reparentChildAt(t,e){if(t.parent===this)return this.setChildIndex(t,e),t;const i=t.worldTransform.clone();t.removeFromParent(),this.addChildAt(t,e);const s=this.worldTransform.clone();return s.invert(),i.prepend(s),t.setFromMatrix(i),t}},g={collectRenderables(t,e,i){this.parentRenderLayer&&this.parentRenderLayer!==i||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(t,e,i):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,t):this.collectRenderablesWithEffects(t,e,i))},collectRenderablesSimple(t,e,i){const s=this.children,n=s.length;for(let r=0;r<n;r++)s[r].collectRenderables(t,e,i)},collectRenderablesWithEffects(t,e,i){const{renderPipes:s}=e;for(let e=0;e<this.effects.length;e++){const i=this.effects[e];s[i.pipe].push(i,this,t)}this.collectRenderablesSimple(t,e,i);for(let e=this.effects.length-1;e>=0;e--){const i=this.effects[e];s[i.pipe].pop(i,this,t)}}};var m=i(9049);const x=new class{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach((t=>{this.add({test:t.test,maskClass:t})})))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let e=0;e<this._tests.length;e++){const i=this._tests[e];if(i.test(t))return u.Z.get(i.maskClass,t)}return t}returnMaskEffect(t){u.Z.return(t)}};r.XO.handleByList(r.Ag.MaskEffect,x._effectClasses);const b={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const t=this.renderGroup||this.parentRenderGroup;t&&(t.structureDidChange=!0)},addEffect(t){-1===this.effects.indexOf(t)&&(this.effects.push(t),this.effects.sort(((t,e)=>t.priority-e.priority)),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(t){const e=this.effects.indexOf(t);-1!==e&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(t){const e=this._maskEffect;e?.mask!==t&&(e&&(this.removeEffect(e),x.returnMaskEffect(e),this._maskEffect=null),null!=t&&(this._maskEffect=x.getMaskEffect(t),this.addEffect(this._maskEffect)))},setMask(t){this._maskOptions={...this._maskOptions,...t},t.mask&&(this.mask=t.mask),this._markStructureAsChanged()},get mask(){return this._maskEffect?.mask},set filters(t){!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new m.a),i=t?.length>0,s=i!==e.filters?.length>0;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),s&&(i?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){return this._filterEffect?.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new m.a),this._filterEffect.filterArea=t},get filterArea(){return this._filterEffect?.filterArea}},y={label:null,get name(){return(0,c.t6)(c.lj,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){(0,c.t6)(c.lj,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const i=this.children;for(let e=0;e<i.length;e++){const s=i[e];if(s.label===t||t instanceof RegExp&&t.test(s.label))return s}if(e)for(let e=0;e<i.length;e++){const s=i[e].getChildByLabel(t,!0);if(s)return s}return null},getChildrenByLabel(t,e=!1,i=[]){const s=this.children;for(let e=0;e<s.length;e++){const n=s[e];(n.label===t||t instanceof RegExp&&t.test(n.label))&&i.push(n)}if(e)for(let e=0;e<s.length;e++)s[e].getChildrenByLabel(t,!0,i);return i}};var _=i(9636),v=i(2208);const w=new o.u,A={getFastGlobalBounds(t,e){e||(e=new _.c),e.clear(),this._getGlobalBoundsRecursive(!!t,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const i=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(i.worldTransform),e},_getGlobalBoundsRecursive(t,e,i){let s=e;if(t&&this.parentRenderLayer&&this.parentRenderLayer!==i)return;if(7!==this.localDisplayStatus||!this.measurable)return;const n=!!this.effects.length;if((this.renderGroup||n)&&(s=v.o.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const t=this.bounds;s.addFrame(t.minX,t.minY,t.maxX,t.maxY,this.groupTransform)}const e=this.children;for(let n=0;n<e.length;n++)e[n]._getGlobalBoundsRecursive(t,s,i)}if(n){let t=!1;const i=this.renderGroup||this.parentRenderGroup;for(let e=0;e<this.effects.length;e++)this.effects[e].addBounds&&(t||(t=!0,s.applyMatrix(i.worldTransform)),this.effects[e].addBounds(s,!0));t&&(s.applyMatrix(i.worldTransform.copyTo(w).invert()),e.addBounds(s,this.relativeGroupTransform)),e.addBounds(s),v.o.return(s)}else this.renderGroup&&(e.addBounds(s,this.relativeGroupTransform),v.o.return(s))}};var S=i(9443),M=i(753);function k(t){return((255&t)<<16)+(65280&t)+(t>>16&255)}const C={getGlobalAlpha(t){if(t)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,i=this.parent;for(;i;)e*=i.alpha,i=i.parent;return e},getGlobalTransform(t,e){if(e)return t.copyFrom(this.worldTransform);this.updateLocalTransform();const i=(0,S.Ek)(this,v.u.get().identity());return t.appendFrom(this.localTransform,i),v.u.return(i),t},getGlobalTint(t){if(t)return this.renderGroup?k(this.renderGroup.worldColor):this.parentRenderGroup?k((0,M.j)(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,i=this.parent;for(;i;)e=(0,M.j)(e,i.localColor),i=i.parent;return k(e)}};var P=i(7269);function T(t,e){const i=t.children;for(let t=0;t<i.length;t++){const s=i[t],n=s.uid,r=(65535&s._didViewChangeTick)<<16|65535&s._didContainerChangeTick,o=e.index;e.data[o]===n&&e.data[o+1]===r||(e.data[e.index]=n,e.data[e.index+1]=r,e.didChange=!0),e.index=o+2,s.children.length&&T(s,e)}return e.didChange}const O=new o.u,E={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const i=Math.sign(this.scale.x)||1;this.scale.x=0!==e?t/e*i:i},_setHeight(t,e){const i=Math.sign(this.scale.y)||1;this.scale.y=0!==e?t/e*i:i},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new _.c});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didViewChangeTick&&(t.didChange=!0,t.data[0]=this._didViewChangeTick),T(this,t),t.didChange&&(0,P.n)(this,t.localBounds,O),t.localBounds},getBounds(t,e){return(0,S.fB)(this,t,e||new _.c)}},I={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t)return this._onRender&&e?.removeOnRender(this),void(this._onRender=null);this._onRender||e?.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},R={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(F))}};function F(t,e){return t._zIndex-e._zIndex}var L=i(5101);const D={getGlobalPosition(t=new L.b,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,i=!1){const s=this.getGlobalTransform(v.u.get(),i);return e=s.apply(t,e),v.u.return(s),e},toLocal(t,e,i,s){e&&(t=e.toGlobal(t,i,s));const n=this.getGlobalTransform(v.u.get(),s);return i=n.applyInverse(t,i),v.u.return(n),i}};var B=i(848),z=i(2437);class V{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new o.u,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new B.L,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const e=t.children;for(let t=0;t<e.length;t++){const i=e[t];i._updateFlags=15,this.addChild(i)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(z.W.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const e=this.childrenToUpdate[t];e.list.fill(null),e.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const e=this.renderGroupChildren.indexOf(t);e>-1&&this.renderGroupChildren.splice(e,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup)return void this.addRenderGroupChild(t.renderGroup);t._onRender&&this.addOnRender(t);const e=t.children;for(let t=0;t<e.length;t++)this.addChild(e[t])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup)return void this._removeRenderGroupChild(t.renderGroup);const e=t.children;for(let t=0;t<e.length;t++)this.removeChild(e[t])}removeChildren(t){for(let e=0;e<t.length;e++)this.removeChild(t[e])}onChildUpdate(t){let e=this.childrenToUpdate[t.relativeRenderGroupDepth];e||(e=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),e.list[e.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return 7===this.root.localDisplayStatus&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let e=0;e<this._onRenderContainers.length;e++)this._onRenderContainers[e]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const e=this.root.children;for(let i=0;i<e.length;i++)this._getChildren(e[i],t);return t}_getChildren(t,e=[]){if(e.push(t),t.renderGroup)return e;const i=t.children;for(let t=0;t<i.length;t++)this._getChildren(i[t],e);return e}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return 1&this._matrixDirty?(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new o.u),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()):this._inverseWorldTransform}get textureOffsetInverseTransform(){return 2&this._matrixDirty?(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new o.u),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)):this._textureOffsetInverseTransform}get inverseParentTextureTransform(){if(!(4&this._matrixDirty))return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new o.u),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}const H=new h.o(null),N=new h.o(null),W=new h.o(null,1,1),j=1,U=2,$=4;class G extends s.A{constructor(t={}){super(),this.uid=(0,l.L)("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new o.u,this.relativeGroupTransform=new o.u,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new h.o(this,0,0),this._scale=W,this._pivot=N,this._skew=H,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],function(t,e,i={}){for(const s in e)i[s]||void 0===e[s]||(t[s]=e[s])}(this,t,{children:!0,parent:!0,effects:!0}),t.children?.forEach((t=>this.addChild(t))),t.parent?.addChild(this)}static mixin(t){(0,c.t6)("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),r.XO.mixin(G,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=4095&t}get _didChangeId(){return 4095&this._didContainerChangeTick|(4095&this._didViewChangeTick)<<12}addChild(...t){if(this.allowChildren||(0,c.t6)(c.lj,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let e=0;e<t.length;e++)this.addChild(t[e]);return t[0]}const e=t[0],i=this.renderGroup||this.parentRenderGroup;return e.parent===this?(this.children.splice(this.children.indexOf(e),1),this.children.push(e),i&&(i.structureDidChange=!0),e):(e.parent&&e.parent.removeChild(e),this.children.push(e),this.sortableChildren&&(this.sortDirty=!0),e.parent=this,e.didChange=!0,e._updateFlags=15,i&&i.addChild(e),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this),this._didViewChangeTick++,0!==e._zIndex&&e.depthOfChildModified(),e)}removeChild(...t){if(t.length>1){for(let e=0;e<t.length;e++)this.removeChild(t[e]);return t[0]}const e=t[0],i=this.children.indexOf(e);return i>-1&&(this._didViewChangeTick++,this.children.splice(i,1),this.renderGroup?this.renderGroup.removeChild(e):this.parentRenderGroup&&this.parentRenderGroup.removeChild(e),e.parentRenderLayer&&e.parentRenderLayer.detach(e),e.parent=null,this.emit("childRemoved",e,this,i),e.emit("removed",this)),e}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,this.didChange||(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),this.renderGroup=u.Z.get(V,this),this.groupTransform=o.u.IDENTITY,t?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),u.Z.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&0===this.effects.length}get worldTransform(){return this._worldTransform||(this._worldTransform=new o.u),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*a.bO}set angle(t){this.rotation=t*a.Td}get pivot(){return this._pivot===N&&(this._pivot=new h.o(this,0,0)),this._pivot}set pivot(t){this._pivot===N&&(this._pivot=new h.o(this,0,0)),"number"==typeof t?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===H&&(this._skew=new h.o(this,0,0)),this._skew}set skew(t){this._skew===H&&(this._skew=new h.o(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===W&&(this._scale=new h.o(this,1,1)),this._scale}set scale(t){this._scale===W&&(this._scale=new h.o(this,0,0)),"number"==typeof t?this._scale.set(t):this._scale.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const e=this.getLocalBounds().width;this._setWidth(t,e)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const e=this.getLocalBounds().height;this._setHeight(t,e)}getSize(t){t||(t={});const e=this.getLocalBounds();return t.width=Math.abs(this.scale.x*e.width),t.height=Math.abs(this.scale.y*e.height),t}setSize(t,e){const i=this.getLocalBounds();"object"==typeof t?(e=t.height??t.width,t=t.width):e??(e=t),void 0!==t&&this._setWidth(t,i.width),void 0!==e&&this._setHeight(e,i.height)}_updateSkew(){const t=this._rotation,e=this._skew;this._cx=Math.cos(t+e._y),this._sx=Math.sin(t+e._y),this._cy=-Math.sin(t-e._x),this._sy=Math.cos(t-e._x)}updateTransform(t){return this.position.set("number"==typeof t.x?t.x:this.position.x,"number"==typeof t.y?t.y:this.position.y),this.scale.set("number"==typeof t.scaleX?t.scaleX||1:this.scale.x,"number"==typeof t.scaleY?t.scaleY||1:this.scale.y),this.rotation="number"==typeof t.rotation?t.rotation:this.rotation,this.skew.set("number"==typeof t.skewX?t.skewX:this.skew.x,"number"==typeof t.skewY?t.skewY:this.skew.y),this.pivot.set("number"==typeof t.pivotX?t.pivotX:this.pivot.x,"number"==typeof t.pivotY?t.pivotY:this.pivot.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const e=this.localTransform,i=this._scale,s=this._pivot,n=this._position,r=i._x,o=i._y,a=s._x,h=s._y;e.a=this._cx*r,e.b=this._sx*r,e.c=this._cy*o,e.d=this._sy*o,e.tx=n._x-(a*e.a+h*e.c),e.ty=n._y-(a*e.b+h*e.d)}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=j,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const e=n.Q.shared.setValue(t??16777215).toBgrNumber();e!==this.localColor&&(this.localColor=e,this._updateFlags|=j,this._onUpdate())}get tint(){return k(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=U,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(2&this.localDisplayStatus)}set visible(t){const e=t?2:0;(2&this.localDisplayStatus)!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=$,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(4&this.localDisplayStatus)}set culled(t){const e=t?0:4;(4&this.localDisplayStatus)!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=$,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(1&this.localDisplayStatus)}set renderable(t){const e=t?1:0;(1&this.localDisplayStatus)!==e&&(this._updateFlags|=$,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return 7===this.localDisplayStatus&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;let e;if(this.destroyed=!0,this.children.length&&(e=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),("boolean"==typeof t?t:t?.children)&&e)for(let i=0;i<e.length;++i)e[i].destroy(t);this.renderGroup?.destroy(),this.renderGroup=null}}r.XO.mixin(G,f,A,D,I,E,b,y,R,{cullArea:null,cullable:!1,cullableChildren:!0},d,C,g)},5997:(t,e,i)=>{"use strict";i.d(e,{T:()=>X});var s=i(8875),n=i(2577),r=i(9313),o=i(5101),a=i(4492),h=i(133),l=i(4670),c=i(9636),u=i(268),d=i(8133),p=i(9252);class f{constructor(t=0,e=0,i=0){this.type="circle",this.x=t,this.y=e,this.radius=i}clone(){return new f(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const i=this.radius*this.radius;let s=this.x-t,n=this.y-e;return s*=s,n*=n,s+n<=i}strokeContains(t,e,i,s=.5){if(0===this.radius)return!1;const n=this.x-t,r=this.y-e,o=this.radius,a=(1-s)*i,h=Math.sqrt(n*n+r*r);return h<=o+a&&h>o-(i-a)}getBounds(t){return t||(t=new p.M),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=2*this.radius,t.height=2*this.radius,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class g{constructor(t=0,e=0,i=0,s=0){this.type="ellipse",this.x=t,this.y=e,this.halfWidth=i,this.halfHeight=s}clone(){return new g(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,e){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let i=(t-this.x)/this.halfWidth,s=(e-this.y)/this.halfHeight;return i*=i,s*=s,i+s<=1}strokeContains(t,e,i,s=.5){const{halfWidth:n,halfHeight:r}=this;if(n<=0||r<=0)return!1;const o=i*(1-s),a=i-o,h=n-a,l=r-a,c=n+o,u=r+o,d=t-this.x,p=e-this.y;return d*d/(h*h)+p*p/(l*l)>1&&d*d/(c*c)+p*p/(u*u)<=1}getBounds(t){return t||(t=new p.M),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=2*this.halfWidth,t.height=2*this.halfHeight,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function m(t,e,i,s,n,r){const o=n-i,a=r-s,h=o*o+a*a;let l,c,u=-1;0!==h&&(u=((t-i)*o+(e-s)*a)/h),u<0?(l=i,c=s):u>1?(l=n,c=r):(l=i+u*o,c=s+u*a);const d=t-l,p=e-c;return d*d+p*p}class x{constructor(...t){this.type="polygon";let e=Array.isArray(t[0])?t[0]:t;if("number"!=typeof e[0]){const t=[];for(let i=0,s=e.length;i<s;i++)t.push(e[i].x,e[i].y);e=t}this.points=e,this.closePath=!0}isClockwise(){let t=0;const e=this.points,i=e.length;for(let s=0;s<i;s+=2){const n=e[s],r=e[s+1];t+=(e[(s+2)%i]-n)*(e[(s+3)%i]+r)}return t<0}containsPolygon(t){const e=this.getBounds(void 0),i=t.getBounds(void 0);if(!e.containsRect(i))return!1;const s=t.points;for(let t=0;t<s.length;t+=2){const e=s[t],i=s[t+1];if(!this.contains(e,i))return!1}return!0}clone(){const t=this.points.slice(),e=new x(t);return e.closePath=this.closePath,e}contains(t,e){let i=!1;const s=this.points.length/2;for(let n=0,r=s-1;n<s;r=n++){const s=this.points[2*n],o=this.points[2*n+1],a=this.points[2*r],h=this.points[2*r+1];o>e!=h>e&&t<(e-o)/(h-o)*(a-s)+s&&(i=!i)}return i}strokeContains(t,e,i,s=.5){const n=i*i,r=n*(1-s),o=n-r,{points:a}=this,h=a.length-(this.closePath?0:2);for(let i=0;i<h;i+=2){const s=a[i],n=a[i+1],h=a[(i+2)%a.length],l=a[(i+3)%a.length];if(m(t,e,s,n,h,l)<=(Math.sign((h-s)*(e-n)-(l-n)*(t-s))<0?o:r))return!0}return!1}getBounds(t){t||(t=new p.M);const e=this.points;let i=1/0,s=-1/0,n=1/0,r=-1/0;for(let t=0,o=e.length;t<o;t+=2){const o=e[t],a=e[t+1];i=o<i?o:i,s=o>s?o:s,n=a<n?a:n,r=a>r?a:r}return t.x=i,t.width=s-i,t.y=n,t.height=r-n,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce(((t,e)=>`${t}, ${e}`),"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const b=(t,e,i,s,n,r,o)=>{const a=t-i,h=e-s,l=Math.sqrt(a*a+h*h);return l>=n-r&&l<=n+o};class y{constructor(t=0,e=0,i=0,s=0,n=20){this.type="roundedRectangle",this.x=t,this.y=e,this.width=i,this.height=s,this.radius=n}getBounds(t){return t||(t=new p.M),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new y(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;let s=t-(this.x+i),n=e-(this.y+i);const r=i*i;if(s*s+n*n<=r)return!0;if(s=t-(this.x+this.width-i),s*s+n*n<=r)return!0;if(n=e-(this.y+this.height-i),s*s+n*n<=r)return!0;if(s=t-(this.x+i),s*s+n*n<=r)return!0}return!1}strokeContains(t,e,i,s=.5){const{x:n,y:r,width:o,height:a,radius:h}=this,l=i*(1-s),c=i-l,u=n+h,d=r+h,p=n+o,f=r+a;return(t>=n-l&&t<=n+c||t>=p-c&&t<=p+l)&&e>=d&&e<=d+(a-2*h)||(e>=r-l&&e<=r+c||e>=f-c&&e<=f+l)&&t>=u&&t<=u+(o-2*h)||t<u&&e<d&&b(t,e,u,d,h,c,l)||t>p-h&&e<d&&b(t,e,p-h,d,h,c,l)||t>p-h&&e>f-h&&b(t,e,p-h,f-h,h,c,l)||t<u&&e>f-h&&b(t,e,u,f-h,h,c,l)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}var _=i(2460);const v=1.1920929e-7;function w(t,e,i,s,n,r,o,a,h,l){let c=(1-Math.min(.99,Math.max(0,l??_.GH.defaultOptions.bezierSmoothness)))/1;return c*=c,function(t,e,i,s,n,r,o,a,h,l){A(t,e,i,s,n,r,o,a,h,l,0),h.push(o,a)}(e,i,s,n,r,o,a,h,t,c),t}function A(t,e,i,s,n,r,o,a,h,l,c){if(c>8)return;Math.PI;const u=(t+i)/2,d=(e+s)/2,p=(i+n)/2,f=(s+r)/2,g=(n+o)/2,m=(r+a)/2,x=(u+p)/2,b=(d+f)/2,y=(p+g)/2,_=(f+m)/2,w=(x+y)/2,S=(b+_)/2;if(c>0){let c=o-t,u=a-e;const d=Math.abs((i-o)*u-(s-a)*c),p=Math.abs((n-o)*u-(r-a)*c);if(d>v&&p>v){if((d+p)*(d+p)<=l*(c*c+u*u))return void h.push(w,S)}else if(d>v){if(d*d<=l*(c*c+u*u))return void h.push(w,S)}else if(p>v){if(p*p<=l*(c*c+u*u))return void h.push(w,S)}else if(c=w-(t+o)/2,u=S-(e+a)/2,c*c+u*u<=l)return void h.push(w,S)}A(t,e,u,d,x,b,w,S,h,l,c+1),A(w,S,y,_,g,m,o,a,h,l,c+1)}function S(t,e,i,s,n,r,o,a){let h=(1-Math.min(.99,Math.max(0,a??_.GH.defaultOptions.bezierSmoothness)))/1;return h*=h,function(t,e,i,s,n,r,o,a){M(o,t,e,i,s,n,r,a,0),o.push(n,r)}(e,i,s,n,r,o,t,h),t}function M(t,e,i,s,n,r,o,a,h){if(h>8)return;Math.PI;const l=(e+s)/2,c=(i+n)/2,u=(s+r)/2,d=(n+o)/2,p=(l+u)/2,f=(c+d)/2;let g=r-e,m=o-i;const x=Math.abs((s-r)*m-(n-o)*g);if(x>1.1920929e-7){if(x*x<=a*(g*g+m*m))return void t.push(p,f)}else if(g=p-(e+r)/2,m=f-(i+o)/2,g*g+m*m<=a)return void t.push(p,f);M(t,e,i,l,c,p,f,a,h+1),M(t,p,f,u,d,r,o,a,h+1)}function k(t,e,i,s,n,r,o,a){let h=Math.abs(n-r);(!o&&n>r||o&&r>n)&&(h=2*Math.PI-h),a||(a=Math.max(6,Math.floor(6*Math.pow(s,1/3)*(h/Math.PI))));let l=h/(a=Math.max(a,3)),c=n;l*=o?-1:1;for(let n=0;n<a+1;n++){const n=e+Math.cos(c)*s,r=i+Math.sin(c)*s;t.push(n,r),c+=l}}const C=2*Math.PI,P={centerX:0,centerY:0,ang1:0,ang2:0},T=({x:t,y:e},i,s,n,r,o,a,h)=>{const l=n*(t*=i)-r*(e*=s),c=r*t+n*e;return h.x=l+o,h.y=c+a,h};function O(t,e){const i=-1.5707963267948966===e?-.551915024494:4/3*Math.tan(e/4),s=1.5707963267948966===e?.551915024494:i,n=Math.cos(t),r=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:n-r*s,y:r+n*s},{x:o+a*s,y:a-o*s},{x:o,y:a}]}const E=(t,e,i,s)=>{let n=t*i+e*s;return n>1&&(n=1),n<-1&&(n=-1),(t*s-e*i<0?-1:1)*Math.acos(n)};const I=new p.M;class R{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new c.c,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,e){return this.startPoly(t,e),this}lineTo(t,e){this._ensurePoly();const i=this._currentPoly.points,s=i[i.length-2],n=i[i.length-1];return s===t&&n===e||i.push(t,e),this}arc(t,e,i,s,n,r){return this._ensurePoly(!1),k(this._currentPoly.points,t,e,i,s,n,r),this}arcTo(t,e,i,s,n){return this._ensurePoly(),function(t,e,i,s,n,r){const o=t[t.length-2],a=t[t.length-1]-i,h=o-e,l=n-i,c=s-e,u=Math.abs(a*c-h*l);if(u<1e-8||0===r)return void(t[t.length-2]===e&&t[t.length-1]===i||t.push(e,i));const d=a*a+h*h,p=l*l+c*c,f=a*l+h*c,g=r*Math.sqrt(d)/u,m=r*Math.sqrt(p)/u,x=g*f/d,b=m*f/p,y=g*c+m*h,_=g*l+m*a,v=h*(m+x),w=a*(m+x),A=c*(g+b),S=l*(g+b);k(t,y+e,_+i,r,Math.atan2(w-_,v-y),Math.atan2(S-_,A-y),h*l>c*a)}(this._currentPoly.points,t,e,i,s,n),this}arcToSvg(t,e,i,s,n,r,o){return function(t,e,i,s,n,r,o,a=0,h=0,l=0){if(0===r||0===o)return;const c=Math.sin(a*C/360),u=Math.cos(a*C/360),d=u*(e-s)/2+c*(i-n)/2,p=-c*(e-s)/2+u*(i-n)/2;if(0===d&&0===p)return;r=Math.abs(r),o=Math.abs(o);const f=Math.pow(d,2)/Math.pow(r,2)+Math.pow(p,2)/Math.pow(o,2);f>1&&(r*=Math.sqrt(f),o*=Math.sqrt(f)),((t,e,i,s,n,r,o,a,h,l,c,u,d)=>{const p=Math.pow(n,2),f=Math.pow(r,2),g=Math.pow(c,2),m=Math.pow(u,2);let x=p*f-p*m-f*g;x<0&&(x=0),x/=p*m+f*g,x=Math.sqrt(x)*(o===a?-1:1);const b=x*n/r*u,y=x*-r/n*c,_=l*b-h*y+(t+i)/2,v=h*b+l*y+(e+s)/2,w=(c-b)/n,A=(u-y)/r,S=(-c-b)/n,M=(-u-y)/r,k=E(1,0,w,A);let P=E(w,A,S,M);0===a&&P>0&&(P-=C),1===a&&P<0&&(P+=C),d.centerX=_,d.centerY=v,d.ang1=k,d.ang2=P})(e,i,s,n,r,o,h,l,c,u,d,p,P);let{ang1:g,ang2:m}=P;const{centerX:x,centerY:b}=P;let y=Math.abs(m)/(C/4);Math.abs(1-y)<1e-7&&(y=1);const _=Math.max(Math.ceil(y),1);m/=_;let v=t[t.length-2],A=t[t.length-1];const S={x:0,y:0};for(let e=0;e<_;e++){const e=O(g,m),{x:i,y:s}=T(e[0],r,o,u,c,x,b,S),{x:n,y:a}=T(e[1],r,o,u,c,x,b,S),{x:h,y:l}=T(e[2],r,o,u,c,x,b,S);w(t,v,A,i,s,n,a,h,l),v=h,A=l,g+=m}}(this._currentPoly.points,this._currentPoly.lastX,this._currentPoly.lastY,r,o,t,e,i,s,n),this}bezierCurveTo(t,e,i,s,n,r,o){this._ensurePoly();const a=this._currentPoly;return w(this._currentPoly.points,a.lastX,a.lastY,t,e,i,s,n,r,o),this}quadraticCurveTo(t,e,i,s,n){this._ensurePoly();const r=this._currentPoly;return S(this._currentPoly.points,r.lastX,r.lastY,t,e,i,s,n),this}closePath(){return this.endPoly(!0),this}addPath(t,e){this.endPoly(),e&&!e.isIdentity()&&(t=t.clone(!0)).transform(e);const i=this.shapePrimitives,s=i.length;for(let e=0;e<t.instructions.length;e++){const i=t.instructions[e];this[i.action](...i.data)}if(t.checkForHoles&&i.length-s>1){let t=null;for(let e=s;e<i.length;e++){const s=i[e];if("polygon"===s.shape.type){const n=s.shape,r=t?.shape;r&&r.containsPolygon(n)?(t.holes||(t.holes=[]),t.holes.push(s),i.copyWithin(e,e+1),i.length--,e--):t=s}}}return this}finish(t=!1){this.endPoly(t)}rect(t,e,i,s,n){return this.drawShape(new p.M(t,e,i,s),n),this}circle(t,e,i,s){return this.drawShape(new f(t,e,i),s),this}poly(t,e,i){const s=new x(t);return s.closePath=e,this.drawShape(s,i),this}regularPoly(t,e,i,s,n=0,r){s=Math.max(0|s,3);const o=-1*Math.PI/2+n,a=2*Math.PI/s,h=[];for(let n=0;n<s;n++){const s=o-n*a;h.push(t+i*Math.cos(s),e+i*Math.sin(s))}return this.poly(h,!0,r),this}roundPoly(t,e,i,s,n,r=0,o){if(s=Math.max(0|s,3),n<=0)return this.regularPoly(t,e,i,s,r);const a=i*Math.sin(Math.PI/s)-.001;n=Math.min(n,a);const h=-1*Math.PI/2+r,l=2*Math.PI/s,c=(s-2)*Math.PI/s/2;for(let r=0;r<s;r++){const s=r*l+h,a=t+i*Math.cos(s),u=e+i*Math.sin(s),d=s+Math.PI+c,p=s-Math.PI-c,f=a+n*Math.cos(d),g=u+n*Math.sin(d),m=a+n*Math.cos(p),x=u+n*Math.sin(p);0===r?this.moveTo(f,g):this.lineTo(f,g),this.quadraticCurveTo(a,u,m,x,o)}return this.closePath()}roundShape(t,e,i=!1,s){return t.length<3?this:(i?function(t,e,i,s){const n=(t,e)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),r=(t,e,i)=>({x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}),o=e.length;for(let a=0;a<o;a++){const h=e[(a+1)%o],l=h.radius??i;if(l<=0){0===a?t.moveTo(h.x,h.y):t.lineTo(h.x,h.y);continue}const c=e[a],u=e[(a+2)%o],d=n(c,h);let p;p=d<1e-4?h:r(h,c,Math.min(d/2,l)/d);const f=n(u,h);let g;g=f<1e-4?h:r(h,u,Math.min(f/2,l)/f),0===a?t.moveTo(p.x,p.y):t.lineTo(p.x,p.y),t.quadraticCurveTo(h.x,h.y,g.x,g.y,s)}}(this,t,e,s):function(t,e,i){const s=(t,e)=>{const i=e.x-t.x,s=e.y-t.y,n=Math.sqrt(i*i+s*s);return{len:n,nx:i/n,ny:s/n}},n=(e,i)=>{0===e?t.moveTo(i.x,i.y):t.lineTo(i.x,i.y)};let r=e[e.length-1];for(let o=0;o<e.length;o++){const a=e[o%e.length],h=a.radius??i;if(h<=0){n(o,a),r=a;continue}const l=e[(o+1)%e.length],c=s(a,r),u=s(a,l);if(c.len<1e-4||u.len<1e-4){n(o,a),r=a;continue}let d=Math.asin(c.nx*u.ny-c.ny*u.nx),p=1,f=!1;c.nx*u.nx-c.ny*-u.ny<0?d<0?d=Math.PI+d:(d=Math.PI-d,p=-1,f=!0):d>0&&(p=-1,f=!0);const g=d/2;let m,x=Math.abs(Math.cos(g)*h/Math.sin(g));x>Math.min(c.len/2,u.len/2)?(x=Math.min(c.len/2,u.len/2),m=Math.abs(x*Math.sin(g)/Math.cos(g))):m=h;const b=a.x+u.nx*x+-u.ny*m*p,y=a.y+u.ny*x+u.nx*m*p,_=Math.atan2(c.ny,c.nx)+Math.PI/2*p,v=Math.atan2(u.ny,u.nx)-Math.PI/2*p;0===o&&t.moveTo(b+Math.cos(_)*m,y+Math.sin(_)*m),t.arc(b,y,m,_,v,f),r=a}}(this,t,e),this.closePath())}filletRect(t,e,i,s,n){if(0===n)return this.rect(t,e,i,s);const r=Math.min(i,s)/2,o=Math.min(r,Math.max(-r,n)),a=t+i,h=e+s,l=o<0?-o:0,c=Math.abs(o);return this.moveTo(t,e+c).arcTo(t+l,e+l,t+c,e,c).lineTo(a-c,e).arcTo(a-l,e+l,a,e+c,c).lineTo(a,h-c).arcTo(a-l,h-l,t+i-c,h,c).lineTo(t+c,h).arcTo(t+l,h-l,t,h-c,c).closePath()}chamferRect(t,e,i,s,n,r){if(n<=0)return this.rect(t,e,i,s);const o=Math.min(n,Math.min(i,s)/2),a=t+i,h=e+s,l=[t+o,e,a-o,e,a,e+o,a,h-o,a-o,h,t+o,h,t,h-o,t,e+o];for(let t=l.length-1;t>=2;t-=2)l[t]===l[t-2]&&l[t-1]===l[t-3]&&l.splice(t-1,2);return this.poly(l,!0,r)}ellipse(t,e,i,s,n){return this.drawShape(new g(t,e,i,s),n),this}roundRect(t,e,i,s,n,r){return this.drawShape(new y(t,e,i,s,n),r),this}drawShape(t,e){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:e}),this}startPoly(t,e){let i=this._currentPoly;return i&&this.endPoly(),i=new x,i.points.push(t,e),this._currentPoly=i,this}endPoly(t=!1){const e=this._currentPoly;return e&&e.points.length>2&&(e.closePath=t,this.shapePrimitives.push({shape:e})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new x,t)){const t=this.shapePrimitives[this.shapePrimitives.length-1];if(t){let e=t.shape.x,i=t.shape.y;if(t.transform&&!t.transform.isIdentity()){const s=t.transform,n=e;e=s.a*e+s.c*i+s.tx,i=s.b*n+s.d*i+s.ty}this._currentPoly.points.push(e,i)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let e=0;e<t.instructions.length;e++){const i=t.instructions[e];this[i.action](...i.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const e=this.shapePrimitives;for(let i=0;i<e.length;i++){const s=e[i],n=s.shape.getBounds(I);s.transform?t.addRect(n,s.transform):t.addRect(n)}return t}}class F{constructor(t,e=!1){this.instructions=[],this.uid=(0,h.L)("graphicsPath"),this._dirty=!0,this.checkForHoles=e,"string"==typeof t?function(t,e){const i=d(t),s=[];let n=null,r=0,o=0;for(let t=0;t<i.length;t++){const a=i[t],h=a[0],l=a;switch(h){case"M":r=l[1],o=l[2],e.moveTo(r,o);break;case"m":r+=l[1],o+=l[2],e.moveTo(r,o);break;case"H":r=l[1],e.lineTo(r,o);break;case"h":r+=l[1],e.lineTo(r,o);break;case"V":o=l[1],e.lineTo(r,o);break;case"v":o+=l[1],e.lineTo(r,o);break;case"L":r=l[1],o=l[2],e.lineTo(r,o);break;case"l":r+=l[1],o+=l[2],e.lineTo(r,o);break;case"C":r=l[5],o=l[6],e.bezierCurveTo(l[1],l[2],l[3],l[4],r,o);break;case"c":e.bezierCurveTo(r+l[1],o+l[2],r+l[3],o+l[4],r+l[5],o+l[6]),r+=l[5],o+=l[6];break;case"S":r=l[3],o=l[4],e.bezierCurveToShort(l[1],l[2],r,o);break;case"s":e.bezierCurveToShort(r+l[1],o+l[2],r+l[3],o+l[4]),r+=l[3],o+=l[4];break;case"Q":r=l[3],o=l[4],e.quadraticCurveTo(l[1],l[2],r,o);break;case"q":e.quadraticCurveTo(r+l[1],o+l[2],r+l[3],o+l[4]),r+=l[3],o+=l[4];break;case"T":r=l[1],o=l[2],e.quadraticCurveToShort(r,o);break;case"t":r+=l[1],o+=l[2],e.quadraticCurveToShort(r,o);break;case"A":r=l[6],o=l[7],e.arcToSvg(l[1],l[2],l[3],l[4],l[5],r,o);break;case"a":r+=l[6],o+=l[7],e.arcToSvg(l[1],l[2],l[3],l[4],l[5],r,o);break;case"Z":case"z":e.closePath(),s.length>0&&(n=s.pop(),n?(r=n.startX,o=n.startY):(r=0,o=0)),n=null;break;default:(0,u.R)(`Unknown SVG path command: ${h}`)}"Z"!==h&&"z"!==h&&null===n&&(n={startX:r,startY:o},s.push(n))}}(t,this):this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new R(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,e){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,e]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,e,i,s,n){const r=this.instructions[this.instructions.length-1],a=this.getLastPoint(o.b.shared);let h=0,l=0;if(r&&"bezierCurveTo"===r.action){h=r.data[2],l=r.data[3];const t=a.x,e=a.y;h=t+(t-h),l=e+(e-l)}else h=a.x,l=a.y;return this.instructions.push({action:"bezierCurveTo",data:[h,l,t,e,i,s,n]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,e,i){const s=this.instructions[this.instructions.length-1],n=this.getLastPoint(o.b.shared);let r=0,a=0;if(s&&"quadraticCurveTo"===s.action){r=s.data[0],a=s.data[1];const t=n.x,e=n.y;r=t+(t-r),a=e+(e-a)}else r=n.x,a=n.y;return this.instructions.push({action:"quadraticCurveTo",data:[r,a,t,e,i]}),this._dirty=!0,this}rect(t,e,i,s,n){return this.instructions.push({action:"rect",data:[t,e,i,s,n]}),this._dirty=!0,this}circle(t,e,i,s){return this.instructions.push({action:"circle",data:[t,e,i,s]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,e,i,s,n,r,o){n||(n=s/2);const a=-1*Math.PI/2+r,h=2*i,l=2*Math.PI/h,c=[];for(let i=0;i<h;i++){const r=i%2?n:s,o=i*l+a;c.push(t+r*Math.cos(o),e+r*Math.sin(o))}return this.poly(c,!0,o),this}clone(t=!1){const e=new F;if(e.checkForHoles=this.checkForHoles,t)for(let t=0;t<this.instructions.length;t++){const i=this.instructions[t];e.instructions.push({action:i.action,data:i.data.slice()})}else e.instructions=this.instructions.slice();return e}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const e=t.a,i=t.b,s=t.c,n=t.d,r=t.tx,o=t.ty;let a=0,h=0,l=0,c=0,d=0,p=0,f=0,g=0;for(let m=0;m<this.instructions.length;m++){const x=this.instructions[m],b=x.data;switch(x.action){case"moveTo":case"lineTo":a=b[0],h=b[1],b[0]=e*a+s*h+r,b[1]=i*a+n*h+o;break;case"bezierCurveTo":l=b[0],c=b[1],d=b[2],p=b[3],a=b[4],h=b[5],b[0]=e*l+s*c+r,b[1]=i*l+n*c+o,b[2]=e*d+s*p+r,b[3]=i*d+n*p+o,b[4]=e*a+s*h+r,b[5]=i*a+n*h+o;break;case"quadraticCurveTo":l=b[0],c=b[1],a=b[2],h=b[3],b[0]=e*l+s*c+r,b[1]=i*l+n*c+o,b[2]=e*a+s*h+r,b[3]=i*a+n*h+o;break;case"arcToSvg":a=b[5],h=b[6],f=b[0],g=b[1],b[0]=e*f+s*g,b[1]=i*f+n*g,b[5]=e*a+s*h+r,b[6]=i*a+n*h+o;break;case"circle":b[4]=L(b[3],t);break;case"rect":b[4]=L(b[4],t);break;case"ellipse":b[8]=L(b[8],t);break;case"roundRect":b[5]=L(b[5],t);break;case"addPath":b[0].transform(t);break;case"poly":b[2]=L(b[2],t);break;default:(0,u.R)("unknown transform action",x.action)}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let e=this.instructions.length-1,i=this.instructions[e];if(!i)return t.x=0,t.y=0,t;for(;"closePath"===i.action;){if(e--,e<0)return t.x=0,t.y=0,t;i=this.instructions[e]}switch(i.action){case"moveTo":case"lineTo":t.x=i.data[0],t.y=i.data[1];break;case"quadraticCurveTo":t.x=i.data[2],t.y=i.data[3];break;case"bezierCurveTo":t.x=i.data[4],t.y=i.data[5];break;case"arc":case"arcToSvg":t.x=i.data[5],t.y=i.data[6];break;case"addPath":i.data[0].getLastPoint(t)}return t}}function L(t,e){return t?t.prepend(e):e.clone()}var D=i(7276);function B(t,e,i){const s=t.getAttribute(e);return s?Number(s):i}function z(t){const e=B(t,"x1",0),i=B(t,"y1",0),s=B(t,"x2",1),r=B(t,"y2",0),o=t.getAttribute("gradientUnits")||"objectBoundingBox",a=new D._(e,i,s,r,"objectBoundingBox"===o?"local":"global");for(let e=0;e<t.children.length;e++){const i=t.children[e],s=B(i,"offset",0),r=n.Q.shared.setValue(i.getAttribute("stop-color")).toNumber();a.addColorStop(s,r)}return a}function V(t){const e=t.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const H={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function N(t,e){const i=t.getAttribute("style"),s={},n={},r={strokeStyle:s,fillStyle:n,useFill:!1,useStroke:!1};for(const i in H){const s=t.getAttribute(i);s&&W(e,r,i,s.trim())}if(i){const t=i.split(";");for(let i=0;i<t.length;i++){const s=t[i].trim(),[n,o]=s.split(":");H[n]&&W(e,r,n,o.trim())}}return{strokeStyle:r.useStroke?s:null,fillStyle:r.useFill?n:null,useFill:r.useFill,useStroke:r.useStroke}}function W(t,e,i,s){switch(i){case"stroke":if("none"!==s){if(s.startsWith("url(")){const i=V(s);e.strokeStyle.fill=t.defs[i]}else e.strokeStyle.color=n.Q.shared.setValue(s).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(s);break;case"fill":if("none"!==s){if(s.startsWith("url(")){const i=V(s);e.fillStyle.fill=t.defs[i]}else e.fillStyle.color=n.Q.shared.setValue(s).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(s);break;case"stroke-opacity":e.strokeStyle.alpha=Number(s);break;case"opacity":e.fillStyle.alpha=Number(s),e.strokeStyle.alpha=Number(s)}}function j(t,e,i,s){const n=t.children,{fillStyle:r,strokeStyle:o}=N(t,e);r&&i?i={...i,...r}:r&&(i=r),o&&s?s={...s,...o}:o&&(s=o);const a=!i&&!s;let h,l,c,d,p,f,g,m,x,b,y,_,v,w,A,S,M;switch(a&&(i={color:0}),t.nodeName.toLowerCase()){case"path":w=t.getAttribute("d"),"evenodd"===t.getAttribute("fill-rule")&&(0,u.R)("SVG Evenodd fill rule not supported, your svg may render incorrectly"),A=new F(w,!0),e.context.path(A),i&&e.context.fill(i),s&&e.context.stroke(s);break;case"circle":g=B(t,"cx",0),m=B(t,"cy",0),x=B(t,"r",0),e.context.ellipse(g,m,x,x),i&&e.context.fill(i),s&&e.context.stroke(s);break;case"rect":h=B(t,"x",0),l=B(t,"y",0),S=B(t,"width",0),M=B(t,"height",0),b=B(t,"rx",0),y=B(t,"ry",0),b||y?e.context.roundRect(h,l,S,M,b||y):e.context.rect(h,l,S,M),i&&e.context.fill(i),s&&e.context.stroke(s);break;case"ellipse":g=B(t,"cx",0),m=B(t,"cy",0),b=B(t,"rx",0),y=B(t,"ry",0),e.context.beginPath(),e.context.ellipse(g,m,b,y),i&&e.context.fill(i),s&&e.context.stroke(s);break;case"line":c=B(t,"x1",0),d=B(t,"y1",0),p=B(t,"x2",0),f=B(t,"y2",0),e.context.beginPath(),e.context.moveTo(c,d),e.context.lineTo(p,f),s&&e.context.stroke(s);break;case"polygon":v=t.getAttribute("points"),_=v.match(/\d+/g).map((t=>parseInt(t,10))),e.context.poly(_,!0),i&&e.context.fill(i),s&&e.context.stroke(s);break;case"polyline":v=t.getAttribute("points"),_=v.match(/\d+/g).map((t=>parseInt(t,10))),e.context.poly(_,!1),s&&e.context.stroke(s);break;case"g":case"svg":break;default:(0,u.R)(`[SVG parser] <${t.nodeName}> elements unsupported`)}a&&(i=null);for(let t=0;t<n.length;t++)j(n[t],e,i,s)}var U=i(990);const $=new o.b,G=new r.u,Y=class t extends s.A{constructor(){super(...arguments),this.uid=(0,h.L)("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new F,this._transform=new r.u,this._fillStyle={...t.defaultFillStyle},this._strokeStyle={...t.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new c.c,this._boundsDirty=!0}clone(){const e=new t;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=(0,U.w)(e,t.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=(0,U.T)(e,t.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=(0,U.w)(e,t.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=(0,U.w)(e,t.defaultStrokeStyle),this}texture(t,e,i,s,r,o){return this.instructions.push({action:"texture",data:{image:t,dx:i||0,dy:s||0,dw:r||t.frame.width,dh:o||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:e?n.Q.shared.setValue(e).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new F,this}fill(e,i){let s;const n=this.instructions[this.instructions.length-1];return s=0===this._tick&&n&&"stroke"===n.action?n.data.path:this._activePath.clone(),s?(null!=e&&(void 0!==i&&"number"==typeof e&&((0,l.t6)(l.lj,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:i}),this._fillStyle=(0,U.w)(e,t.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:e}=this._activePath.getLastPoint(o.b.shared);this._activePath.clear(),this._activePath.moveTo(t,e)}stroke(e){let i;const s=this.instructions[this.instructions.length-1];return i=0===this._tick&&s&&"fill"===s.action?s.data.path:this._activePath.clone(),i?(null!=e&&(this._strokeStyle=(0,U.T)(e,t.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:i}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const e=this.instructions[this.instructions.length-1-t],i=this._activePath.clone();if(e&&("stroke"===e.action||"fill"===e.action)){if(!e.data.hole){e.data.hole=i;break}e.data.hole.addPath(i)}}return this._initNextPathLocation(),this}arc(t,e,i,s,n,r){this._tick++;const o=this._transform;return this._activePath.arc(o.a*t+o.c*e+o.tx,o.b*t+o.d*e+o.ty,i,s,n,r),this}arcTo(t,e,i,s,n){this._tick++;const r=this._transform;return this._activePath.arcTo(r.a*t+r.c*e+r.tx,r.b*t+r.d*e+r.ty,r.a*i+r.c*s+r.tx,r.b*i+r.d*s+r.ty,n),this}arcToSvg(t,e,i,s,n,r,o){this._tick++;const a=this._transform;return this._activePath.arcToSvg(t,e,i,s,n,a.a*r+a.c*o+a.tx,a.b*r+a.d*o+a.ty),this}bezierCurveTo(t,e,i,s,n,r,o){this._tick++;const a=this._transform;return this._activePath.bezierCurveTo(a.a*t+a.c*e+a.tx,a.b*t+a.d*e+a.ty,a.a*i+a.c*s+a.tx,a.b*i+a.d*s+a.ty,a.a*n+a.c*r+a.tx,a.b*n+a.d*r+a.ty,o),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,e,i,s){return this._tick++,this._activePath.ellipse(t,e,i,s,this._transform.clone()),this}circle(t,e,i){return this._tick++,this._activePath.circle(t,e,i,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,e){this._tick++;const i=this._transform;return this._activePath.lineTo(i.a*t+i.c*e+i.tx,i.b*t+i.d*e+i.ty),this}moveTo(t,e){this._tick++;const i=this._transform,s=this._activePath.instructions,n=i.a*t+i.c*e+i.tx,r=i.b*t+i.d*e+i.ty;return 1===s.length&&"moveTo"===s[0].action?(s[0].data[0]=n,s[0].data[1]=r,this):(this._activePath.moveTo(n,r),this)}quadraticCurveTo(t,e,i,s,n){this._tick++;const r=this._transform;return this._activePath.quadraticCurveTo(r.a*t+r.c*e+r.tx,r.b*t+r.d*e+r.ty,r.a*i+r.c*s+r.tx,r.b*i+r.d*s+r.ty,n),this}rect(t,e,i,s){return this._tick++,this._activePath.rect(t,e,i,s,this._transform.clone()),this}roundRect(t,e,i,s,n){return this._tick++,this._activePath.roundRect(t,e,i,s,n,this._transform.clone()),this}poly(t,e){return this._tick++,this._activePath.poly(t,e,this._transform.clone()),this}regularPoly(t,e,i,s,n=0,r){return this._tick++,this._activePath.regularPoly(t,e,i,s,n,r),this}roundPoly(t,e,i,s,n,r){return this._tick++,this._activePath.roundPoly(t,e,i,s,n,r),this}roundShape(t,e,i,s){return this._tick++,this._activePath.roundShape(t,e,i,s),this}filletRect(t,e,i,s,n){return this._tick++,this._activePath.filletRect(t,e,i,s,n),this}chamferRect(t,e,i,s,n,r){return this._tick++,this._activePath.chamferRect(t,e,i,s,n,r),this}star(t,e,i,s,n=0,r=0){return this._tick++,this._activePath.star(t,e,i,s,n,r,this._transform.clone()),this}svg(t){return this._tick++,function(t,e){if("string"==typeof t){const e=document.createElement("div");e.innerHTML=t.trim(),t=e.querySelector("svg")}const i={context:e,defs:{},path:new F};!function(t,e){const i=t.querySelectorAll("defs");for(let t=0;t<i.length;t++){const s=i[t];for(let t=0;t<s.children.length;t++){const i=s.children[t];switch(i.nodeName.toLowerCase()){case"lineargradient":e.defs[i.id]=z(i);break;case"radialgradient":e.defs[i.id]=((0,u.R)("[SVG Parser] Radial gradients are not yet supported"),new D._(0,0,1,0))}}}}(t,i);const s=t.children,{fillStyle:n,strokeStyle:r}=N(t,i);for(let t=0;t<s.length;t++){const e=s[t];"defs"!==e.nodeName.toLowerCase()&&j(e,i,n,r)}}(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,e=t){return this._transform.scale(t,e),this}setTransform(t,e,i,s,n,o){return t instanceof r.u?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,e,i,s,n,o),this)}transform(t,e,i,s,n,o){return t instanceof r.u?(this._transform.append(t),this):(G.set(t,e,i,s,n,o),this._transform.append(G),this)}translate(t,e=t){return this._transform.translate(t,e),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let e=0;e<this.instructions.length;e++){const i=this.instructions[e],s=i.action;if("fill"===s){const e=i.data;t.addBounds(e.path.bounds)}else if("texture"===s){const e=i.data;t.addFrame(e.dx,e.dy,e.dx+e.dw,e.dy+e.dh,e.transform)}if("stroke"===s){const e=i.data,s=e.style.alignment,n=e.style.width*(1-s),r=e.path.bounds;t.addFrame(r.minX-n,r.minY-n,r.maxX+n,r.maxY+n)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;const e=this.instructions;let i=!1;for(let s=0;s<e.length;s++){const n=e[s],r=n.data,o=r.path;if(!n.action||!o)continue;const a=r.style,h=o.shapePath.shapePrimitives;for(let e=0;e<h.length;e++){const s=h[e].shape;if(!a||!s)continue;const o=h[e].transform,l=o?o.applyInverse(t,$):t;if("fill"===n.action)i=s.contains(l.x,l.y);else{const t=a;i=s.strokeContains(l.x,l.y,t.width,t.alignment)}const c=r.hole;if(c){const t=c.shapePath?.shapePrimitives;if(t)for(let e=0;e<t.length;e++)t[e].shape.contains(l.x,l.y)&&(i=!1)}if(i)return!0}}return i}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),"boolean"==typeof t?t:t?.texture){const e="boolean"==typeof t?t:t?.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(e),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(e)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Y.defaultFillStyle={color:16777215,alpha:1,texture:a.g.WHITE,matrix:null,fill:null,textureSpace:"local"},Y.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:a.g.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let X=Y},6011:(t,e,i)=>{"use strict";i.d(e,{V:()=>l});var s=i(8875),n=i(9636),r=i(133),o=i(949),a=i(1132);function h(t,e){if(!(t instanceof o.h)){let i=e?a.S.INDEX:a.S.VERTEX;t instanceof Array&&(e?(t=new Uint32Array(t),i=a.S.INDEX|a.S.COPY_DST):(t=new Float32Array(t),i=a.S.VERTEX|a.S.COPY_DST)),t=new o.h({data:t,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:i})}return t}class l extends s.A{constructor(t={}){super(),this.uid=(0,r.L)("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new n.c,this._boundsDirty=!0;const{attributes:e,indexBuffer:i,topology:s}=t;if(this.buffers=[],this.attributes={},e)for(const t in e)this.addAttribute(t,e[t]);this.instanceCount=t.instanceCount??1,i&&this.addIndex(i),this.topology=s||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const e=this.attributes[t];return e.buffer.data.length/(e.stride/4||e.size)}return 0}addAttribute(t,e){const i=function(t){return(t instanceof o.h||Array.isArray(t)||t.BYTES_PER_ELEMENT)&&(t={buffer:t}),t.buffer=h(t.buffer,!1),t}(e);-1===this.buffers.indexOf(i.buffer)&&(this.buffers.push(i.buffer),i.buffer.on("update",this.onBufferUpdate,this),i.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=i}addIndex(t){this.indexBuffer=h(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,function(t,e,i){const s=t.getAttribute("aPosition");if(!s)return i.minX=0,i.minY=0,i.maxX=0,i.maxY=0,i;const n=s.buffer.data;let r=1/0,o=1/0,a=-1/0,h=-1/0;const l=n.BYTES_PER_ELEMENT,c=(s.offset||0)/l,u=(s.stride||8)/l;for(let t=c;t<n.length;t+=u){const e=n[t],i=n[t+1];e>a&&(a=e),i>h&&(h=i),e<r&&(r=e),i<o&&(o=i)}return i.minX=r,i.minY=o,i.maxX=a,i.maxY=h,i}(this,0,this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach((t=>t.destroy())),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}},6040:(t,e,i)=>{"use strict";i.d(e,{n:()=>r});var s=i(5811);const n={};function r(t){let e=n[t];if(e)return e;const i=new Int32Array(t);for(let e=0;e<t;e++)i[e]=e;return e=n[t]=new s.k({uTextures:{value:i,type:"i32",size:t}},{isStatic:!0}),e}},6139:(t,e,i)=>{"use strict";i.d(e,{$:()=>h});var s=i(8507),n=i(7309),r=i(6858),o=i(583);const a=class t extends o.v{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...t.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==e.autoPlay,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==e.autoLoad&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=n.R.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,e=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(e.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await(0,r.C)(),this._load=new Promise(((i,s)=>{this.isValid?i(this):(this._resolve=i,this._reject=s,void 0!==e.preloadTimeoutMs&&(this._preloadTimeout=setTimeout((()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${e.preloadTimeoutMs}ms`))}))),t.load())})),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(n.R.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(n.R.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(n.R.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};a.extension=s.Ag.TextureSource,a.defaultOptions={...o.v.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1},a.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let h=a},6349:(t,e,i)=>{"use strict";function s(t){return t+.5|0}i.d(e,{t1:()=>bn});const n=(t,e,i)=>Math.max(Math.min(t,i),e);function r(t){return n(s(2.55*t),0,255)}function o(t){return n(s(255*t),0,255)}function a(t){return n(s(t/2.55)/100,0,1)}function h(t){return n(s(100*t),0,100)}const l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},c=[..."0123456789ABCDEF"],u=t=>c[15&t],d=t=>c[(240&t)>>4]+c[15&t],p=t=>(240&t)>>4==(15&t);const f=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function g(t,e,i){const s=e*Math.min(i,1-i),n=(e,n=(e+t/30)%12)=>i-s*Math.max(Math.min(n-3,9-n,1),-1);return[n(0),n(8),n(4)]}function m(t,e,i){const s=(s,n=(s+t/60)%6)=>i-i*e*Math.max(Math.min(n,4-n,1),0);return[s(5),s(3),s(1)]}function x(t,e,i){const s=g(t,1,.5);let n;for(e+i>1&&(n=1/(e+i),e*=n,i*=n),n=0;n<3;n++)s[n]*=1-e-i,s[n]+=e;return s}function b(t){const e=t.r/255,i=t.g/255,s=t.b/255,n=Math.max(e,i,s),r=Math.min(e,i,s),o=(n+r)/2;let a,h,l;return n!==r&&(l=n-r,h=o>.5?l/(2-n-r):l/(n+r),a=function(t,e,i,s,n){return t===n?(e-i)/s+(e<i?6:0):e===n?(i-t)/s+2:(t-e)/s+4}(e,i,s,l,n),a=60*a+.5),[0|a,h||0,o]}function y(t,e,i,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,s)).map(o)}function _(t,e,i){return y(g,t,e,i)}function v(t){return(t%360+360)%360}const w={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},A={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let S;const M=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,k=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,C=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function P(t,e,i){if(t){let s=b(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*i,0===e?360:1)),s=_(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function T(t,e){return t?Object.assign(e||{},t):t}function O(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=o(t[3]))):(e=T(t,{r:0,g:0,b:0,a:1})).a=o(e.a),e}function E(t){return"r"===t.charAt(0)?function(t){const e=M.exec(t);let i,s,o,a=255;if(e){if(e[7]!==i){const t=+e[7];a=e[8]?r(t):n(255*t,0,255)}return i=+e[1],s=+e[3],o=+e[5],i=255&(e[2]?r(i):n(i,0,255)),s=255&(e[4]?r(s):n(s,0,255)),o=255&(e[6]?r(o):n(o,0,255)),{r:i,g:s,b:o,a}}}(t):function(t){const e=f.exec(t);let i,s=255;if(!e)return;e[5]!==i&&(s=e[6]?r(+e[5]):o(+e[5]));const n=v(+e[2]),a=+e[3]/100,h=+e[4]/100;return i="hwb"===e[1]?function(t,e,i){return y(x,t,e,i)}(n,a,h):"hsv"===e[1]?function(t,e,i){return y(m,t,e,i)}(n,a,h):_(n,a,h),{r:i[0],g:i[1],b:i[2],a:s}}(t)}class I{constructor(t){if(t instanceof I)return t;const e=typeof t;let i;var s,n,r;"object"===e?i=O(t):"string"===e&&(r=(s=t).length,"#"===s[0]&&(4===r||5===r?n={r:255&17*l[s[1]],g:255&17*l[s[2]],b:255&17*l[s[3]],a:5===r?17*l[s[4]]:255}:7!==r&&9!==r||(n={r:l[s[1]]<<4|l[s[2]],g:l[s[3]]<<4|l[s[4]],b:l[s[5]]<<4|l[s[6]],a:9===r?l[s[7]]<<4|l[s[8]]:255})),i=n||function(t){S||(S=function(){const t={},e=Object.keys(A),i=Object.keys(w);let s,n,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],n=0;n<i.length;n++)r=i[n],a=a.replace(r,w[r]);r=parseInt(A[o],16),t[a]=[r>>16&255,r>>8&255,255&r]}return t}(),S.transparent=[0,0,0,0]);const e=S[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(t)||E(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=T(this._rgb);return t&&(t.a=a(t.a)),t}set rgb(t){this._rgb=O(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${a(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid?(t=this._rgb,e=(t=>p(t.r)&&p(t.g)&&p(t.b)&&p(t.a))(t)?u:d,t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0):void 0;var t,e}hslString(){return this._valid?function(t){if(!t)return;const e=b(t),i=e[0],s=h(e[1]),n=h(e[2]);return t.a<255?`hsla(${i}, ${s}%, ${n}%, ${a(t.a)})`:`hsl(${i}, ${s}%, ${n}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let n;const r=e===n?.5:e,o=2*r-1,a=i.a-s.a,h=((o*a==-1?o:(o+a)/(1+o*a))+1)/2;n=1-h,i.r=255&h*i.r+n*s.r+.5,i.g=255&h*i.g+n*s.g+.5,i.b=255&h*i.b+n*s.b+.5,i.a=r*i.a+(1-r)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,i){const s=C(a(t.r)),n=C(a(t.g)),r=C(a(t.b));return{r:o(k(s+i*(C(a(e.r))-s))),g:o(k(n+i*(C(a(e.g))-n))),b:o(k(r+i*(C(a(e.b))-r))),a:t.a+i*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new I(this.rgb)}alpha(t){return this._rgb.a=o(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=s(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return P(this._rgb,2,t),this}darken(t){return P(this._rgb,2,-t),this}saturate(t){return P(this._rgb,1,t),this}desaturate(t){return P(this._rgb,1,-t),this}rotate(t){return function(t,e){var i=b(t);i[0]=v(i[0]+e),i=_(i),t.r=i[0],t.g=i[1],t.b=i[2]}(this._rgb,t),this}}function R(){}const F=(()=>{let t=0;return()=>t++})();function L(t){return null==t}function D(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function B(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function z(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function V(t,e){return z(t)?t:e}function H(t,e){return void 0===t?e:t}const N=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function W(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function j(t,e,i,s){let n,r,o;if(D(t))if(r=t.length,s)for(n=r-1;n>=0;n--)e.call(i,t[n],n);else for(n=0;n<r;n++)e.call(i,t[n],n);else if(B(t))for(o=Object.keys(t),r=o.length,n=0;n<r;n++)e.call(i,t[o[n]],o[n])}function U(t,e){let i,s,n,r;if(!t||!e||t.length!==e.length)return!1;for(i=0,s=t.length;i<s;++i)if(n=t[i],r=e[i],n.datasetIndex!==r.datasetIndex||n.index!==r.index)return!1;return!0}function $(t){if(D(t))return t.map($);if(B(t)){const e=Object.create(null),i=Object.keys(t),s=i.length;let n=0;for(;n<s;++n)e[i[n]]=$(t[i[n]]);return e}return t}function G(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function Y(t,e,i,s){if(!G(t))return;const n=e[t],r=i[t];B(n)&&B(r)?X(n,r,s):e[t]=$(r)}function X(t,e,i){const s=D(e)?e:[e],n=s.length;if(!B(t))return t;const r=(i=i||{}).merger||Y;let o;for(let e=0;e<n;++e){if(o=s[e],!B(o))continue;const n=Object.keys(o);for(let e=0,s=n.length;e<s;++e)r(n[e],t,o,i)}return t}function q(t,e){return X(t,e,{merger:K})}function K(t,e,i){if(!G(t))return;const s=e[t],n=i[t];B(s)&&B(n)?q(s,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=$(n))}const Z={"":t=>t,x:t=>t.x,y:t=>t.y};function Q(t,e){const i=Z[e]||(Z[e]=function(t){const e=function(t){const e=t.split("."),i=[];let s="";for(const t of e)s+=t,s.endsWith("\\")?s=s.slice(0,-1)+".":(i.push(s),s="");return i}(t);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}(e));return i(t)}function J(t){return t.charAt(0).toUpperCase()+t.slice(1)}const tt=t=>void 0!==t,et=t=>"function"==typeof t,it=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0},st=Math.PI,nt=2*st,rt=nt+st,ot=Number.POSITIVE_INFINITY,at=st/180,ht=st/2,lt=st/4,ct=2*st/3,ut=Math.log10,dt=Math.sign;function pt(t,e,i){return Math.abs(t-e)<i}function ft(t){const e=Math.round(t);t=pt(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(ut(t))),s=t/i;return(s<=1?1:s<=2?2:s<=5?5:10)*i}function gt(t){return!function(t){return"symbol"==typeof t||"object"==typeof t&&null!==t&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function mt(t,e,i){let s,n,r;for(s=0,n=t.length;s<n;s++)r=t[s][i],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function xt(t){return t*(st/180)}function bt(t){return t*(180/st)}function yt(t){if(!z(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function _t(t,e){const i=e.x-t.x,s=e.y-t.y,n=Math.sqrt(i*i+s*s);let r=Math.atan2(s,i);return r<-.5*st&&(r+=nt),{angle:r,distance:n}}function vt(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function wt(t,e){return(t-e+rt)%nt-st}function At(t){return(t%nt+nt)%nt}function St(t,e,i,s){const n=At(t),r=At(e),o=At(i),a=At(r-n),h=At(o-n),l=At(n-r),c=At(n-o);return n===r||n===o||s&&r===o||a>h&&l<c}function Mt(t,e,i){return Math.max(e,Math.min(i,t))}function kt(t,e,i,s=1e-6){return t>=Math.min(e,i)-s&&t<=Math.max(e,i)+s}function Ct(t,e,i){i=i||(i=>t[i]<e);let s,n=t.length-1,r=0;for(;n-r>1;)s=r+n>>1,i(s)?r=s:n=s;return{lo:r,hi:n}}const Pt=(t,e,i,s)=>Ct(t,i,s?s=>{const n=t[s][e];return n<i||n===i&&t[s+1][e]===i}:s=>t[s][e]<i),Tt=(t,e,i)=>Ct(t,i,(s=>t[s][e]>=i)),Ot=["push","pop","shift","splice","unshift"];function Et(t,e){const i=t._chartjs;if(!i)return;const s=i.listeners,n=s.indexOf(e);-1!==n&&s.splice(n,1),s.length>0||(Ot.forEach((e=>{delete t[e]})),delete t._chartjs)}function It(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Rt="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function Ft(t,e){let i=[],s=!1;return function(...n){i=n,s||(s=!0,Rt.call(window,(()=>{s=!1,t.apply(e,i)})))}}const Lt=t=>"start"===t?"left":"end"===t?"right":"center",Dt=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2;function Bt(t,e,i){const s=e.length;let n=0,r=s;if(t._sorted){const{iScale:o,vScale:a,_parsed:h}=t,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,c=o.axis,{min:u,max:d,minDefined:p,maxDefined:f}=o.getUserBounds();if(p){if(n=Math.min(Pt(h,c,u).lo,i?s:Pt(e,c,o.getPixelForValue(u)).lo),l){const t=h.slice(0,n+1).reverse().findIndex((t=>!L(t[a.axis])));n-=Math.max(0,t)}n=Mt(n,0,s-1)}if(f){let t=Math.max(Pt(h,o.axis,d,!0).hi+1,i?0:Pt(e,c,o.getPixelForValue(d),!0).hi+1);if(l){const e=h.slice(t-1).findIndex((t=>!L(t[a.axis])));t+=Math.max(0,e)}r=Mt(t,n,s)-n}else r=s-n}return{start:n,count:r}}function zt(t){const{xScale:e,yScale:i,_scaleRanges:s}=t,n={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!s)return t._scaleRanges=n,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==i.min||s.ymax!==i.max;return Object.assign(s,n),r}const Vt=t=>0===t||1===t,Ht=(t,e,i)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*nt/i),Nt=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*nt/i)+1,Wt={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*ht),easeOutSine:t=>Math.sin(t*ht),easeInOutSine:t=>-.5*(Math.cos(st*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Vt(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Vt(t)?t:Ht(t,.075,.3),easeOutElastic:t=>Vt(t)?t:Nt(t,.075,.3),easeInOutElastic(t){const e=.1125;return Vt(t)?t:t<.5?.5*Ht(2*t,e,.45):.5+.5*Nt(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Wt.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:t=>t<.5?.5*Wt.easeInBounce(2*t):.5*Wt.easeOutBounce(2*t-1)+.5};function jt(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Ut(t){return jt(t)?t:new I(t)}function $t(t){return jt(t)?t:new I(t).saturate(.5).darken(.1).hexString()}const Gt=["x","y","borderWidth","radius","tension"],Yt=["color","borderColor","backgroundColor"],Xt=new Map;function qt(t,e,i){return function(t,e){e=e||{};const i=t+JSON.stringify(e);let s=Xt.get(i);return s||(s=new Intl.NumberFormat(t,e),Xt.set(i,s)),s}(e,i).format(t)}const Kt={values:t=>D(t)?t:""+t,numeric(t,e,i){if(0===t)return"0";const s=this.chart.options.locale;let n,r=t;if(i.length>1){const e=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(e<1e-4||e>1e15)&&(n="scientific"),r=function(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t)),i}(t,i)}const o=ut(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),h={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(h,this.options.ticks.format),qt(t,s,h)},logarithmic(t,e,i){if(0===t)return"0";const s=i[e].significand||t/Math.pow(10,Math.floor(ut(t)));return[1,2,3,5,10,15].includes(s)||e>.8*i.length?Kt.numeric.call(this,t,e,i):""}};var Zt={formatters:Kt};const Qt=Object.create(null),Jt=Object.create(null);function te(t,e){if(!e)return t;const i=e.split(".");for(let e=0,s=i.length;e<s;++e){const s=i[e];t=t[s]||(t[s]=Object.create(null))}return t}function ee(t,e,i){return"string"==typeof e?X(te(t,e),i):X(te(t,""),e)}class ie{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>$t(e.backgroundColor),this.hoverBorderColor=(t,e)=>$t(e.borderColor),this.hoverColor=(t,e)=>$t(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ee(this,t,e)}get(t){return te(this,t)}describe(t,e){return ee(Jt,t,e)}override(t,e){return ee(Qt,t,e)}route(t,e,i,s){const n=te(this,t),r=te(this,i),o="_"+e;Object.defineProperties(n,{[o]:{value:n[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=r[s];return B(t)?Object.assign({},e,t):H(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach((t=>t(this)))}}var se=new ie({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:Yt},numbers:{type:"number",properties:Gt}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zt.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function ne(t,e,i,s,n){let r=e[n];return r||(r=e[n]=t.measureText(n).width,i.push(n)),r>s&&(s=r),s}function re(t,e,i,s){let n=(s=s||{}).data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(n=s.data={},r=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let o=0;const a=i.length;let h,l,c,u,d;for(h=0;h<a;h++)if(u=i[h],null==u||D(u)){if(D(u))for(l=0,c=u.length;l<c;l++)d=u[l],null==d||D(d)||(o=ne(t,n,r,o,d))}else o=ne(t,n,r,o,u);t.restore();const p=r.length/2;if(p>i.length){for(h=0;h<p;h++)delete n[r[h]];r.splice(0,p)}return o}function oe(t,e,i){const s=t.currentDevicePixelRatio,n=0!==i?Math.max(i/2,.5):0;return Math.round((e-n)*s)/s+n}function ae(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function he(t,e,i,s){le(t,e,i,s,null)}function le(t,e,i,s,n){let r,o,a,h,l,c,u,d;const p=e.pointStyle,f=e.rotation,g=e.radius;let m=(f||0)*at;if(p&&"object"==typeof p&&(r=p.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return t.save(),t.translate(i,s),t.rotate(m),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),p){default:n?t.ellipse(i,s,n/2,g,0,0,nt):t.arc(i,s,g,0,nt),t.closePath();break;case"triangle":c=n?n/2:g,t.moveTo(i+Math.sin(m)*c,s-Math.cos(m)*g),m+=ct,t.lineTo(i+Math.sin(m)*c,s-Math.cos(m)*g),m+=ct,t.lineTo(i+Math.sin(m)*c,s-Math.cos(m)*g),t.closePath();break;case"rectRounded":l=.516*g,h=g-l,o=Math.cos(m+lt)*h,u=Math.cos(m+lt)*(n?n/2-l:h),a=Math.sin(m+lt)*h,d=Math.sin(m+lt)*(n?n/2-l:h),t.arc(i-u,s-a,l,m-st,m-ht),t.arc(i+d,s-o,l,m-ht,m),t.arc(i+u,s+a,l,m,m+ht),t.arc(i-d,s+o,l,m+ht,m+st),t.closePath();break;case"rect":if(!f){h=Math.SQRT1_2*g,c=n?n/2:h,t.rect(i-c,s-h,2*c,2*h);break}m+=lt;case"rectRot":u=Math.cos(m)*(n?n/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(n?n/2:g),t.moveTo(i-u,s-a),t.lineTo(i+d,s-o),t.lineTo(i+u,s+a),t.lineTo(i-d,s+o),t.closePath();break;case"crossRot":m+=lt;case"cross":u=Math.cos(m)*(n?n/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(n?n/2:g),t.moveTo(i-u,s-a),t.lineTo(i+u,s+a),t.moveTo(i+d,s-o),t.lineTo(i-d,s+o);break;case"star":u=Math.cos(m)*(n?n/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(n?n/2:g),t.moveTo(i-u,s-a),t.lineTo(i+u,s+a),t.moveTo(i+d,s-o),t.lineTo(i-d,s+o),m+=lt,u=Math.cos(m)*(n?n/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(n?n/2:g),t.moveTo(i-u,s-a),t.lineTo(i+u,s+a),t.moveTo(i+d,s-o),t.lineTo(i-d,s+o);break;case"line":o=n?n/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(i-o,s-a),t.lineTo(i+o,s+a);break;case"dash":t.moveTo(i,s),t.lineTo(i+Math.cos(m)*(n?n/2:g),s+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function ce(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function ue(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function de(t){t.restore()}function pe(t,e,i,s,n){if(!e)return t.lineTo(i.x,i.y);if("middle"===n){const s=(e.x+i.x)/2;t.lineTo(s,e.y),t.lineTo(s,i.y)}else"after"===n!=!!s?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function fe(t,e,i,s){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?i.cp2x:i.cp1x,s?i.cp2y:i.cp1y,i.x,i.y)}function ge(t,e,i,s,n){if(n.strikethrough||n.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,h=i-r.actualBoundingBoxAscent,l=i+r.actualBoundingBoxDescent,c=n.strikethrough?(h+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function me(t,e){const i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function xe(t,e,i,s,n,r={}){const o=D(e)?e:[e],a=r.strokeWidth>0&&""!==r.strokeColor;let h,l;for(t.save(),t.font=n.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),L(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,r),h=0;h<o.length;++h)l=o[h],r.backdrop&&me(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),L(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(l,i,s,r.maxWidth)),t.fillText(l,i,s,r.maxWidth),ge(t,i,s,l,r),s+=Number(n.lineHeight);t.restore()}function be(t,e){const{x:i,y:s,w:n,h:r,radius:o}=e;t.arc(i+o.topLeft,s+o.topLeft,o.topLeft,1.5*st,st,!0),t.lineTo(i,s+r-o.bottomLeft),t.arc(i+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,st,ht,!0),t.lineTo(i+n-o.bottomRight,s+r),t.arc(i+n-o.bottomRight,s+r-o.bottomRight,o.bottomRight,ht,0,!0),t.lineTo(i+n,s+o.topRight),t.arc(i+n-o.topRight,s+o.topRight,o.topRight,0,-ht,!0),t.lineTo(i+o.topLeft,s)}const ye=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ve(t,e){const i=(""+t).match(ye);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}function we(t,e){const i={},s=B(e),n=s?Object.keys(e):e,r=B(t)?s?i=>H(t[i],t[e[i]]):e=>t[e]:()=>t;for(const t of n)i[t]=+r(t)||0;return i}function Ae(t){return we(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Se(t){return we(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Me(t){const e=Ae(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ke(t,e){t=t||{},e=e||se.font;let i=H(t.size,e.size);"string"==typeof i&&(i=parseInt(i,10));let s=H(t.style,e.style);s&&!(""+s).match(_e)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const n={family:H(t.family,e.family),lineHeight:ve(H(t.lineHeight,e.lineHeight),i),size:i,style:s,weight:H(t.weight,e.weight),string:""};return n.string=function(t){return!t||L(t.size)||L(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(n),n}function Ce(t,e,i,s){let n,r,o,a=!0;for(n=0,r=t.length;n<r;++n)if(o=t[n],void 0!==o&&(void 0!==e&&"function"==typeof o&&(o=o(e),a=!1),void 0!==i&&D(o)&&(o=o[i%o.length],a=!1),void 0!==o))return s&&!a&&(s.cacheable=!1),o}function Pe(t,e){return Object.assign(Object.create(t),e)}function Te(t,e=[""],i,s,n=()=>t[0]){const r=i||t;void 0===s&&(s=He("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:n,override:i=>Te([i,...t],e,r,s)};return new Proxy(o,{deleteProperty:(e,i)=>(delete e[i],delete e._keys,delete t[0][i],!0),get:(i,s)=>Fe(i,s,(()=>function(t,e,i,s){let n;for(const r of e)if(n=He(Ie(r,t),i),void 0!==n)return Re(t,n)?ze(i,s,t,n):n}(s,e,t,i))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Ne(t).includes(e),ownKeys:t=>Ne(t),set(t,e,i){const s=t._storage||(t._storage=n());return t[e]=s[e]=i,delete t._keys,!0}})}function Oe(t,e,i,s){const n={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:Ee(t,s),setContext:e=>Oe(t,e,i,s),override:n=>Oe(t.override(n),e,i,s)};return new Proxy(n,{deleteProperty:(e,i)=>(delete e[i],delete t[i],!0),get:(t,e,i)=>Fe(t,e,(()=>function(t,e,i){const{_proxy:s,_context:n,_subProxy:r,_descriptors:o}=t;let a=s[e];return et(a)&&o.isScriptable(e)&&(a=function(t,e,i,s){const{_proxy:n,_context:r,_subProxy:o,_stack:a}=i;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let h=e(r,o||s);return a.delete(t),Re(t,h)&&(h=ze(n._scopes,n,t,h)),h}(e,a,t,i)),D(a)&&a.length&&(a=function(t,e,i,s){const{_proxy:n,_context:r,_subProxy:o,_descriptors:a}=i;if(void 0!==r.index&&s(t))return e[r.index%e.length];if(B(e[0])){const i=e,s=n._scopes.filter((t=>t!==i));e=[];for(const h of i){const i=ze(s,n,t,h);e.push(Oe(i,r,o&&o[t],a))}}return e}(e,a,t,o.isIndexable)),Re(e,a)&&(a=Oe(a,n,r&&r[e],o)),a}(t,e,i))),getOwnPropertyDescriptor:(e,i)=>e._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,i)=>Reflect.has(t,i),ownKeys:()=>Reflect.ownKeys(t),set:(e,i,s)=>(t[i]=s,delete e[i],!0)})}function Ee(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:s=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:i,indexable:s,isScriptable:et(i)?i:()=>i,isIndexable:et(s)?s:()=>s}}const Ie=(t,e)=>t?t+J(e):e,Re=(t,e)=>B(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Fe(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const s=i();return t[e]=s,s}function Le(t,e,i){return et(t)?t(e,i):t}const De=(t,e)=>!0===t?e:"string"==typeof t?Q(e,t):void 0;function Be(t,e,i,s,n){for(const r of e){const e=De(i,r);if(e){t.add(e);const r=Le(e._fallback,i,n);if(void 0!==r&&r!==i&&r!==s)return r}else if(!1===e&&void 0!==s&&i!==s)return null}return!1}function ze(t,e,i,s){const n=e._rootScopes,r=Le(e._fallback,i,s),o=[...t,...n],a=new Set;a.add(s);let h=Ve(a,o,i,r||i,s);return null!==h&&(void 0===r||r===i||(h=Ve(a,o,r,h,s),null!==h))&&Te(Array.from(a),[""],n,r,(()=>function(t,e,i){const s=t._getTarget();e in s||(s[e]={});const n=s[e];return D(n)&&B(i)?i:n||{}}(e,i,s)))}function Ve(t,e,i,s,n){for(;i;)i=Be(t,e,i,s,n);return i}function He(t,e){for(const i of e){if(!i)continue;const e=i[t];if(void 0!==e)return e}}function Ne(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const i of t)for(const t of Object.keys(i).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function We(t,e,i,s){const{iScale:n}=t,{key:r="r"}=this._parsing,o=new Array(s);let a,h,l,c;for(a=0,h=s;a<h;++a)l=a+i,c=e[l],o[a]={r:n.parse(Q(c,r),l)};return o}const je=Number.EPSILON||1e-14,Ue=(t,e)=>e<t.length&&!t[e].skip&&t[e],$e=t=>"x"===t?"y":"x";function Ge(t,e,i,s){const n=t.skip?e:t,r=e,o=i.skip?e:i,a=vt(r,n),h=vt(o,r);let l=a/(a+h),c=h/(a+h);l=isNaN(l)?0:l,c=isNaN(c)?0:c;const u=s*l,d=s*c;return{previous:{x:r.x-u*(o.x-n.x),y:r.y-u*(o.y-n.y)},next:{x:r.x+d*(o.x-n.x),y:r.y+d*(o.y-n.y)}}}function Ye(t,e,i){return Math.max(Math.min(t,i),e)}function Xe(t,e,i,s,n){let r,o,a,h;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)!function(t,e="x"){const i=$e(e),s=t.length,n=Array(s).fill(0),r=Array(s);let o,a,h,l=Ue(t,0);for(o=0;o<s;++o)if(a=h,h=l,l=Ue(t,o+1),h){if(l){const t=l[e]-h[e];n[o]=0!==t?(l[i]-h[i])/t:0}r[o]=a?l?dt(n[o-1])!==dt(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}!function(t,e,i){const s=t.length;let n,r,o,a,h,l=Ue(t,0);for(let c=0;c<s-1;++c)h=l,l=Ue(t,c+1),h&&l&&(pt(e[c],0,je)?i[c]=i[c+1]=0:(n=i[c]/e[c],r=i[c+1]/e[c],a=Math.pow(n,2)+Math.pow(r,2),a<=9||(o=3/Math.sqrt(a),i[c]=n*o*e[c],i[c+1]=r*o*e[c])))}(t,n,r),function(t,e,i="x"){const s=$e(i),n=t.length;let r,o,a,h=Ue(t,0);for(let l=0;l<n;++l){if(o=a,a=h,h=Ue(t,l+1),!a)continue;const n=a[i],c=a[s];o&&(r=(n-o[i])/3,a[`cp1${i}`]=n-r,a[`cp1${s}`]=c-r*e[l]),h&&(r=(h[i]-n)/3,a[`cp2${i}`]=n+r,a[`cp2${s}`]=c+r*e[l])}}(t,r,e)}(t,n);else{let i=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],h=Ge(i,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=h.previous.x,a.cp1y=h.previous.y,a.cp2x=h.next.x,a.cp2y=h.next.y,i=a}e.capBezierPoints&&function(t,e){let i,s,n,r,o,a=ce(t[0],e);for(i=0,s=t.length;i<s;++i)o=r,r=a,a=i<s-1&&ce(t[i+1],e),r&&(n=t[i],o&&(n.cp1x=Ye(n.cp1x,e.left,e.right),n.cp1y=Ye(n.cp1y,e.top,e.bottom)),a&&(n.cp2x=Ye(n.cp2x,e.left,e.right),n.cp2y=Ye(n.cp2y,e.top,e.bottom)))}(t,i)}function qe(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Ke(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Ze(t,e,i){let s;return"string"==typeof t?(s=parseInt(t,10),-1!==t.indexOf("%")&&(s=s/100*e.parentNode[i])):s=t,s}const Qe=t=>t.ownerDocument.defaultView.getComputedStyle(t,null),Je=["top","right","bottom","left"];function ti(t,e,i){const s={};i=i?"-"+i:"";for(let n=0;n<4;n++){const r=Je[n];s[r]=parseFloat(t[e+"-"+r+i])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function ei(t,e){if("native"in t)return t;const{canvas:i,currentDevicePixelRatio:s}=e,n=Qe(i),r="border-box"===n.boxSizing,o=ti(n,"padding"),a=ti(n,"border","width"),{x:h,y:l,box:c}=function(t,e){const i=t.touches,s=i&&i.length?i[0]:t,{offsetX:n,offsetY:r}=s;let o,a,h=!1;if(((t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot))(n,r,t.target))o=n,a=r;else{const t=e.getBoundingClientRect();o=s.clientX-t.left,a=s.clientY-t.top,h=!0}return{x:o,y:a,box:h}}(t,i),u=o.left+(c&&a.left),d=o.top+(c&&a.top);let{width:p,height:f}=e;return r&&(p-=o.width+a.width,f-=o.height+a.height),{x:Math.round((h-u)/p*i.width/s),y:Math.round((l-d)/f*i.height/s)}}const ii=t=>Math.round(10*t)/10;function si(t,e,i){const s=e||1,n=Math.floor(t.height*s),r=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(i||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==s||o.height!==n||o.width!==r)&&(t.currentDevicePixelRatio=s,o.height=n,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0)}const ni=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};qe()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(t){}return t}();function ri(t,e){const i=function(t,e){return Qe(t).getPropertyValue(e)}(t,e),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function oi(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function ai(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:"middle"===s?i<.5?t.y:e.y:"after"===s?i<1?t.y:e.y:i>0?e.y:t.y}}function hi(t,e,i,s){const n={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=oi(t,n,i),a=oi(n,r,i),h=oi(r,e,i),l=oi(o,a,i),c=oi(a,h,i);return oi(l,c,i)}function li(t,e,i){return t?function(t,e){return{x:i=>t+t+e-i,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,i):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function ci(t,e){let i,s;"ltr"!==e&&"rtl"!==e||(i=t.canvas.style,s=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=s)}function ui(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function di(t){return"angle"===t?{between:St,compare:wt,normalize:At}:{between:kt,compare:(t,e)=>t-e,normalize:t=>t}}function pi({start:t,end:e,count:i,loop:s,style:n}){return{start:t%i,end:e%i,loop:s&&(e-t+1)%i==0,style:n}}function fi(t,e,i){if(!i)return[t];const{property:s,start:n,end:r}=i,o=e.length,{compare:a,between:h,normalize:l}=di(s),{start:c,end:u,loop:d,style:p}=function(t,e,i){const{property:s,start:n,end:r}=i,{between:o,normalize:a}=di(s),h=e.length;let l,c,{start:u,end:d,loop:p}=t;if(p){for(u+=h,d+=h,l=0,c=h;l<c&&o(a(e[u%h][s]),n,r);++l)u--,d--;u%=h,d%=h}return d<u&&(d+=h),{start:u,end:d,loop:p,style:t.style}}(t,e,i),f=[];let g,m,x,b=!1,y=null;for(let t=c,i=c;t<=u;++t)m=e[t%o],m.skip||(g=l(m[s]),g!==x&&(b=h(g,n,r),null===y&&(b||h(n,x,g)&&0!==a(n,x))&&(y=0===a(g,n)?t:i),null!==y&&(!b||0===a(r,g)||h(r,x,g))&&(f.push(pi({start:y,end:t,loop:d,count:o,style:p})),y=null),i=t,x=g));return null!==y&&f.push(pi({start:y,end:u,loop:d,count:o,style:p})),f}function gi(t,e){const i=[],s=t.segments;for(let n=0;n<s.length;n++){const r=fi(s[n],t.points,e);r.length&&i.push(...r)}return i}function mi(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function xi(t,e){if(!e)return!1;const i=[],s=function(t,e){return jt(e)?(i.includes(e)||i.push(e),i.indexOf(e)):e};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function bi(t,e,i){return t.options.clip?t[i]:e[i]}function yi(t,e){const i=e._clip;if(i.disabled)return!1;const s=function(t,e){const{xScale:i,yScale:s}=t;return i&&s?{left:bi(i,e,"left"),right:bi(i,e,"right"),top:bi(s,e,"top"),bottom:bi(s,e,"bottom")}:e}(e,t.chartArea);return{left:!1===i.left?0:s.left-(!0===i.left?0:i.left),right:!1===i.right?t.width:s.right+(!0===i.right?0:i.right),top:!1===i.top?0:s.top-(!0===i.top?0:i.top),bottom:!1===i.bottom?t.height:s.bottom+(!0===i.bottom?0:i.bottom)}}class _i{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const n=e.listeners[s],r=e.duration;n.forEach((s=>s({chart:t,initial:e.initial,numSteps:r,currentStep:Math.min(i-e.start,r)})))}_refresh(){this._request||(this._running=!0,this._request=Rt.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((i,s)=>{if(!i.running||!i.items.length)return;const n=i.items;let r,o=n.length-1,a=!1;for(;o>=0;--o)r=n[o],r._active?(r._total>i.duration&&(i.duration=r._total),r.tick(t),a=!0):(n[o]=n[n.length-1],n.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),n.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=n.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var vi=new _i;const wi="transparent",Ai={boolean:(t,e,i)=>i>.5?e:t,color(t,e,i){const s=Ut(t||wi),n=s.valid&&Ut(e||wi);return n&&n.valid?n.mix(s,i).hexString():e},number:(t,e,i)=>t+(e-t)*i};class Si{constructor(t,e,i,s){const n=e[i];s=Ce([t.to,s,n,t.from]);const r=Ce([t.from,n,s]);this._active=!0,this._fn=t.fn||Ai[t.type||typeof r],this._easing=Wt[t.easing]||Wt.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],n=i-this._start,r=this._duration-n;this._start=i,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=n,this._loop=!!t.loop,this._to=Ce([t.to,e,s,t.from]),this._from=Ce([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,n=this._from,r=this._loop,o=this._to;let a;if(this._active=n!==o&&(r||e<i),!this._active)return this._target[s]=o,void this._notify(!0);e<0?this._target[s]=n:(a=e/i%2,a=r&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[s]=this._fn(n,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,i)=>{t.push({res:e,rej:i})}))}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let t=0;t<i.length;t++)i[t][e]()}}class Mi{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!B(t))return;const e=Object.keys(se.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach((s=>{const n=t[s];if(!B(n))return;const r={};for(const t of e)r[t]=n[t];(D(n.properties)&&n.properties||[s]).forEach((t=>{t!==s&&i.has(t)||i.set(t,r)}))}))}_animateOptions(t,e){const i=e.options,s=function(t,e){if(!e)return;let i=t.options;if(i)return i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i;t.options=e}(t,i);if(!s)return[];const n=this._createAnimations(s,i);return i.$shared&&function(t,e){const i=[],s=Object.keys(e);for(let e=0;e<s.length;e++){const n=t[s[e]];n&&n.active()&&i.push(n.wait())}return Promise.all(i)}(t.options.$animations,i).then((()=>{t.options=i}),(()=>{})),n}_createAnimations(t,e){const i=this._properties,s=[],n=t.$animations||(t.$animations={}),r=Object.keys(e),o=Date.now();let a;for(a=r.length-1;a>=0;--a){const h=r[a];if("$"===h.charAt(0))continue;if("options"===h){s.push(...this._animateOptions(t,e));continue}const l=e[h];let c=n[h];const u=i.get(h);if(c){if(u&&c.active()){c.update(u,l,o);continue}c.cancel()}u&&u.duration?(n[h]=c=new Si(u,t,h,l),s.push(c)):t[h]=l}return s}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(vi.add(this._chart,i),!0):void 0}}function ki(t,e){const i=t&&t.options||{},s=i.reverse,n=void 0===i.min?e:0,r=void 0===i.max?e:0;return{start:s?r:n,end:s?n:r}}function Ci(t,e){const i=[],s=t._getSortedDatasetMetas(e);let n,r;for(n=0,r=s.length;n<r;++n)i.push(s[n].index);return i}function Pi(t,e,i,s={}){const n=t.keys,r="single"===s.mode;let o,a,h,l;if(null===e)return;let c=!1;for(o=0,a=n.length;o<a;++o){if(h=+n[o],h===i){if(c=!0,s.all)continue;break}l=t.values[h],z(l)&&(r||0===e||dt(e)===dt(l))&&(e+=l)}return c||s.all?e:0}function Ti(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function Oi(t,e,i){const s=t[e]||(t[e]={});return s[i]||(s[i]={})}function Ei(t,e,i,s){for(const n of e.getMatchingVisibleMetas(s).reverse()){const e=t[n.index];if(i&&e>0||!i&&e<0)return n.index}return null}function Ii(t,e){const{chart:i,_cachedMeta:s}=t,n=i._stacks||(i._stacks={}),{iScale:r,vScale:o,index:a}=s,h=r.axis,l=o.axis,c=function(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}(r,o,s),u=e.length;let d;for(let t=0;t<u;++t){const i=e[t],{[h]:r,[l]:u}=i;d=(i._stacks||(i._stacks={}))[l]=Oi(n,c,r),d[a]=u,d._top=Ei(d,o,!0,s.type),d._bottom=Ei(d,o,!1,s.type),(d._visualValues||(d._visualValues={}))[a]=u}}function Ri(t,e){const i=t.scales;return Object.keys(i).filter((t=>i[t].axis===e)).shift()}function Fi(t,e){const i=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[s]||void 0===e[s][i])return;delete e[s][i],void 0!==e[s]._visualValues&&void 0!==e[s]._visualValues[i]&&delete e[s]._visualValues[i]}}}const Li=t=>"reset"===t||"none"===t,Di=(t,e)=>e?t:Object.assign({},t);class Bi{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ti(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Fi(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(t,e,i,s)=>"x"===t?e:"r"===t?s:i,n=e.xAxisID=H(i.xAxisID,Ri(t,"x")),r=e.yAxisID=H(i.yAxisID,Ri(t,"y")),o=e.rAxisID=H(i.rAxisID,Ri(t,"r")),a=e.indexAxis,h=e.iAxisID=s(a,n,r,o),l=e.vAxisID=s(a,r,n,o);e.xScale=this.getScaleForId(n),e.yScale=this.getScaleForId(r),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(h),e.vScale=this.getScaleForId(l)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Et(this._data,this),t._stacked&&Fi(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(B(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:i,vScale:s}=e,n="x"===i.axis?"x":"y",r="x"===s.axis?"x":"y",o=Object.keys(t),a=new Array(o.length);let h,l,c;for(h=0,l=o.length;h<l;++h)c=o[h],a[h]={[n]:c,[r]:t[c]};return a}(e,t)}else if(i!==e){if(i){Et(i,this);const t=this._cachedMeta;Fi(t),t._parsed=[]}e&&Object.isExtensible(e)&&((s=e)._chartjs?s._chartjs.listeners.push(this):(Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[this]}}),Ot.forEach((t=>{const e="_onData"+J(t),i=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...t){const n=i.apply(this,t);return s._chartjs.listeners.forEach((i=>{"function"==typeof i[e]&&i[e](...t)})),n}})})))),this._syncList=[],this._data=e}var s}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const n=e._stacked;e._stacked=Ti(e.vScale,e),e.stack!==i.stack&&(s=!0,Fi(e),e.stack=i.stack),this._resyncElements(t),(s||n!==e._stacked)&&(Ii(this,e._parsed),e._stacked=Ti(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:n,_stacked:r}=i,o=n.axis;let a,h,l,c=0===t&&e===s.length||i._sorted,u=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=s,i._sorted=!0,l=s;else{l=D(s[t])?this.parseArrayData(i,s,t,e):B(s[t])?this.parseObjectData(i,s,t,e):this.parsePrimitiveData(i,s,t,e);const n=()=>null===h[o]||u&&h[o]<u[o];for(a=0;a<e;++a)i._parsed[a+t]=h=l[a],c&&(n()&&(c=!1),u=h);i._sorted=c}r&&Ii(this,l)}parsePrimitiveData(t,e,i,s){const{iScale:n,vScale:r}=t,o=n.axis,a=r.axis,h=n.getLabels(),l=n===r,c=new Array(s);let u,d,p;for(u=0,d=s;u<d;++u)p=u+i,c[u]={[o]:l||n.parse(h[p],p),[a]:r.parse(e[p],p)};return c}parseArrayData(t,e,i,s){const{xScale:n,yScale:r}=t,o=new Array(s);let a,h,l,c;for(a=0,h=s;a<h;++a)l=a+i,c=e[l],o[a]={x:n.parse(c[0],l),y:r.parse(c[1],l)};return o}parseObjectData(t,e,i,s){const{xScale:n,yScale:r}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,h=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+i,d=e[u],h[l]={x:n.parse(Q(d,o),u),y:r.parse(Q(d,a),u)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,n=this._cachedMeta,r=e[t.axis];return Pi({keys:Ci(s,!0),values:e._stacks[t.axis]._visualValues},r,n.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const n=i[e.axis];let r=null===n?NaN:n;const o=s&&i._stacks[e.axis];s&&o&&(s.values=o,r=Pi(s,n,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,n=i._sorted&&t===i.iScale,r=s.length,o=this._getOtherScale(t),a=((t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:Ci(i,!0),values:null})(e,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:l,max:c}=function(t){const{min:e,max:i,minDefined:s,maxDefined:n}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:n?i:Number.POSITIVE_INFINITY}}(o);let u,d;function p(){d=s[u];const e=d[o.axis];return!z(d[t.axis])||l>e||c<e}for(u=0;u<r&&(p()||(this.updateRangeFromParsed(h,t,d,a),!n));++u);if(n)for(u=r-1;u>=0;--u)if(!p()){this.updateRangeFromParsed(h,t,d,a);break}return h}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,n,r;for(s=0,n=e.length;s<n;++s)r=e[s][t.axis],z(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,n=this.getParsed(t);return{label:i?""+i.getLabelForValue(n[i.axis]):"",value:s?""+s.getLabelForValue(n[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,i,s,n;return B(t)?(e=t.top,i=t.right,s=t.bottom,n=t.left):e=i=s=n=t,{top:e,right:i,bottom:s,left:n,disabled:!1===t}}(H(this.options.clip,function(t,e,i){if(!1===i)return!1;const s=ki(t,i),n=ki(e,i);return{top:n.end,right:s.end,bottom:n.start,left:s.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],n=e.chartArea,r=[],o=this._drawStart||0,a=this._drawCount||s.length-o,h=this.options.drawActiveElementsOnTop;let l;for(i.dataset&&i.dataset.draw(t,n,o,a),l=o;l<o+a;++l){const e=s[l];e.hidden||(e.active&&h?r.push(e):e.draw(t,n))}for(l=0;l<r.length;++l)r[l].draw(t,n)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let n;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];n=e.$context||(e.$context=function(t,e,i){return Pe(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),n.parsed=this.getParsed(t),n.raw=s.data[t],n.index=n.dataIndex=t}else n=this.$context||(this.$context=function(t,e){return Pe(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),n.dataset=s,n.index=n.datasetIndex=this.index;return n.active=!!e,n.mode=i,n}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s="active"===e,n=this._cachedDataOpts,r=t+"-"+e,o=n[r],a=this.enableOptionSharing&&tt(i);if(o)return Di(o,a);const h=this.chart.config,l=h.datasetElementScopeKeys(this._type,t),c=s?[`${t}Hover`,"hover",t,""]:[t,""],u=h.getOptionScopes(this.getDataset(),l),d=Object.keys(se.elements[t]),p=h.resolveNamedOptions(u,d,(()=>this.getContext(i,s,e)),c);return p.$shared&&(p.$shared=a,n[r]=Object.freeze(Di(p,a))),p}_resolveAnimations(t,e,i){const s=this.chart,n=this._cachedDataOpts,r=`animation-${e}`,o=n[r];if(o)return o;let a;if(!1!==s.options.animation){const s=this.chart.config,n=s.datasetAnimationScopeKeys(this._type,e),r=s.getOptionScopes(this.getDataset(),n);a=s.createResolver(r,this.getContext(t,i,e))}const h=new Mi(s,a&&a.animations);return a&&a._cacheable&&(n[r]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Li(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,n=this.getSharedOptions(i),r=this.includeOptions(e,n)||n!==s;return this.updateSharedOptions(n,e,i),{sharedOptions:n,includeOptions:r}}updateElement(t,e,i,s){Li(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Li(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const n=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(n)||n})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[t,e,i]of this._syncList)this[t](e,i);this._syncList=[];const s=i.length,n=e.length,r=Math.min(n,s);r&&this.parse(0,r),n>s?this._insertElements(s,n-s,t):n<s&&this._removeElements(n,s-n)}_insertElements(t,e,i=!0){const s=this._cachedMeta,n=s.data,r=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=r;o--)t[o]=t[o-e]};for(a(n),o=t;o<r;++o)n[o]=new this.dataElementType;this._parsing&&a(s._parsed),this.parse(t,e),i&&this.updateElements(n,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Fi(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function zi(t){const e=t.iScale,i=function(t,e){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(e);let s=[];for(let e=0,n=i.length;e<n;e++)s=s.concat(i[e].controller.getAllParsedValues(t));t._cache.$bar=It(s.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let s,n,r,o,a=e._length;const h=()=>{32767!==r&&-32768!==r&&(tt(o)&&(a=Math.min(a,Math.abs(r-o)||a)),o=r)};for(s=0,n=i.length;s<n;++s)r=e.getPixelForValue(i[s]),h();for(o=void 0,s=0,n=e.ticks.length;s<n;++s)r=e.getPixelForTick(s),h();return a}function Vi(t,e,i,s){return D(t)?function(t,e,i,s){const n=i.parse(t[0],s),r=i.parse(t[1],s),o=Math.min(n,r),a=Math.max(n,r);let h=o,l=a;Math.abs(o)>Math.abs(a)&&(h=a,l=o),e[i.axis]=l,e._custom={barStart:h,barEnd:l,start:n,end:r,min:o,max:a}}(t,e,i,s):e[i.axis]=i.parse(t,s),e}function Hi(t,e,i,s){const n=t.iScale,r=t.vScale,o=n.getLabels(),a=n===r,h=[];let l,c,u,d;for(l=i,c=i+s;l<c;++l)d=e[l],u={},u[n.axis]=a||n.parse(o[l],l),h.push(Vi(d,u,r,l));return h}function Ni(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Wi(t,e,i,s){let n=e.borderSkipped;const r={};if(!n)return void(t.borderSkipped=r);if(!0===n)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:h,top:l,bottom:c}=function(t){let e,i,s,n,r;return t.horizontal?(e=t.base>t.x,i="left",s="right"):(e=t.base<t.y,i="bottom",s="top"),e?(n="end",r="start"):(n="start",r="end"),{start:i,end:s,reverse:e,top:n,bottom:r}}(t);"middle"===n&&i&&(t.enableBorderRadius=!0,(i._top||0)===s?n=l:(i._bottom||0)===s?n=c:(r[ji(c,o,a,h)]=!0,n=l)),r[ji(n,o,a,h)]=!0,t.borderSkipped=r}function ji(t,e,i,s){var n,r,o;return s?(o=i,t=Ui(t=(n=t)===(r=e)?o:n===o?r:n,i,e)):t=Ui(t,e,i),t}function Ui(t,e,i){return"start"===t?e:"end"===t?i:t}function $i(t,{inflateAmount:e},i){t.inflateAmount="auto"===e?1===i?.33:0:e}class Gi extends Bi{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map(((e,n)=>{const r=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:s,lineWidth:r.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(n),index:n}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=i;else{let n,r,o=t=>+i[t];if(B(i[t])){const{key:t="value"}=this._parsing;o=e=>+Q(i[e],t)}for(n=t,r=t+e;n<r;++n)s._parsed[n]=o(n)}}_getRotation(){return xt(this.options.rotation-90)}_getCircumference(){return xt(this.options.circumference)}_getRotationExtents(){let t=nt,e=-nt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,n=s._getRotation(),r=s._getCircumference();t=Math.min(t,n),e=Math.max(e,n+r)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,n=s.data,r=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,o=Math.max((Math.min(i.width,i.height)-r)/2,0),a=Math.min((l=o,"string"==typeof(h=this.options.cutout)&&h.endsWith("%")?parseFloat(h)/100:+h/l),1);var h,l;const c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:g,offsetY:m}=function(t,e,i){let s=1,n=1,r=0,o=0;if(e<nt){const a=t,h=a+e,l=Math.cos(a),c=Math.sin(a),u=Math.cos(h),d=Math.sin(h),p=(t,e,s)=>St(t,a,h,!0)?1:Math.max(e,e*i,s,s*i),f=(t,e,s)=>St(t,a,h,!0)?-1:Math.min(e,e*i,s,s*i),g=p(0,l,u),m=p(ht,c,d),x=f(st,l,u),b=f(st+ht,c,d);s=(g-x)/2,n=(m-b)/2,r=-(g+x)/2,o=-(m+b)/2}return{ratioX:s,ratioY:n,offsetX:r,offsetY:o}}(d,u,a),x=(i.width-r)/p,b=(i.height-r)/f,y=Math.max(Math.min(x,b)/2,0),_=N(this.options.radius,y),v=(_-Math.max(_*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*_,this.offsetY=m*_,s.total=this.calculateTotal(),this.outerRadius=_-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*c,0),this.updateElements(n,0,n.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,n=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*n/nt)}updateElements(t,e,i,s){const n="reset"===s,r=this.chart,o=r.chartArea,a=r.options.animation,h=(o.left+o.right)/2,l=(o.top+o.bottom)/2,c=n&&a.animateScale,u=c?0:this.innerRadius,d=c?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(e,s);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,n);for(g=e;g<e+i;++g){const e=this._circumference(g,n),i=t[g],r={x:h+this.offsetX,y:l+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:d,innerRadius:u};f&&(r.options=p||this.resolveDataElementOptions(g,i.active?"active":s)),m+=e,this.updateElement(i,g,r,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,s=0;for(i=0;i<e.length;i++){const n=t._parsed[i];null===n||isNaN(n)||!this.chart.getDataVisibility(i)||e[i].hidden||(s+=Math.abs(n))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?nt*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],n=qt(e._parsed[t],i.options.locale);return{label:s[t]||"",value:n}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,n,r,o,a;if(!t)for(s=0,n=i.data.datasets.length;s<n;++s)if(i.isDatasetVisible(s)){r=i.getDatasetMeta(s),t=r.data,o=r.controller;break}if(!t)return 0;for(s=0,n=t.length;s<n;++s)a=o.resolveDataElementOptions(s),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(H(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Yi extends Bi{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map(((e,n)=>{const r=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:s,lineWidth:r.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(n),index:n}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],n=qt(e._parsed[t].r,i.options.locale);return{label:s[t]||"",value:n}}parseObjectData(t,e,i,s){return We.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),n=Math.max(s/2,0),r=(n-Math.max(i.cutoutPercentage?n/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=n-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(t,e,i,s){const n="reset"===s,r=this.chart,o=r.options.animation,a=this._cachedMeta.rScale,h=a.xCenter,l=a.yCenter,c=a.getIndexAngle(0)-.5*st;let u,d=c;const p=360/this.countVisibleElements();for(u=0;u<e;++u)d+=this._computeAngle(u,s,p);for(u=e;u<e+i;u++){const e=t[u];let i=d,f=d+this._computeAngle(u,s,p),g=r.getDataVisibility(u)?a.getDistanceFromCenterForValue(this.getParsed(u).r):0;d=f,n&&(o.animateScale&&(g=0),o.animateRotate&&(i=f=c));const m={x:h,y:l,innerRadius:0,outerRadius:g,startAngle:i,endAngle:f,options:this.resolveDataElementOptions(u,e.active?"active":s)};this.updateElement(e,u,m,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++})),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?xt(this.resolveDataElementOptions(t,e).angle||i):0}}var Xi=Object.freeze({__proto__:null,BarController:class extends Bi{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,s){return Hi(t,e,i,s)}parseArrayData(t,e,i,s){return Hi(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:n,vScale:r}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,h="x"===n.axis?o:a,l="x"===r.axis?o:a,c=[];let u,d,p,f;for(u=i,d=i+s;u<d;++u)f=e[u],p={},p[n.axis]=n.parse(Q(f,h),u),c.push(Vi(Q(f,l),p,r,u));return c}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const n=i._custom;n&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,n=this.getParsed(t),r=n._custom,o=Ni(r)?"["+r.start+", "+r.end+"]":""+s.getLabelForValue(n[s.axis]);return{label:""+i.getLabelForValue(n[i.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const n="reset"===s,{index:r,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),h=o.isHorizontal(),l=this._getRuler(),{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,s);for(let d=e;d<e+i;d++){const e=this.getParsed(d),i=n||L(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),p=this._calculateBarIndexPixels(d,l),f=(e._stacks||{})[o.axis],g={horizontal:h,base:i.base,enableBorderRadius:!f||Ni(e._custom)||r===f._top||r===f._bottom,x:h?i.head:p.center,y:h?p.center:i.head,height:h?p.size:Math.abs(i.size),width:h?Math.abs(i.size):p.size};u&&(g.options=c||this.resolveDataElementOptions(d,t[d].active?"active":s));const m=g.options||t[d].options;Wi(g,m,f,r),$i(g,m,l.ratio),this.updateElement(t[d],d,g,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),n=i.options.stacked,r=[],o=this._cachedMeta.controller.getParsed(e),a=o&&o[i.axis],h=t=>{const e=t._parsed.find((t=>t[i.axis]===a)),s=e&&e[t.vScale.axis];if(L(s)||isNaN(s))return!0};for(const i of s)if((void 0===e||!h(i))&&((!1===n||-1===r.indexOf(i.stack)||void 0===n&&void 0===i.stack)&&r.push(i.stack),i.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const s=this._getStacks(t,i),n=void 0!==e?s.indexOf(e):-1;return-1===n?s.length-1:n}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let n,r;for(n=0,r=e.data.length;n<r;++n)s.push(i.getPixelForValue(this.getParsed(n)[i.axis],n));const o=t.barThickness;return{min:o||zi(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:n,minBarLength:r}}=this,o=n||0,a=this.getParsed(t),h=a._custom,l=Ni(h);let c,u,d=a[e.axis],p=0,f=i?this.applyStack(e,a,i):d;f!==d&&(p=f-d,f=d),l&&(d=h.barStart,f=h.barEnd-h.barStart,0!==d&&dt(d)!==dt(h.barEnd)&&(p=0),p+=d);const g=L(n)||l?p:n;let m=e.getPixelForValue(g);if(c=this.chart.getDataVisibility(t)?e.getPixelForValue(p+f):m,u=c-m,Math.abs(u)<r){u=function(t,e,i){return 0!==t?dt(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}(u,e,o)*r,d===o&&(m-=u/2);const t=e.getPixelForDecimal(0),n=e.getPixelForDecimal(1),h=Math.min(t,n),p=Math.max(t,n);m=Math.max(Math.min(m,p),h),c=m+u,i&&!l&&(a._stacks[e.axis]._visualValues[s]=e.getValueForPixel(c)-e.getValueForPixel(m))}if(m===e.getPixelForValue(o)){const t=dt(u)*e.getLineWidthForValue(o)/2;m+=t,u-=t}return{size:u,base:m,head:c,center:c+u/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,n=s.skipNull,r=H(s.maxBarThickness,1/0);let o,a;if(e.grouped){const i=n?this._getStackCount(t):e.stackCount,h="flex"===s.barThickness?function(t,e,i,s){const n=e.pixels,r=n[t];let o=t>0?n[t-1]:null,a=t<n.length-1?n[t+1]:null;const h=i.categoryPercentage;null===o&&(o=r-(null===a?e.end-e.start:a-r)),null===a&&(a=r+r-o);const l=r-(r-Math.min(o,a))/2*h;return{chunk:Math.abs(a-o)/2*h/s,ratio:i.barPercentage,start:l}}(t,e,s,i):function(t,e,i,s){const n=i.barThickness;let r,o;return L(n)?(r=e.min*i.categoryPercentage,o=i.barPercentage):(r=n*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}(t,e,s,i),l=this._getStackIndex(this.index,this._cachedMeta.stack,n?t:void 0);o=h.start+h.chunk*l+h.chunk/2,a=Math.min(r,h.chunk*h.ratio)}else o=i.getPixelForValue(this.getParsed(t)[i.axis],t),a=Math.min(r,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let n=0;for(;n<s;++n)null===this.getParsed(n)[e.axis]||i[n].hidden||i[n].draw(this._ctx)}},BubbleController:class extends Bi{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const n=super.parsePrimitiveData(t,e,i,s);for(let t=0;t<n.length;t++)n[t]._custom=this.resolveDataElementOptions(t+i).radius;return n}parseArrayData(t,e,i,s){const n=super.parseArrayData(t,e,i,s);for(let t=0;t<n.length;t++){const s=e[i+t];n[t]._custom=H(s[2],this.resolveDataElementOptions(t+i).radius)}return n}parseObjectData(t,e,i,s){const n=super.parseObjectData(t,e,i,s);for(let t=0;t<n.length;t++){const s=e[i+t];n[t]._custom=H(s&&s.r&&+s.r,this.resolveDataElementOptions(t+i).radius)}return n}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:n}=e,r=this.getParsed(t),o=s.getLabelForValue(r.x),a=n.getLabelForValue(r.y),h=r._custom;return{label:i[t]||"",value:"("+o+", "+a+(h?", "+h:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const n="reset"===s,{iScale:r,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:h}=this._getSharedOptions(e,s),l=r.axis,c=o.axis;for(let u=e;u<e+i;u++){const e=t[u],i=!n&&this.getParsed(u),d={},p=d[l]=n?r.getPixelForDecimal(.5):r.getPixelForValue(i[l]),f=d[c]=n?o.getBasePixel():o.getPixelForValue(i[c]);d.skip=isNaN(p)||isNaN(f),h&&(d.options=a||this.resolveDataElementOptions(u,e.active?"active":s),n&&(d.options.radius=0)),this.updateElement(e,u,d,s)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const n=s.radius;return"active"!==e&&(s.radius=0),s.radius+=H(i&&i._custom,n),s}},DoughnutController:Gi,LineController:class extends Bi{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:n}=e,r=this.chart._animationsDisabled;let{start:o,count:a}=Bt(e,s,r);this._drawStart=o,this._drawCount=a,zt(e)&&(o=0,a=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!n._decimated,i.points=s;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:h},t),this.updateElements(s,o,a,t)}updateElements(t,e,i,s){const n="reset"===s,{iScale:r,vScale:o,_stacked:a,_dataset:h}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,s),u=r.axis,d=o.axis,{spanGaps:p,segment:f}=this.options,g=gt(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||n||"none"===s,x=e+i,b=t.length;let y=e>0&&this.getParsed(e-1);for(let i=0;i<b;++i){const p=t[i],b=m?p:{};if(i<e||i>=x){b.skip=!0;continue}const _=this.getParsed(i),v=L(_[d]),w=b[u]=r.getPixelForValue(_[u],i),A=b[d]=n||v?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,_,a):_[d],i);b.skip=isNaN(w)||isNaN(A)||v,b.stop=i>0&&Math.abs(_[u]-y[u])>g,f&&(b.parsed=_,b.raw=h.data[i]),c&&(b.options=l||this.resolveDataElementOptions(i,p.active?"active":s)),m||this.updateElement(p,i,b,s),y=_}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const n=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,n,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}},PieController:class extends Gi{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:Yi,RadarController:class extends Bi{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,s){return We.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],n=e.iScale.getLabels();if(i.points=s,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const r={_loop:!0,_fullLoop:n.length===s.length,options:e};this.updateElement(i,void 0,r,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const n=this._cachedMeta.rScale,r="reset"===s;for(let o=e;o<e+i;o++){const e=t[o],i=this.resolveDataElementOptions(o,e.active?"active":s),a=n.getPointPositionForValue(o,this.getParsed(o).r),h=r?n.xCenter:a.x,l=r?n.yCenter:a.y,c={x:h,y:l,angle:a.angle,skip:isNaN(h)||isNaN(l),options:i};this.updateElement(e,o,c,s)}}},ScatterController:class extends Bi{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:n}=e,r=this.getParsed(t),o=s.getLabelForValue(r.x),a=n.getLabelForValue(r.y);return{label:i[t]||"",value:"("+o+", "+a+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,s=this.chart._animationsDisabled;let{start:n,count:r}=Bt(e,i,s);if(this._drawStart=n,this._drawCount=r,zt(e)&&(n=0,r=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:n,_dataset:r}=e;n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:o},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,n,r,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,s){const n="reset"===s,{iScale:r,vScale:o,_stacked:a,_dataset:h}=this._cachedMeta,l=this.resolveDataElementOptions(e,s),c=this.getSharedOptions(l),u=this.includeOptions(s,c),d=r.axis,p=o.axis,{spanGaps:f,segment:g}=this.options,m=gt(f)?f:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||n||"none"===s;let b=e>0&&this.getParsed(e-1);for(let l=e;l<e+i;++l){const e=t[l],i=this.getParsed(l),f=x?e:{},y=L(i[p]),_=f[d]=r.getPixelForValue(i[d],l),v=f[p]=n||y?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,i,a):i[p],l);f.skip=isNaN(_)||isNaN(v)||y,f.stop=l>0&&Math.abs(i[d]-b[d])>m,g&&(f.parsed=i,f.raw=h.data[l]),u&&(f.options=c||this.resolveDataElementOptions(l,e.active?"active":s)),x||this.updateElement(e,l,f,s),b=i}this.updateSharedOptions(c,s,l)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!e.length)return s;const n=e[0].size(this.resolveDataElementOptions(0)),r=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,n,r)/2}}});function qi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ki{static override(t){Object.assign(Ki.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return qi()}parse(){return qi()}format(){return qi()}add(){return qi()}diff(){return qi()}startOf(){return qi()}endOf(){return qi()}}var Zi=Ki;function Qi(t,e,i,s){const{controller:n,data:r,_sorted:o}=t,a=n._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&"r"!==e&&o&&r.length){const o=a._reversePixels?Tt:Pt;if(!s){const s=o(r,e,i);if(h){const{vScale:e}=n._cachedMeta,{_parsed:i}=t,r=i.slice(0,s.lo+1).reverse().findIndex((t=>!L(t[e.axis])));s.lo-=Math.max(0,r);const o=i.slice(s.hi).findIndex((t=>!L(t[e.axis])));s.hi+=Math.max(0,o)}return s}if(n._sharedOptions){const t=r[0],s="function"==typeof t.getRange&&t.getRange(e);if(s){const t=o(r,e,i-s),n=o(r,e,i+s);return{lo:t.lo,hi:n.hi}}}}return{lo:0,hi:r.length-1}}function Ji(t,e,i,s,n){const r=t.getSortedVisibleDatasetMetas(),o=i[e];for(let t=0,i=r.length;t<i;++t){const{index:i,data:a}=r[t],{lo:h,hi:l}=Qi(r[t],e,o,n);for(let t=h;t<=l;++t){const e=a[t];e.skip||s(e,i,t)}}}function ts(t,e,i,s,n){const r=[];return n||t.isPointInArea(e)?(Ji(t,i,e,(function(i,o,a){(n||ce(i,t.chartArea,0))&&i.inRange(e.x,e.y,s)&&r.push({element:i,datasetIndex:o,index:a})}),!0),r):r}function es(t,e,i,s,n,r){return r||t.isPointInArea(e)?"r"!==i||s?function(t,e,i,s,n,r){let o=[];const a=function(t){const e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,s){const n=e?Math.abs(t.x-s.x):0,r=i?Math.abs(t.y-s.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}}(i);let h=Number.POSITIVE_INFINITY;return Ji(t,i,e,(function(i,l,c){const u=i.inRange(e.x,e.y,n);if(s&&!u)return;const d=i.getCenterPoint(n);if(!r&&!t.isPointInArea(d)&&!u)return;const p=a(e,d);p<h?(o=[{element:i,datasetIndex:l,index:c}],h=p):p===h&&o.push({element:i,datasetIndex:l,index:c})})),o}(t,e,i,s,n,r):function(t,e,i,s){let n=[];return Ji(t,i,e,(function(t,i,r){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],s),{angle:h}=_t(t,{x:e.x,y:e.y});St(h,o,a)&&n.push({element:t,datasetIndex:i,index:r})})),n}(t,e,i,n):[]}function is(t,e,i,s,n){const r=[],o="x"===i?"inXRange":"inYRange";let a=!1;return Ji(t,i,e,((t,s,h)=>{t[o]&&t[o](e[i],n)&&(r.push({element:t,datasetIndex:s,index:h}),a=a||t.inRange(e.x,e.y,n))})),s&&!a?[]:r}var ss={evaluateInteractionItems:Ji,modes:{index(t,e,i,s){const n=ei(e,t),r=i.axis||"x",o=i.includeInvisible||!1,a=i.intersect?ts(t,n,r,s,o):es(t,n,r,!1,s,o),h=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,i=t.data[e];i&&!i.skip&&h.push({element:i,datasetIndex:t.index,index:e})})),h):[]},dataset(t,e,i,s){const n=ei(e,t),r=i.axis||"xy",o=i.includeInvisible||!1;let a=i.intersect?ts(t,n,r,s,o):es(t,n,r,!1,s,o);if(a.length>0){const e=a[0].datasetIndex,i=t.getDatasetMeta(e).data;a=[];for(let t=0;t<i.length;++t)a.push({element:i[t],datasetIndex:e,index:t})}return a},point:(t,e,i,s)=>ts(t,ei(e,t),i.axis||"xy",s,i.includeInvisible||!1),nearest(t,e,i,s){const n=ei(e,t),r=i.axis||"xy",o=i.includeInvisible||!1;return es(t,n,r,i.intersect,s,o)},x:(t,e,i,s)=>is(t,ei(e,t),"x",i.intersect,s),y:(t,e,i,s)=>is(t,ei(e,t),"y",i.intersect,s)}};const ns=["left","top","right","bottom"];function rs(t,e){return t.filter((t=>t.pos===e))}function os(t,e){return t.filter((t=>-1===ns.indexOf(t.pos)&&t.box.axis===e))}function as(t,e){return t.sort(((t,i)=>{const s=e?i:t,n=e?t:i;return s.weight===n.weight?s.index-n.index:s.weight-n.weight}))}function hs(t,e,i,s){return Math.max(t[i],e[i])+Math.max(t[s],e[s])}function ls(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function cs(t,e,i,s){const{pos:n,box:r}=i,o=t.maxPadding;if(!B(n)){i.size&&(t[n]-=i.size);const e=s[i.stack]||{size:0,count:1};e.size=Math.max(e.size,i.horizontal?r.height:r.width),i.size=e.size/e.count,t[n]+=i.size}r.getPadding&&ls(o,r.getPadding());const a=Math.max(0,e.outerWidth-hs(o,t,"left","right")),h=Math.max(0,e.outerHeight-hs(o,t,"top","bottom")),l=a!==t.w,c=h!==t.h;return t.w=a,t.h=h,i.horizontal?{same:l,other:c}:{same:c,other:l}}function us(t,e){const i=e.maxPadding;return function(t){const s={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{s[t]=Math.max(e[t],i[t])})),s}(t?["left","right"]:["top","bottom"])}function ds(t,e,i,s){const n=[];let r,o,a,h,l,c;for(r=0,o=t.length,l=0;r<o;++r){a=t[r],h=a.box,h.update(a.width||e.w,a.height||e.h,us(a.horizontal,e));const{same:o,other:u}=cs(e,i,a,s);l|=o&&n.length,c=c||u,h.fullSize||n.push(a)}return l&&ds(n,e,i,s)||c}function ps(t,e,i,s,n){t.top=i,t.left=e,t.right=e+s,t.bottom=i+n,t.width=s,t.height=n}function fs(t,e,i,s){const n=i.padding;let{x:r,y:o}=e;for(const a of t){const t=a.box,h=s[a.stack]||{count:1,placed:0,weight:1},l=a.stackWeight/h.weight||1;if(a.horizontal){const s=e.w*l,r=h.size||t.height;tt(h.start)&&(o=h.start),t.fullSize?ps(t,n.left,o,i.outerWidth-n.right-n.left,r):ps(t,e.left+h.placed,o,s,r),h.start=o,h.placed+=s,o=t.bottom}else{const s=e.h*l,o=h.size||t.width;tt(h.start)&&(r=h.start),t.fullSize?ps(t,r,n.top,o,i.outerHeight-n.bottom-n.top):ps(t,r,e.top+h.placed,o,s),h.start=r,h.placed+=s,r=t.right}}e.x=r,e.y=o}var gs={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,s){if(!t)return;const n=Me(t.options.layout.padding),r=Math.max(e-n.width,0),o=Math.max(i-n.height,0),a=function(t){const e=function(t){const e=[];let i,s,n,r,o,a;for(i=0,s=(t||[]).length;i<s;++i)n=t[i],({position:r,options:{stack:o,stackWeight:a=1}}=n),e.push({index:i,box:n,pos:r,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&r+o,stackWeight:a});return e}(t),i=as(e.filter((t=>t.box.fullSize)),!0),s=as(rs(e,"left"),!0),n=as(rs(e,"right")),r=as(rs(e,"top"),!0),o=as(rs(e,"bottom")),a=os(e,"x"),h=os(e,"y");return{fullSize:i,leftAndTop:s.concat(r),rightAndBottom:n.concat(h).concat(o).concat(a),chartArea:rs(e,"chartArea"),vertical:s.concat(n).concat(h),horizontal:r.concat(o).concat(a)}}(t.boxes),h=a.vertical,l=a.horizontal;j(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const c=h.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,u=Object.freeze({outerWidth:e,outerHeight:i,padding:n,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/c,hBoxMaxHeight:o/2}),d=Object.assign({},n);ls(d,Me(s));const p=Object.assign({maxPadding:d,w:r,h:o,x:n.left,y:n.top},n),f=function(t,e){const i=function(t){const e={};for(const i of t){const{stack:t,pos:s,stackWeight:n}=i;if(!t||!ns.includes(s))continue;const r=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=n}return e}(t),{vBoxMaxWidth:s,hBoxMaxHeight:n}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:o}=a.box,h=i[a.stack],l=h&&a.stackWeight/h.weight;a.horizontal?(a.width=l?l*s:o&&e.availableWidth,a.height=n):(a.width=s,a.height=l?l*n:o&&e.availableHeight)}return i}(h.concat(l),u);ds(a.fullSize,p,u,f),ds(h,p,u,f),ds(l,p,u,f)&&ds(h,p,u,f),function(t){const e=t.maxPadding;function i(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(p),fs(a.leftAndTop,p,u,f),p.x+=p.w,p.y+=p.h,fs(a.rightAndBottom,p,u,f),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},j(a.chartArea,(e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class ms{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class xs extends ms{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const bs="$chartjs",ys={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_s=t=>null===t||""===t,vs=!!ni&&{passive:!0};function ws(t,e,i){t&&t.canvas&&t.canvas.removeEventListener(e,i,vs)}function As(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function Ss(t,e,i){const s=t.canvas,n=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||As(i.addedNodes,s),e=e&&!As(i.removedNodes,s);e&&i()}));return n.observe(document,{childList:!0,subtree:!0}),n}function Ms(t,e,i){const s=t.canvas,n=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||As(i.removedNodes,s),e=e&&!As(i.addedNodes,s);e&&i()}));return n.observe(document,{childList:!0,subtree:!0}),n}const ks=new Map;let Cs=0;function Ps(){const t=window.devicePixelRatio;t!==Cs&&(Cs=t,ks.forEach(((e,i)=>{i.currentDevicePixelRatio!==t&&e()})))}function Ts(t,e,i){const s=t.canvas,n=s&&Ke(s);if(!n)return;const r=Ft(((t,e)=>{const s=n.clientWidth;i(t,e),s<n.clientWidth&&i()}),window),o=new ResizeObserver((t=>{const e=t[0],i=e.contentRect.width,s=e.contentRect.height;0===i&&0===s||r(i,s)}));return o.observe(n),function(t,e){ks.size||window.addEventListener("resize",Ps),ks.set(t,e)}(t,r),o}function Os(t,e,i){i&&i.disconnect(),"resize"===e&&function(t){ks.delete(t),ks.size||window.removeEventListener("resize",Ps)}(t)}function Es(t,e,i){const s=t.canvas,n=Ft((e=>{null!==t.ctx&&i(function(t,e){const i=ys[t.type]||t.type,{x:s,y:n}=ei(t,e);return{type:i,chart:e,native:t,x:void 0!==s?s:null,y:void 0!==n?n:null}}(e,t))}),t);return function(t,e,i){t&&t.addEventListener(e,i,vs)}(s,e,n),n}class Is extends ms{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function(t,e){const i=t.style,s=t.getAttribute("height"),n=t.getAttribute("width");if(t[bs]={initial:{height:s,width:n,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",_s(n)){const e=ri(t,"width");void 0!==e&&(t.width=e)}if(_s(s))if(""===t.style.height)t.height=t.width/(e||2);else{const e=ri(t,"height");void 0!==e&&(t.height=e)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[bs])return!1;const i=e[bs].initial;["height","width"].forEach((t=>{const s=i[t];L(s)?e.removeAttribute(t):e.setAttribute(t,s)}));const s=i.style||{};return Object.keys(s).forEach((t=>{e.style[t]=s[t]})),e.width=e.width,delete e[bs],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),n={attach:Ss,detach:Ms,resize:Ts}[e]||Es;s[e]=n(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];s&&(({attach:Os,detach:Os,resize:Os}[e]||ws)(t,e,s),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return function(t,e,i,s){const n=Qe(t),r=ti(n,"margin"),o=Ze(n.maxWidth,t,"clientWidth")||ot,a=Ze(n.maxHeight,t,"clientHeight")||ot,h=function(t,e,i){let s,n;if(void 0===e||void 0===i){const r=t&&Ke(t);if(r){const t=r.getBoundingClientRect(),o=Qe(r),a=ti(o,"border","width"),h=ti(o,"padding");e=t.width-h.width-a.width,i=t.height-h.height-a.height,s=Ze(o.maxWidth,r,"clientWidth"),n=Ze(o.maxHeight,r,"clientHeight")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:s||ot,maxHeight:n||ot}}(t,e,i);let{width:l,height:c}=h;if("content-box"===n.boxSizing){const t=ti(n,"border","width"),e=ti(n,"padding");l-=e.width+t.width,c-=e.height+t.height}return l=Math.max(0,l-r.width),c=Math.max(0,s?l/s:c-r.height),l=ii(Math.min(l,o,h.maxWidth)),c=ii(Math.min(c,a,h.maxHeight)),l&&!c&&(c=ii(l/2)),(void 0!==e||void 0!==i)&&s&&h.height&&c>h.height&&(c=h.height,l=ii(Math.floor(c*s))),{width:l,height:c}}(t,e,i,s)}isAttached(t){const e=t&&Ke(t);return!(!e||!e.isConnected)}}class Rs{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return gt(this.x)&&gt(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach((t=>{s[t]=i[t]&&i[t].active()?i[t]._to:this[t]})),s}}function Fs(t,e,i,s,n){const r=H(s,0),o=Math.min(H(n,t.length),t.length);let a,h,l,c=0;for(i=Math.ceil(i),n&&(a=n-s,i=a/Math.floor(a/i)),l=r;l<0;)c++,l=Math.round(r+c*i);for(h=Math.max(r,0);h<o;h++)h===l&&(e.push(t[h]),c++,l=Math.round(r+c*i))}const Ls=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i,Ds=(t,e)=>Math.min(e||t,t);function Bs(t,e){const i=[],s=t.length/e,n=t.length;let r=0;for(;r<n;r+=s)i.push(t[Math.floor(r)]);return i}function zs(t,e,i){const s=t.ticks.length,n=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let h,l=t.getPixelForTick(n);if(!(i&&(h=1===s?Math.max(l-r,o-l):0===e?(t.getPixelForTick(1)-l)/2:(l-t.getPixelForTick(n-1))/2,l+=n<e?h:-h,l<r-a||l>o+a)))return l}function Vs(t){return t.drawTicks?t.tickLength:0}function Hs(t,e){if(!t.display)return 0;const i=ke(t.font,e),s=Me(t.padding);return(D(t.text)?t.text.length:1)*i.lineHeight+s.height}function Ns(t,e,i){let s=Lt(t);return(i&&"right"!==e||!i&&"right"===e)&&(s=(t=>"left"===t?"right":"right"===t?"left":t)(s)),s}class Ws extends Rs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=V(t,Number.POSITIVE_INFINITY),e=V(e,Number.NEGATIVE_INFINITY),i=V(i,Number.POSITIVE_INFINITY),s=V(s,Number.NEGATIVE_INFINITY),{min:V(t,i),max:V(e,s),minDefined:z(t),maxDefined:z(e)}}getMinMax(t){let e,{min:i,max:s,minDefined:n,maxDefined:r}=this.getUserBounds();if(n&&r)return{min:i,max:s};const o=this.getMatchingVisibleMetas();for(let a=0,h=o.length;a<h;++a)e=o[a].controller.getMinMax(this,t),n||(i=Math.min(i,e.min)),r||(s=Math.max(s,e.max));return i=r&&i>s?s:i,s=n&&i>s?i:s,{min:V(i,V(s,i)),max:V(s,V(i,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){W(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:n,ticks:r}=this.options,o=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,i){const{min:s,max:n}=t,r=N(e,(n-s)/2),o=(t,e)=>i&&0===t?0:t+e;return{min:o(s,-Math.abs(r)),max:o(n,r)}}(this,n,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?Bs(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=function(t,e){const i=t.options.ticks,s=function(t){const e=t.options.offset,i=t._tickSize(),s=t._length/i+(e?0:1),n=t._maxLength/i;return Math.floor(Math.min(s,n))}(t),n=Math.min(i.maxTicksLimit||s,s),r=i.major.enabled?function(t){const e=[];let i,s;for(i=0,s=t.length;i<s;i++)t[i].major&&e.push(i);return e}(e):[],o=r.length,a=r[0],h=r[o-1],l=[];if(o>n)return function(t,e,i,s){let n,r=0,o=i[0];for(s=Math.ceil(s),n=0;n<t.length;n++)n===o&&(e.push(t[n]),r++,o=i[r*s])}(e,l,r,o/n),l;const c=function(t,e,i){const s=function(t){const e=t.length;let i,s;if(e<2)return!1;for(s=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==s)return!1;return s}(t),n=e.length/i;if(!s)return Math.max(n,1);const r=function(t){const e=[],i=Math.sqrt(t);let s;for(s=1;s<i;s++)t%s==0&&(e.push(s),e.push(t/s));return i===(0|i)&&e.push(i),e.sort(((t,e)=>t-e)).pop(),e}(s);for(let t=0,e=r.length-1;t<e;t++){const e=r[t];if(e>n)return e}return Math.max(n,1)}(r,e,n);if(o>0){let t,i;const s=o>1?Math.round((h-a)/(o-1)):null;for(Fs(e,l,c,L(s)?0:a-s,a),t=0,i=o-1;t<i;t++)Fs(e,l,c,r[t],r[t+1]);return Fs(e,l,c,h,L(s)?e.length:h+s),l}return Fs(e,l,c),l}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){W(this.options.afterUpdate,[this])}beforeSetDimensions(){W(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){W(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),W(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){W(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,n;for(i=0,s=t.length;i<s;i++)n=t[i],n.label=W(e.callback,[n.value,i,t],this)}afterTickToLabelConversion(){W(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){W(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Ds(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,n=e.maxRotation;let r,o,a,h=s;if(!this._isVisible()||!e.display||s>=n||i<=1||!this.isHorizontal())return void(this.labelRotation=s);const l=this._getLabelSizes(),c=l.widest.width,u=l.highest.height,d=Mt(this.chart.width-c,0,this.maxWidth);r=t.offset?this.maxWidth/i:d/(i-1),c+6>r&&(r=d/(i-(t.offset?.5:1)),o=this.maxHeight-Vs(t.grid)-e.padding-Hs(t.title,this.chart.options.font),a=Math.sqrt(c*c+u*u),h=bt(Math.min(Math.asin(Mt((l.highest.height+6)/r,-1,1)),Math.asin(Mt(o/a,-1,1))-Math.asin(Mt(u/a,-1,1)))),h=Math.max(s,Math.min(n,h))),this.labelRotation=h}afterCalculateLabelRotation(){W(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){W(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:n}}=this,r=this._isVisible(),o=this.isHorizontal();if(r){const r=Hs(s,e.options.font);if(o?(t.width=this.maxWidth,t.height=Vs(n)+r):(t.height=this.maxHeight,t.width=Vs(n)+r),i.display&&this.ticks.length){const{first:e,last:s,widest:n,highest:r}=this._getLabelSizes(),a=2*i.padding,h=xt(this.labelRotation),l=Math.cos(h),c=Math.sin(h);if(o){const e=i.mirror?0:c*n.width+l*r.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=i.mirror?0:l*n.width+c*r.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,s,c,l)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:n,padding:r},position:o}=this.options,a=0!==this.labelRotation,h="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,l=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,u=0;a?h?(c=s*t.width,u=i*e.height):(c=i*t.height,u=s*e.width):"start"===n?u=e.width:"end"===n?c=t.width:"inner"!==n&&(c=t.width/2,u=e.width/2),this.paddingLeft=Math.max((c-o+r)*this.width/(this.width-o),0),this.paddingRight=Math.max((u-l+r)*this.width/(this.width-l),0)}else{let i=e.height/2,s=t.height/2;"start"===n?(i=0,s=t.height):"end"===n&&(i=e.height,s=0),this.paddingTop=i+r,this.paddingBottom=s+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){W(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)L(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Bs(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:n}=this,r=[],o=[],a=Math.floor(e/Ds(e,i));let h,l,c,u,d,p,f,g,m,x,b,y=0,_=0;for(h=0;h<e;h+=a){if(u=t[h].label,d=this._resolveTickFontOptions(h),s.font=p=d.string,f=n[p]=n[p]||{data:{},gc:[]},g=d.lineHeight,m=x=0,L(u)||D(u)){if(D(u))for(l=0,c=u.length;l<c;++l)b=u[l],L(b)||D(b)||(m=ne(s,f.data,f.gc,m,b),x+=g)}else m=ne(s,f.data,f.gc,m,u),x=g;r.push(m),o.push(x),y=Math.max(m,y),_=Math.max(x,_)}!function(t,e){j(t,(t=>{const i=t.gc,s=i.length/2;let n;if(s>e){for(n=0;n<s;++n)delete t.data[i[n]];i.splice(0,s)}}))}(n,e);const v=r.indexOf(y),w=o.indexOf(_),A=t=>({width:r[t]||0,height:o[t]||0});return{first:A(0),last:A(e-1),widest:A(v),highest:A(w),widths:r,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Mt(this._alignToPixels?oe(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function(t,e,i){return Pe(t,{tick:i,index:e,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=Pe(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=xt(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),n=this._getLabelSizes(),r=t.autoSkipPadding||0,o=n?n.widest.width+r:0,a=n?n.highest.height+r:0;return this.isHorizontal()?a*i>o*s?o/i:a/s:a*s<o*i?a/i:o/s}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:n,position:r,border:o}=s,a=n.offset,h=this.isHorizontal(),l=this.ticks.length+(a?1:0),c=Vs(n),u=[],d=o.setContext(this.getContext()),p=d.display?d.width:0,f=p/2,g=function(t){return oe(i,t,p)};let m,x,b,y,_,v,w,A,S,M,k,C;if("top"===r)m=g(this.bottom),v=this.bottom-c,A=m-f,M=g(t.top)+f,C=t.bottom;else if("bottom"===r)m=g(this.top),M=t.top,C=g(t.bottom)-f,v=m+f,A=this.top+c;else if("left"===r)m=g(this.right),_=this.right-c,w=m-f,S=g(t.left)+f,k=t.right;else if("right"===r)m=g(this.left),S=t.left,k=g(t.right)-f,_=m+f,w=this.left+c;else if("x"===e){if("center"===r)m=g((t.top+t.bottom)/2+.5);else if(B(r)){const t=Object.keys(r)[0],e=r[t];m=g(this.chart.scales[t].getPixelForValue(e))}M=t.top,C=t.bottom,v=m+f,A=v+c}else if("y"===e){if("center"===r)m=g((t.left+t.right)/2);else if(B(r)){const t=Object.keys(r)[0],e=r[t];m=g(this.chart.scales[t].getPixelForValue(e))}_=m-f,w=_-c,S=t.left,k=t.right}const P=H(s.ticks.maxTicksLimit,l),T=Math.max(1,Math.ceil(l/P));for(x=0;x<l;x+=T){const t=this.getContext(x),e=n.setContext(t),s=o.setContext(t),r=e.lineWidth,l=e.color,c=s.dash||[],d=s.dashOffset,p=e.tickWidth,f=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;b=zs(this,x,a),void 0!==b&&(y=oe(i,b,r),h?_=w=S=k=y:v=A=M=C=y,u.push({tx1:_,ty1:v,tx2:w,ty2:A,x1:S,y1:M,x2:k,y2:C,width:r,color:l,borderDash:c,borderDashOffset:d,tickWidth:p,tickColor:f,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=l,this._borderValue=m,u}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:n}=i,r=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:h,padding:l,mirror:c}=n,u=Vs(i.grid),d=u+l,p=c?-l:d,f=-xt(this.labelRotation),g=[];let m,x,b,y,_,v,w,A,S,M,k,C,P="middle";if("top"===s)v=this.bottom-p,w=this._getXAxisLabelAlignment();else if("bottom"===s)v=this.top+p,w=this._getXAxisLabelAlignment();else if("left"===s){const t=this._getYAxisLabelAlignment(u);w=t.textAlign,_=t.x}else if("right"===s){const t=this._getYAxisLabelAlignment(u);w=t.textAlign,_=t.x}else if("x"===e){if("center"===s)v=(t.top+t.bottom)/2+d;else if(B(s)){const t=Object.keys(s)[0],e=s[t];v=this.chart.scales[t].getPixelForValue(e)+d}w=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===s)_=(t.left+t.right)/2-d;else if(B(s)){const t=Object.keys(s)[0],e=s[t];_=this.chart.scales[t].getPixelForValue(e)}w=this._getYAxisLabelAlignment(u).textAlign}"y"===e&&("start"===a?P="top":"end"===a&&(P="bottom"));const T=this._getLabelSizes();for(m=0,x=o.length;m<x;++m){b=o[m],y=b.label;const t=n.setContext(this.getContext(m));A=this.getPixelForTick(m)+n.labelOffset,S=this._resolveTickFontOptions(m),M=S.lineHeight,k=D(y)?y.length:1;const e=k/2,i=t.color,a=t.textStrokeColor,l=t.textStrokeWidth;let u,d=w;if(r?(_=A,"inner"===w&&(d=m===x-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),C="top"===s?"near"===h||0!==f?-k*M+M/2:"center"===h?-T.highest.height/2-e*M+M:-T.highest.height+M/2:"near"===h||0!==f?M/2:"center"===h?T.highest.height/2-e*M:T.highest.height-k*M,c&&(C*=-1),0===f||t.showLabelBackdrop||(_+=M/2*Math.sin(f))):(v=A,C=(1-k)*M/2),t.showLabelBackdrop){const e=Me(t.backdropPadding),i=T.heights[m],s=T.widths[m];let n=C-e.top,r=0-e.left;switch(P){case"middle":n-=i/2;break;case"bottom":n-=i}switch(w){case"center":r-=s/2;break;case"right":r-=s;break;case"inner":m===x-1?r-=s:m>0&&(r-=s/2)}u={left:r,top:n,width:s+e.width,height:i+e.height,color:t.backdropColor}}g.push({label:y,font:S,textOffset:C,options:{rotation:f,color:i,strokeColor:a,strokeWidth:l,textAlign:d,textBaseline:P,translation:[_,v],backdrop:u}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-xt(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:n}}=this.options,r=t+n,o=this._getLabelSizes().widest.width;let a,h;return"left"===e?s?(h=this.right+n,"near"===i?a="left":"center"===i?(a="center",h+=o/2):(a="right",h+=o)):(h=this.right-r,"near"===i?a="right":"center"===i?(a="center",h-=o/2):(a="left",h=this.left)):"right"===e?s?(h=this.left+n,"near"===i?a="right":"center"===i?(a="center",h-=o/2):(a="left",h-=o)):(h=this.left+r,"near"===i?a="left":"center"===i?(a="center",h+=o/2):(a="right",h=this.right)):a="right",{textAlign:a,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:n,height:r}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,n,r),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex((e=>e.value===t));return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let n,r;const o=(t,e,s)=>{s.width&&s.color&&(i.save(),i.lineWidth=s.width,i.strokeStyle=s.color,i.setLineDash(s.borderDash||[]),i.lineDashOffset=s.borderDashOffset,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.stroke(),i.restore())};if(e.display)for(n=0,r=s.length;n<r;++n){const t=s[n];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,n=i.setContext(this.getContext()),r=i.display?n.width:0;if(!r)return;const o=s.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let h,l,c,u;this.isHorizontal()?(h=oe(t,this.left,r)-r/2,l=oe(t,this.right,o)+o/2,c=u=a):(c=oe(t,this.top,r)-r/2,u=oe(t,this.bottom,o)+o/2,h=l=a),e.save(),e.lineWidth=n.width,e.strokeStyle=n.color,e.beginPath(),e.moveTo(h,c),e.lineTo(l,u),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,i=this._computeLabelArea();i&&ue(e,i);const s=this.getLabelItems(t);for(const t of s){const i=t.options,s=t.font;xe(e,t.label,0,t.textOffset,s,i)}i&&de(e)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const n=ke(i.font),r=Me(i.padding),o=i.align;let a=n.lineHeight/2;"bottom"===e||"center"===e||B(e)?(a+=r.bottom,D(i.text)&&(a+=n.lineHeight*(i.text.length-1))):a+=r.top;const{titleX:h,titleY:l,maxWidth:c,rotation:u}=function(t,e,i,s){const{top:n,left:r,bottom:o,right:a,chart:h}=t,{chartArea:l,scales:c}=h;let u,d,p,f=0;const g=o-n,m=a-r;if(t.isHorizontal()){if(d=Dt(s,r,a),B(i)){const t=Object.keys(i)[0],s=i[t];p=c[t].getPixelForValue(s)+g-e}else p="center"===i?(l.bottom+l.top)/2+g-e:Ls(t,i,e);u=a-r}else{if(B(i)){const t=Object.keys(i)[0],s=i[t];d=c[t].getPixelForValue(s)-m+e}else d="center"===i?(l.left+l.right)/2-m+e:Ls(t,i,e);p=Dt(s,o,n),f="left"===i?-ht:ht}return{titleX:d,titleY:p,maxWidth:u,rotation:f}}(this,a,e,o);xe(t,i.text,0,0,n,{color:i.color,maxWidth:c,rotation:u,textAlign:Ns(o,e,s),textBaseline:"middle",translation:[h,l]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=H(t.grid&&t.grid.z,-1),s=H(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Ws.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let n,r;for(n=0,r=e.length;n<r;++n){const r=e[n];r[i]!==this.id||t&&r.type!==t||s.push(r)}return s}_resolveTickFontOptions(t){return ke(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class js{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function(t){return"id"in t&&"defaults"in t})(e)&&(i=this.register(e));const s=this.items,n=t.id,r=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+t);return n in s||(s[n]=t,function(t,e,i){const s=X(Object.create(null),[i?se.get(i):{},se.get(e),t.defaults]);se.set(e,s),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((i=>{const s=i.split("."),n=s.pop(),r=[t].concat(s).join("."),o=e[i].split("."),a=o.pop(),h=o.join(".");se.route(r,n,h,a)}))}(e,t.defaultRoutes),t.descriptors&&se.describe(e,t.descriptors)}(t,r,i),this.override&&se.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in se[s]&&(delete se[s][i],this.override&&delete Qt[i])}}class Us{constructor(){this.controllers=new js(Bi,"datasets",!0),this.elements=new js(Rs,"elements"),this.plugins=new js(Object,"plugins"),this.scales=new js(Ws,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach((e=>{const s=i||this._getRegistryForType(e);i||s.isForType(e)||s===this.plugins&&e.id?this._exec(t,s,e):j(e,(e=>{const s=i||this._getRegistryForType(e);this._exec(t,s,e)}))}))}_exec(t,e,i){const s=J(t);W(i["before"+s],[],i),e[t](i),W(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(void 0===s)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var $s=new Us;class Gs{constructor(){this._init=[]}notify(t,e,i,s){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const n=s?this._descriptors(t).filter(s):this._descriptors(t),r=this._notify(n,t,e,i);return"afterDestroy"===e&&(this._notify(n,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,e,i,s){s=s||{};for(const n of t){const t=n.plugin;if(!1===W(t[i],[e,s,n.options],t)&&s.cancelable)return!1}return!0}invalidate(){L(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=H(i.options&&i.options.plugins,{}),n=function(t){const e={},i=[],s=Object.keys($s.plugins.items);for(let t=0;t<s.length;t++)i.push($s.getPlugin(s[t]));const n=t.plugins||[];for(let t=0;t<n.length;t++){const s=n[t];-1===i.indexOf(s)&&(i.push(s),e[s.id]=!0)}return{plugins:i,localIds:e}}(i);return!1!==s||e?function(t,{plugins:e,localIds:i},s,n){const r=[],o=t.getContext();for(const a of e){const e=a.id,h=Ys(s[e],n);null!==h&&r.push({plugin:a,options:Xs(t.config,{plugin:a,local:i[e]},h,o)})}return r}(t,n,s,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function Ys(t,e){return e||!1!==t?!0===t?{}:t:null}function Xs(t,{plugin:e,local:i},s,n){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return i&&e.defaults&&o.push(e.defaults),t.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qs(t,e){const i=se.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function Ks(t){if("x"===t||"y"===t||"r"===t)return t}function Zs(t,...e){if(Ks(t))return t;for(const s of e){const e=s.axis||("top"===(i=s.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.length>1&&Ks(t[0].toLowerCase());if(e)return e}var i;throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Qs(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function Js(t){const e=t.options||(t.options={});e.plugins=H(e.plugins,{}),e.scales=function(t,e){const i=Qt[t.type]||{scales:{}},s=e.scales||{},n=qs(t.type,e),r=Object.create(null);return Object.keys(s).forEach((e=>{const o=s[e];if(!B(o))return console.error(`Invalid scale configuration for scale: ${e}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const a=Zs(e,o,function(t,e){if(e.data&&e.data.datasets){const i=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(i.length)return Qs(t,"x",i[0])||Qs(t,"y",i[0])}return{}}(e,t),se.scales[o.type]),h=function(t,e){return t===e?"_index_":"_value_"}(a,n),l=i.scales||{};r[e]=q(Object.create(null),[{axis:a},o,l[a],l[h]])})),t.data.datasets.forEach((i=>{const n=i.type||t.type,o=i.indexAxis||qs(n,e),a=(Qt[n]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i}(t,o),n=i[e+"AxisID"]||e;r[n]=r[n]||Object.create(null),q(r[n],[{axis:e},s[n],a[t]])}))})),Object.keys(r).forEach((t=>{const e=r[t];q(e,[se.scales[e.type],se.scale])})),r}(t,e)}function tn(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const en=new Map,sn=new Set;function nn(t,e){let i=en.get(t);return i||(i=e(),en.set(t,i),sn.add(i)),i}const rn=(t,e,i)=>{const s=Q(e,i);void 0!==s&&t.add(s)};class on{constructor(t){this._config=function(t){return(t=t||{}).data=tn(t.data),Js(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=tn(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Js(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return nn(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return nn(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return nn(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return nn(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return s&&!e||(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:n}=this,r=this._cachedScopes(t,i),o=r.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>rn(a,t,e)))),e.forEach((t=>rn(a,s,t))),e.forEach((t=>rn(a,Qt[n]||{},t))),e.forEach((t=>rn(a,se,t))),e.forEach((t=>rn(a,Jt,t)))}));const h=Array.from(a);return 0===h.length&&h.push(Object.create(null)),sn.has(e)&&r.set(e,h),h}chartOptionScopes(){const{options:t,type:e}=this;return[t,Qt[e]||{},se.datasets[e]||{},{type:e},se,Jt]}resolveNamedOptions(t,e,i,s=[""]){const n={$shared:!0},{resolver:r,subPrefixes:o}=an(this._resolverCache,t,s);let a=r;(function(t,e){const{isScriptable:i,isIndexable:s}=Ee(t);for(const n of e){const e=i(n),r=s(n),o=(r||e)&&t[n];if(e&&(et(o)||hn(o))||r&&D(o))return!0}return!1})(r,e)&&(n.$shared=!1,a=Oe(r,i=et(i)?i():i,this.createResolver(t,i,o)));for(const t of e)n[t]=a[t];return n}createResolver(t,e,i=[""],s){const{resolver:n}=an(this._resolverCache,t,i);return B(e)?Oe(n,e,void 0,s):n}}function an(t,e,i){let s=t.get(e);s||(s=new Map,t.set(e,s));const n=i.join();let r=s.get(n);return r||(r={resolver:Te(e,i),subPrefixes:i.filter((t=>!t.toLowerCase().includes("hover")))},s.set(n,r)),r}const hn=t=>B(t)&&Object.getOwnPropertyNames(t).some((e=>et(t[e]))),ln=["top","bottom","left","right","chartArea"];function cn(t,e){return"top"===t||"bottom"===t||-1===ln.indexOf(t)&&"x"===e}function un(t,e){return function(i,s){return i[t]===s[t]?i[e]-s[e]:i[t]-s[t]}}function dn(t){const e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),W(i&&i.onComplete,[t],e)}function pn(t){const e=t.chart,i=e.options.animation;W(i&&i.onProgress,[t],e)}function fn(t){return qe()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const gn={},mn=t=>{const e=fn(t);return Object.values(gn).filter((t=>t.canvas===e)).pop()};function xn(t,e,i){const s=Object.keys(t);for(const n of s){const s=+n;if(s>=e){const r=t[n];delete t[n],(i>0||s>e)&&(t[s+i]=r)}}}class bn{static defaults=se;static instances=gn;static overrides=Qt;static registry=$s;static version="4.4.9";static getChart=mn;static register(...t){$s.add(...t),yn()}static unregister(...t){$s.remove(...t),yn()}constructor(t,e){const i=this.config=new on(e),s=fn(t),n=mn(s);if(n)throw new Error("Canvas is already in use. Chart with ID '"+n.id+"' must be destroyed before the canvas with ID '"+n.canvas.id+"' can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function(t){return!qe()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?xs:Is}(s)),this.platform.updateConfig(i);const o=this.platform.acquireContext(s,r.aspectRatio),a=o&&o.canvas,h=a&&a.height,l=a&&a.width;this.id=F(),this.ctx=o,this.canvas=a,this.width=l,this.height=h,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Gs,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let i;return function(...s){return e?(clearTimeout(i),i=setTimeout(t,e,s)):t.apply(this,s),e}}((t=>this.update(t)),r.resizeDelay||0),this._dataChanges=[],gn[this.id]=this,o&&a?(vi.listen(this,"complete",dn),vi.listen(this,"progress",pn),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:n}=this;return L(t)?e&&n?n:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return $s}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():si(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ae(this.canvas,this.ctx),this}stop(){return vi.stop(this),this}resize(t,e){vi.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,n=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(s,t,e,n),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,si(this,o,!0)&&(this.notifyPlugins("resize",{size:r}),W(i.onResize,[this,r],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){j(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce(((t,e)=>(t[e]=!1,t)),{});let n=[];e&&(n=n.concat(Object.keys(e).map((t=>{const i=e[t],s=Zs(t,i),n="r"===s,r="x"===s;return{options:i,dposition:n?"chartArea":r?"bottom":"left",dtype:n?"radialLinear":r?"category":"linear"}})))),j(n,(e=>{const n=e.options,r=n.id,o=Zs(r,n),a=H(n.type,e.dtype);void 0!==n.position&&cn(n.position,o)===cn(e.dposition)||(n.position=e.dposition),s[r]=!0;let h=null;r in i&&i[r].type===a?h=i[r]:(h=new($s.getScale(a))({id:r,type:a,ctx:this.ctx,chart:this}),i[h.id]=h),h.init(n,t)})),j(s,((t,e)=>{t||delete i[e]})),j(i,(t=>{gs.configure(this,t,t.options),gs.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort(((t,e)=>t.index-e.index)),i>e){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(un("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,i)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const s=e[i];let n=this.getDatasetMeta(i);const r=s.type||this.config.type;if(n.type&&n.type!==r&&(this._destroyDatasetMeta(i),n=this.getDatasetMeta(i)),n.type=r,n.indexAxis=s.indexAxis||qs(r,this.options),n.order=s.order||0,n.index=i,n.label=""+s.label,n.visible=this.isDatasetVisible(i),n.controller)n.controller.updateIndex(i),n.controller.linkScales();else{const e=$s.getController(r),{datasetElementType:s,dataElementType:o}=se.datasets[r];Object.assign(e,{dataElementType:$s.getElement(o),datasetElementType:s&&$s.getElement(s)}),n.controller=new e(this,i),t.push(n.controller)}}return this._updateMetasets(),t}_resetElements(){j(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t),i=!s&&-1===n.indexOf(e);e.buildOrUpdateElements(i),r=Math.max(+e.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),s||j(n,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(un("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){j(this.scales,(t=>{gs.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);it(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:n}of e)xn(t,s,"_removeElements"===i?-n:n)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),s=i(0);for(let t=1;t<e;t++)if(!it(s,i(t)))return;return Array.from(s).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;gs.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],j(this.boxes,(t=>{i&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,et(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(vi.has(this)?this.attached&&!vi.running(this)&&vi.start(this):(this.draw(),dn({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,e)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,n;for(s=0,n=e.length;s<n;++s){const n=e[s];t&&!n.visible||i.push(n)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=yi(this,t);!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(s&&ue(e,s),t.controller.draw(),s&&de(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return ce(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const n=ss.modes[e];return"function"==typeof n?n(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter((t=>t&&t._dataset===e)).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Pe(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",n=this.getDatasetMeta(t),r=n.controller._resolveAnimations(void 0,s);tt(e)?(n.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),r.update(n,{visible:i}),this.update((e=>e.datasetIndex===t?s:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),vi.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),ae(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete gn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(i,s)=>{e.addEventListener(this,i,s),t[i]=s},s=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};j(this.options.events,(t=>i(t,s)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(i,s)=>{e.addEventListener(this,i,s),t[i]=s},s=(i,s)=>{t[i]&&(e.removeEventListener(this,i,s),delete t[i])},n=(t,e)=>{this.canvas&&this.resize(t,e)};let r;const o=()=>{s("attach",o),this.attached=!0,this.resize(),i("resize",n),i("detach",r)};r=()=>{this.attached=!1,s("resize",n),this._stop(),this._resize(0,0),i("attach",o)},e.isAttached(this.canvas)?o():r()}unbindEvents(){j(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},j(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let n,r,o,a;for("dataset"===e&&(n=this.getDatasetMeta(t[0].datasetIndex),n.controller["_"+s+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){r=t[o];const e=r&&this.getDatasetMeta(r.datasetIndex).controller;e&&e[s+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map((({datasetIndex:t,index:e})=>{const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[e],index:e}}));!U(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,i){const s=this.options.hover,n=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),r=n(e,t),o=i?t:n(t,e);r.length&&this.updateHoverStyle(r,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,s))return;const n=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(n||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:n}=this,r=e,o=this._getActiveElements(t,s,i,r),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),h=function(t,e,i,s){return i&&"mouseout"!==t.type?s?e:t:null}(t,this._lastEvent,i,a);i&&(this._lastEvent=null,W(n.onHover,[t,o,this],this),a&&W(n.onClick,[t,o,this],this));const l=!U(o,s);return(l||e)&&(this._active=o,this._updateHoverStyles(o,s,e)),this._lastEvent=h,l}_getActiveElements(t,e,i,s){if("mouseout"===t.type)return[];if(!i)return e;const n=this.options.hover;return this.getElementsAtEventForMode(t,n.mode,n,s)}}function yn(){return j(bn.instances,(t=>t._plugins.invalidate()))}function _n(t,e,i,s){return{x:i+t*Math.cos(e),y:s+t*Math.sin(e)}}function vn(t,e,i,s,n,r){const{x:o,y:a,startAngle:h,pixelMargin:l,innerRadius:c}=e,u=Math.max(e.outerRadius+s+i-l,0),d=c>0?c+s+i+l:0;let p=0;const f=n-h;if(s){const t=((c>0?c-s:0)+(u>0?u-s:0))/2;p=(f-(0!==t?f*t/(t+s):f))/2}const g=(f-Math.max(.001,f*u-i/st)/u)/2,m=h+g+p,x=n-g-p,{outerStart:b,outerEnd:y,innerStart:_,innerEnd:v}=function(t,e,i,s){const n=we(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),r=(i-e)/2,o=Math.min(r,s*e/2),a=t=>{const e=(i-Math.min(r,t))*s/2;return Mt(t,0,Math.min(r,e))};return{outerStart:a(n.outerStart),outerEnd:a(n.outerEnd),innerStart:Mt(n.innerStart,0,o),innerEnd:Mt(n.innerEnd,0,o)}}(e,d,u,x-m),w=u-b,A=u-y,S=m+b/w,M=x-y/A,k=d+_,C=d+v,P=m+_/k,T=x-v/C;if(t.beginPath(),r){const e=(S+M)/2;if(t.arc(o,a,u,S,e),t.arc(o,a,u,e,M),y>0){const e=_n(A,M,o,a);t.arc(e.x,e.y,y,M,x+ht)}const i=_n(C,x,o,a);if(t.lineTo(i.x,i.y),v>0){const e=_n(C,T,o,a);t.arc(e.x,e.y,v,x+ht,T+Math.PI)}const s=(x-v/d+(m+_/d))/2;if(t.arc(o,a,d,x-v/d,s,!0),t.arc(o,a,d,s,m+_/d,!0),_>0){const e=_n(k,P,o,a);t.arc(e.x,e.y,_,P+Math.PI,m-ht)}const n=_n(w,m,o,a);if(t.lineTo(n.x,n.y),b>0){const e=_n(w,S,o,a);t.arc(e.x,e.y,b,m-ht,S)}}else{t.moveTo(o,a);const e=Math.cos(S)*u+o,i=Math.sin(S)*u+a;t.lineTo(e,i);const s=Math.cos(M)*u+o,n=Math.sin(M)*u+a;t.lineTo(s,n)}t.closePath()}function wn(t,e,i=e){t.lineCap=H(i.borderCapStyle,e.borderCapStyle),t.setLineDash(H(i.borderDash,e.borderDash)),t.lineDashOffset=H(i.borderDashOffset,e.borderDashOffset),t.lineJoin=H(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=H(i.borderWidth,e.borderWidth),t.strokeStyle=H(i.borderColor,e.borderColor)}function An(t,e,i){t.lineTo(i.x,i.y)}function Sn(t,e,i={}){const s=t.length,{start:n=0,end:r=s-1}=i,{start:o,end:a}=e,h=Math.max(n,o),l=Math.min(r,a),c=n<o&&r<o||n>a&&r>a;return{count:s,start:h,loop:e.loop,ilen:l<h&&!c?s+l-h:l-h}}function Mn(t,e,i,s){const{points:n,options:r}=e,{count:o,start:a,loop:h,ilen:l}=Sn(n,i,s),c=function(t){return t.stepped?pe:t.tension||"monotone"===t.cubicInterpolationMode?fe:An}(r);let u,d,p,{move:f=!0,reverse:g}=s||{};for(u=0;u<=l;++u)d=n[(a+(g?l-u:u))%o],d.skip||(f?(t.moveTo(d.x,d.y),f=!1):c(t,p,d,g,r.stepped),p=d);return h&&(d=n[(a+(g?l:0))%o],c(t,p,d,g,r.stepped)),!!h}function kn(t,e,i,s){const n=e.points,{count:r,start:o,ilen:a}=Sn(n,i,s),{move:h=!0,reverse:l}=s||{};let c,u,d,p,f,g,m=0,x=0;const b=t=>(o+(l?a-t:t))%r,y=()=>{p!==f&&(t.lineTo(m,f),t.lineTo(m,p),t.lineTo(m,g))};for(h&&(u=n[b(0)],t.moveTo(u.x,u.y)),c=0;c<=a;++c){if(u=n[b(c)],u.skip)continue;const e=u.x,i=u.y,s=0|e;s===d?(i<p?p=i:i>f&&(f=i),m=(x*m+e)/++x):(y(),t.lineTo(e,i),d=s,x=0,p=f=i),g=i}y()}function Cn(t){const e=t.options,i=e.borderDash&&e.borderDash.length;return t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||i?Mn:kn}const Pn="function"==typeof Path2D;class Tn extends Rs{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;Xe(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const i=t.points,s=t.options.spanGaps,n=i.length;if(!n)return[];const r=!!t._loop,{start:o,end:a}=function(t,e,i,s){let n=0,r=e-1;if(i&&!s)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,i&&(r+=n);r>n&&t[r%e].skip;)r--;return r%=e,{start:n,end:r}}(i,n,r,s);return function(t,e,i,s){return s&&s.setContext&&i?function(t,e,i,s){const n=t._chart.getContext(),r=mi(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,h=i.length,l=[];let c=r,u=e[0].start,d=u;function p(t,e,s,n){const r=a?-1:1;if(t!==e){for(t+=h;i[t%h].skip;)t-=r;for(;i[e%h].skip;)e+=r;t%h!=e%h&&(l.push({start:t%h,end:e%h,loop:s,style:n}),c=n,u=e%h)}}for(const t of e){u=a?u:t.start;let e,r=i[u%h];for(d=u+1;d<=t.end;d++){const a=i[d%h];e=mi(s.setContext(Pe(n,{type:"segment",p0:r,p1:a,p0DataIndex:(d-1)%h,p1DataIndex:d%h,datasetIndex:o}))),xi(e,c)&&p(u,d-1,t.loop,c),r=a,c=e}u<d-1&&p(u,d-1,t.loop,c)}return l}(t,e,i,s):e}(t,!0===s?[{start:o,end:a,loop:r}]:function(t,e,i,s){const n=t.length,r=[];let o,a=e,h=t[e];for(o=e+1;o<=i;++o){const i=t[o%n];i.skip||i.stop?h.skip||(s=!1,r.push({start:e%n,end:(o-1)%n,loop:s}),e=a=i.stop?o:null):(a=o,h.skip&&(e=o)),h=i}return null!==a&&r.push({start:e%n,end:a%n,loop:s}),r}(i,o,a<o?a+n:a,!!t._fullLoop&&0===o&&a===n-1),i,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],n=this.points,r=gi(this,{property:e,start:s,end:s});if(!r.length)return;const o=[],a=function(t){return t.stepped?ai:t.tension||"monotone"===t.cubicInterpolationMode?hi:oi}(i);let h,l;for(h=0,l=r.length;h<l;++h){const{start:l,end:c}=r[h],u=n[l],d=n[c];if(u===d){o.push(u);continue}const p=a(u,d,Math.abs((s-u[e])/(d[e]-u[e])),i.stepped);p[e]=t[e],o.push(p)}return 1===o.length?o[0]:o}pathSegment(t,e,i){return Cn(this)(t,this,e,i)}path(t,e,i){const s=this.segments,n=Cn(this);let r=this._loop;e=e||0,i=i||this.points.length-e;for(const o of s)r&=n(t,this,o,{start:e,end:e+i-1});return!!r}draw(t,e,i,s){const n=this.options||{};(this.points||[]).length&&n.borderWidth&&(t.save(),function(t,e,i,s){Pn&&!e.options.segment?function(t,e,i,s){let n=e._path;n||(n=e._path=new Path2D,e.path(n,i,s)&&n.closePath()),wn(t,e.options),t.stroke(n)}(t,e,i,s):function(t,e,i,s){const{segments:n,options:r}=e,o=Cn(e);for(const a of n)wn(t,r,a.style),t.beginPath(),o(t,e,a,{start:i,end:i+s-1})&&t.closePath(),t.stroke()}(t,e,i,s)}(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function On(t,e,i,s){const n=t.options,{[i]:r}=t.getProps([i],s);return Math.abs(e-r)<n.radius+n.hitRadius}function En(t,e){const{x:i,y:s,base:n,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,h,l,c,u;return t.horizontal?(u=o/2,a=Math.min(i,n),h=Math.max(i,n),l=s-u,c=s+u):(u=r/2,a=i-u,h=i+u,l=Math.min(s,n),c=Math.max(s,n)),{left:a,top:l,right:h,bottom:c}}function In(t,e,i,s){return t?0:Mt(e,i,s)}function Rn(t,e,i,s){const n=null===e,r=null===i,o=t&&!(n&&r)&&En(t,s);return o&&(n||kt(e,o.left,o.right))&&(r||kt(i,o.top,o.bottom))}function Fn(t,e){t.rect(e.x,e.y,e.w,e.h)}function Ln(t,e,i={}){const s=t.x!==i.x?-e:0,n=t.y!==i.y?-e:0,r=(t.x+t.w!==i.x+i.w?e:0)-s,o=(t.y+t.h!==i.y+i.h?e:0)-n;return{x:t.x+s,y:t.y+n,w:t.w+r,h:t.h+o,radius:t.radius}}var Dn=Object.freeze({__proto__:null,ArcElement:class extends Rs{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:n,distance:r}=_t(s,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:h,outerRadius:l,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),u=(this.options.spacing+this.options.borderWidth)/2,d=H(c,a-o),p=St(n,o,a)&&o!==a,f=d>=nt||p,g=kt(r,h+u,l+u);return f&&g}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:n,innerRadius:r,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:h}=this.options,l=(s+n)/2,c=(r+o+h+a)/2;return{x:e+Math.cos(l)*c,y:i+Math.sin(l)*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,s=(e.offset||0)/4,n=(e.spacing||0)/2,r=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>nt?Math.floor(i/nt):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*s,Math.sin(o)*s);const a=s*(1-Math.sin(Math.min(st,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,i,s,n){const{fullCircles:r,startAngle:o,circumference:a}=e;let h=e.endAngle;if(r){vn(t,e,i,s,h,n);for(let e=0;e<r;++e)t.fill();isNaN(a)||(h=o+(a%nt||nt))}vn(t,e,i,s,h,n),t.fill()}(t,this,a,n,r),function(t,e,i,s,n){const{fullCircles:r,startAngle:o,circumference:a,options:h}=e,{borderWidth:l,borderJoinStyle:c,borderDash:u,borderDashOffset:d}=h,p="inner"===h.borderAlign;if(!l)return;t.setLineDash(u||[]),t.lineDashOffset=d,p?(t.lineWidth=2*l,t.lineJoin=c||"round"):(t.lineWidth=l,t.lineJoin=c||"bevel");let f=e.endAngle;if(r){vn(t,e,i,s,f,n);for(let e=0;e<r;++e)t.stroke();isNaN(a)||(f=o+(a%nt||nt))}p&&function(t,e,i){const{startAngle:s,pixelMargin:n,x:r,y:o,outerRadius:a,innerRadius:h}=e;let l=n/a;t.beginPath(),t.arc(r,o,a,s-l,i+l),h>n?(l=n/h,t.arc(r,o,h,i+l,s-l,!0)):t.arc(r,o,n,i+ht,s-ht),t.closePath(),t.clip()}(t,e,f),r||(vn(t,e,i,s,f,n),t.stroke())}(t,this,a,n,r),t.restore()}},BarElement:class extends Rs{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:n,outer:r}=function(t){const e=En(t),i=e.right-e.left,s=e.bottom-e.top,n=function(t,e,i){const s=t.options.borderWidth,n=t.borderSkipped,r=Ae(s);return{t:In(n.top,r.top,0,i),r:In(n.right,r.right,0,e),b:In(n.bottom,r.bottom,0,i),l:In(n.left,r.left,0,e)}}(t,i/2,s/2),r=function(t,e,i){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,r=Se(n),o=Math.min(e,i),a=t.borderSkipped,h=s||B(n);return{topLeft:In(!h||a.top||a.left,r.topLeft,0,o),topRight:In(!h||a.top||a.right,r.topRight,0,o),bottomLeft:In(!h||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:In(!h||a.bottom||a.right,r.bottomRight,0,o)}}(t,i/2,s/2);return{outer:{x:e.left,y:e.top,w:i,h:s,radius:r},inner:{x:e.left+n.l,y:e.top+n.t,w:i-n.l-n.r,h:s-n.t-n.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,r.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(n.b,n.r))}}}}(this),o=(a=r.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?be:Fn;var a;t.save(),r.w===n.w&&r.h===n.h||(t.beginPath(),o(t,Ln(r,e,n)),t.clip(),o(t,Ln(n,-e,r)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),o(t,Ln(n,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return Rn(this,t,e,i)}inXRange(t,e){return Rn(this,t,null,e)}inYRange(t,e){return Rn(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:n}=this.getProps(["x","y","base","horizontal"],t);return{x:n?(e+s)/2:e,y:n?i:(i+s)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:Tn,PointElement:class extends Rs{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:n,y:r}=this.getProps(["x","y"],i);return Math.pow(t-n,2)+Math.pow(e-r,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return On(this,t,"x",e)}inYRange(t,e){return On(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;return e=Math.max(e,e&&t.hoverRadius||0),2*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this.options;this.skip||i.radius<.1||!ce(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,he(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}});const Bn=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],zn=Bn.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function Vn(t){return Bn[t%Bn.length]}function Hn(t){return zn[t%zn.length]}function Nn(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var Wn={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){if(!i.enabled)return;const{data:{datasets:s},options:n}=t.config,{elements:r}=n,o=Nn(s)||(a=n)&&(a.borderColor||a.backgroundColor)||r&&Nn(r)||"rgba(0,0,0,0.1)"!==se.borderColor||"rgba(0,0,0,0.1)"!==se.backgroundColor;var a;if(!i.forceOverride&&o)return;const h=function(t){let e=0;return(i,s)=>{const n=t.getDatasetMeta(s).controller;n instanceof Gi?e=function(t,e){return t.backgroundColor=t.data.map((()=>Vn(e++))),e}(i,e):n instanceof Yi?e=function(t,e){return t.backgroundColor=t.data.map((()=>Hn(e++))),e}(i,e):n&&(e=function(t,e){return t.borderColor=Vn(e),t.backgroundColor=Hn(e),++e}(i,e))}}(t);s.forEach(h)}};function jn(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Un(t){t.data.datasets.forEach((t=>{jn(t)}))}var $n={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled)return void Un(t);const s=t.width;t.data.datasets.forEach(((e,n)=>{const{_data:r,indexAxis:o}=e,a=t.getDatasetMeta(n),h=r||e.data;if("y"===Ce([o,t.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const l=t.scales[a.xAxisID];if("linear"!==l.type&&"time"!==l.type)return;if(t.options.parsing)return;let c,{start:u,count:d}=function(t,e){const i=e.length;let s,n=0;const{iScale:r}=t,{min:o,max:a,minDefined:h,maxDefined:l}=r.getUserBounds();return h&&(n=Mt(Pt(e,r.axis,o).lo,0,i-1)),s=l?Mt(Pt(e,r.axis,a).hi+1,n,i)-n:i-n,{start:n,count:s}}(a,h);if(d<=(i.threshold||4*s))jn(e);else{switch(L(r)&&(e._data=h,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),i.algorithm){case"lttb":c=function(t,e,i,s,n){const r=n.samples||s;if(r>=i)return t.slice(e,e+i);const o=[],a=(i-2)/(r-2);let h=0;const l=e+i-1;let c,u,d,p,f,g=e;for(o[h++]=t[g],c=0;c<r-2;c++){let s,n=0,r=0;const l=Math.floor((c+1)*a)+1+e,m=Math.min(Math.floor((c+2)*a)+1,i)+e,x=m-l;for(s=l;s<m;s++)n+=t[s].x,r+=t[s].y;n/=x,r/=x;const b=Math.floor(c*a)+1+e,y=Math.min(Math.floor((c+1)*a)+1,i)+e,{x:_,y:v}=t[g];for(d=p=-1,s=b;s<y;s++)p=.5*Math.abs((_-n)*(t[s].y-v)-(_-t[s].x)*(r-v)),p>d&&(d=p,u=t[s],f=s);o[h++]=u,g=f}return o[h++]=t[l],o}(h,u,d,s,i);break;case"min-max":c=function(t,e,i,s){let n,r,o,a,h,l,c,u,d,p,f=0,g=0;const m=[],x=e+i-1,b=t[e].x,y=t[x].x-b;for(n=e;n<e+i;++n){r=t[n],o=(r.x-b)/y*s,a=r.y;const e=0|o;if(e===h)a<d?(d=a,l=n):a>p&&(p=a,c=n),f=(g*f+r.x)/++g;else{const i=n-1;if(!L(l)&&!L(c)){const e=Math.min(l,c),s=Math.max(l,c);e!==u&&e!==i&&m.push({...t[e],x:f}),s!==u&&s!==i&&m.push({...t[s],x:f})}n>0&&i!==u&&m.push(t[i]),m.push(r),h=e,g=0,d=p=a,l=c=u=n}}return m}(h,u,d,s);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}e._decimated=c}}))},destroy(t){Un(t)}};function Gn(t,e,i,s){if(s)return;let n=e[t],r=i[t];return"angle"===t&&(n=At(n),r=At(r)),{property:t,start:n,end:r}}function Yn(t,e,i){for(;e>t;e--){const t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function Xn(t,e,i,s){return t&&e?s(t[i],e[i]):t?t[i]:e?e[i]:0}function qn(t,e){let i=[],s=!1;return D(t)?(s=!0,i=t):i=function(t,e){const{x:i=null,y:s=null}=t||{},n=e.points,r=[];return e.segments.forEach((({start:t,end:e})=>{e=Yn(t,e,n);const o=n[t],a=n[e];null!==s?(r.push({x:o.x,y:s}),r.push({x:a.x,y:s})):null!==i&&(r.push({x:i,y:o.y}),r.push({x:i,y:a.y}))})),r}(t,e),i.length?new Tn({points:i,options:{tension:0},_loop:s,_fullLoop:s}):null}function Kn(t){return t&&!1!==t.fill}function Zn(t,e,i){let s=t[e].fill;const n=[e];let r;if(!i)return s;for(;!1!==s&&-1===n.indexOf(s);){if(!z(s))return s;if(r=t[s],!r)return!1;if(r.visible)return s;n.push(s),s=r.fill}return!1}function Qn(t,e,i){const s=function(t){const e=t.options,i=e.fill;let s=H(i&&i.target,i);return void 0===s&&(s=!!e.backgroundColor),!1!==s&&null!==s&&(!0===s?"origin":s)}(t);if(B(s))return!isNaN(s.value)&&s;let n=parseFloat(s);return z(n)&&Math.floor(n)===n?function(t,e,i,s){return"-"!==t&&"+"!==t||(i=e+i),!(i===e||i<0||i>=s)&&i}(s[0],e,n,i):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function Jn(t,e,i){const s=[];for(let n=0;n<i.length;n++){const r=i[n],{first:o,last:a,point:h}=tr(r,e,"x");if(!(!h||o&&a))if(o)s.unshift(h);else if(t.push(h),!a)break}t.push(...s)}function tr(t,e,i){const s=t.interpolate(e,i);if(!s)return{};const n=s[i],r=t.segments,o=t.points;let a=!1,h=!1;for(let t=0;t<r.length;t++){const e=r[t],s=o[e.start][i],l=o[e.end][i];if(kt(n,s,l)){a=n===s,h=n===l;break}}return{first:a,last:h,point:s}}class er{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:n,radius:r}=this;return e=e||{start:0,end:nt},t.arc(s,n,r,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,n=t.angle;return{x:e+Math.cos(n)*s,y:i+Math.sin(n)*s,angle:n}}}function ir(t,e,i){const s=function(t){const{chart:e,fill:i,line:s}=t;if(z(i))return function(t,e){const i=t.getDatasetMeta(e);return i&&t.isDatasetVisible(e)?i.dataset:null}(e,i);if("stack"===i)return function(t){const{scale:e,index:i,line:s}=t,n=[],r=s.segments,o=s.points,a=function(t,e){const i=[],s=t.getMatchingVisibleMetas("line");for(let t=0;t<s.length;t++){const n=s[t];if(n.index===e)break;n.hidden||i.unshift(n.dataset)}return i}(e,i);a.push(qn({x:null,y:e.bottom},s));for(let t=0;t<r.length;t++){const e=r[t];for(let t=e.start;t<=e.end;t++)Jn(n,o[t],a)}return new Tn({points:n,options:{}})}(t);if("shape"===i)return!0;const n=function(t){return(t.scale||{}).getPointPositionForValue?function(t){const{scale:e,fill:i}=t,s=e.options,n=e.getLabels().length,r=s.reverse?e.max:e.min,o=function(t,e,i){let s;return s="start"===t?i:"end"===t?e.options.reverse?e.min:e.max:B(t)?t.value:e.getBaseValue(),s}(i,e,r),a=[];if(s.grid.circular){const t=e.getPointPositionForValue(0,r);return new er({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(o)})}for(let t=0;t<n;++t)a.push(e.getPointPositionForValue(t,o));return a}(t):function(t){const{scale:e={},fill:i}=t,s=function(t,e){let i=null;return"start"===t?i=e.bottom:"end"===t?i=e.top:B(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}(i,e);if(z(s)){const t=e.isHorizontal();return{x:t?s:null,y:t?null:s}}return null}(t)}(t);return n instanceof er?n:qn(n,s)}(e),{chart:n,index:r,line:o,scale:a,axis:h}=e,l=o.options,c=l.fill,u=l.backgroundColor,{above:d=u,below:p=u}=c||{},f=n.getDatasetMeta(r),g=yi(n,f);s&&o.points.length&&(ue(t,i),function(t,e){const{line:i,target:s,above:n,below:r,area:o,scale:a,clip:h}=e,l=i._loop?"angle":e.axis;t.save(),"x"===l&&r!==n&&(sr(t,s,o.top),nr(t,{line:i,target:s,color:n,scale:a,property:l,clip:h}),t.restore(),t.save(),sr(t,s,o.bottom)),nr(t,{line:i,target:s,color:r,scale:a,property:l,clip:h}),t.restore()}(t,{line:o,target:s,above:d,below:p,area:i,scale:a,axis:h,clip:g}),de(t))}function sr(t,e,i){const{segments:s,points:n}=e;let r=!0,o=!1;t.beginPath();for(const a of s){const{start:s,end:h}=a,l=n[s],c=n[Yn(s,h,n)];r?(t.moveTo(l.x,l.y),r=!1):(t.lineTo(l.x,i),t.lineTo(l.x,l.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(c.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function nr(t,e){const{line:i,target:s,property:n,color:r,scale:o,clip:a}=e,h=function(t,e,i){const s=t.segments,n=t.points,r=e.points,o=[];for(const t of s){let{start:s,end:a}=t;a=Yn(s,a,n);const h=Gn(i,n[s],n[a],t.loop);if(!e.segments){o.push({source:t,target:h,start:n[s],end:n[a]});continue}const l=gi(e,h);for(const e of l){const s=Gn(i,r[e.start],r[e.end],e.loop),a=fi(t,n,s);for(const t of a)o.push({source:t,target:e,start:{[i]:Xn(h,s,"start",Math.max)},end:{[i]:Xn(h,s,"end",Math.min)}})}}return o}(i,s,n);for(const{source:e,target:l,start:c,end:u}of h){const{style:{backgroundColor:h=r}={}}=e,d=!0!==s;t.save(),t.fillStyle=h,rr(t,o,a,d&&Gn(n,c,u)),t.beginPath();const p=!!i.pathSegment(t,e);let f;if(d){p?t.closePath():or(t,s,u,n);const e=!!s.pathSegment(t,l,{move:p,reverse:!0});f=p&&e,f||or(t,s,c,n)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function rr(t,e,i,s){const n=e.chart.chartArea,{property:r,start:o,end:a}=s||{};if("x"===r||"y"===r){let e,s,h,l;"x"===r?(e=o,s=n.top,h=a,l=n.bottom):(e=n.left,s=o,h=n.right,l=a),t.beginPath(),i&&(e=Math.max(e,i.left),h=Math.min(h,i.right),s=Math.max(s,i.top),l=Math.min(l,i.bottom)),t.rect(e,s,h-e,l-s),t.clip()}}function or(t,e,i,s){const n=e.interpolate(i,s);n&&t.lineTo(n.x,n.y)}var ar={id:"filler",afterDatasetsUpdate(t,e,i){const s=(t.data.datasets||[]).length,n=[];let r,o,a,h;for(o=0;o<s;++o)r=t.getDatasetMeta(o),a=r.dataset,h=null,a&&a.options&&a instanceof Tn&&(h={visible:t.isDatasetVisible(o),index:o,fill:Qn(a,o,s),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=h,n.push(h);for(o=0;o<s;++o)h=n[o],h&&!1!==h.fill&&(h.fill=Zn(n,o,i.propagate))},beforeDraw(t,e,i){const s="beforeDraw"===i.drawTime,n=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let e=n.length-1;e>=0;--e){const i=n[e].$filler;i&&(i.line.updateControlPoints(r,i.axis),s&&i.fill&&ir(t.ctx,i,r))}},beforeDatasetsDraw(t,e,i){if("beforeDatasetsDraw"!==i.drawTime)return;const s=t.getSortedVisibleDatasetMetas();for(let e=s.length-1;e>=0;--e){const i=s[e].$filler;Kn(i)&&ir(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,i){const s=e.meta.$filler;Kn(s)&&"beforeDatasetDraw"===i.drawTime&&ir(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const hr=(t,e)=>{let{boxHeight:i=e,boxWidth:s=e}=t;return t.usePointStyle&&(i=Math.min(i,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(e,i)}};class lr extends Rs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=W(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,i)=>t.sort(e,i,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,s=ke(i.font),n=s.size,r=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=hr(i,n);let h,l;e.font=s.string,this.isHorizontal()?(h=this.maxWidth,l=this._fitRows(r,n,o,a)+10):(l=this.maxHeight,h=this._fitCols(r,s,o,a)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(l,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:n,maxWidth:r,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],h=this.lineWidths=[0],l=s+o;let c=t;n.textAlign="left",n.textBaseline="middle";let u=-1,d=-l;return this.legendItems.forEach(((t,p)=>{const f=i+e/2+n.measureText(t.text).width;(0===p||h[h.length-1]+f+2*o>r)&&(c+=l,h[h.length-(p>0?0:1)]=0,d+=l,u++),a[p]={left:0,top:d,row:u,width:f,height:s},h[h.length-1]+=f+o})),c}_fitCols(t,e,i,s){const{ctx:n,maxHeight:r,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],h=this.columnSizes=[],l=r-t;let c=o,u=0,d=0,p=0,f=0;return this.legendItems.forEach(((t,r)=>{const{itemWidth:g,itemHeight:m}=function(t,e,i,s,n){const r=function(t,e,i,s){let n=t.text;return n&&"string"!=typeof n&&(n=n.reduce(((t,e)=>t.length>e.length?t:e))),e+i.size/2+s.measureText(n).width}(s,t,e,i),o=function(t,e,i){let s=t;return"string"!=typeof e.text&&(s=cr(e,i)),s}(n,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}(i,e,n,t,s);r>0&&d+m+2*o>l&&(c+=u+o,h.push({width:u,height:d}),p+=u+o,f++,u=d=0),a[r]={left:p,top:d,col:f,width:g,height:m},u=Math.max(u,g),d+=m+o})),c+=u,h.push({width:u,height:d}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:n}}=this,r=li(n,this.left,this.width);if(this.isHorizontal()){let n=0,o=Dt(i,this.left+s,this.right-this.lineWidths[n]);for(const a of e)n!==a.row&&(n=a.row,o=Dt(i,this.left+s,this.right-this.lineWidths[n])),a.top+=this.top+t+s,a.left=r.leftForLtr(r.x(o),a.width),o+=a.width+s}else{let n=0,o=Dt(i,this.top+t+s,this.bottom-this.columnSizes[n].height);for(const a of e)a.col!==n&&(n=a.col,o=Dt(i,this.top+t+s,this.bottom-this.columnSizes[n].height)),a.top=o,a.left+=this.left+s,a.left=r.leftForLtr(r.x(a.left),a.width),o+=a.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;ue(t,this),this._draw(),de(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:n,labels:r}=t,o=se.color,a=li(t.rtl,this.left,this.width),h=ke(r.font),{padding:l}=r,c=h.size,u=c/2;let d;this.drawTitle(),s.textAlign=a.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:p,boxHeight:f,itemHeight:g}=hr(r,c),m=this.isHorizontal(),x=this._computeTitleHeight();d=m?{x:Dt(n,this.left+l,this.right-i[0]),y:this.top+l+x,line:0}:{x:this.left+l,y:Dt(n,this.top+x+l,this.bottom-e[0].height),line:0},ci(this.ctx,t.textDirection);const b=g+l;this.legendItems.forEach(((y,_)=>{s.strokeStyle=y.fontColor,s.fillStyle=y.fontColor;const v=s.measureText(y.text).width,w=a.textAlign(y.textAlign||(y.textAlign=r.textAlign)),A=p+u+v;let S=d.x,M=d.y;if(a.setWidth(this.width),m?_>0&&S+A+l>this.right&&(M=d.y+=b,d.line++,S=d.x=Dt(n,this.left+l,this.right-i[d.line])):_>0&&M+b>this.bottom&&(S=d.x=S+e[d.line].width+l,d.line++,M=d.y=Dt(n,this.top+x+l,this.bottom-e[d.line].height)),function(t,e,i){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;s.save();const n=H(i.lineWidth,1);if(s.fillStyle=H(i.fillStyle,o),s.lineCap=H(i.lineCap,"butt"),s.lineDashOffset=H(i.lineDashOffset,0),s.lineJoin=H(i.lineJoin,"miter"),s.lineWidth=n,s.strokeStyle=H(i.strokeStyle,o),s.setLineDash(H(i.lineDash,[])),r.usePointStyle){const o={radius:f*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:n},h=a.xPlus(t,p/2);le(s,o,h,e+u,r.pointStyleWidth&&p)}else{const r=e+Math.max((c-f)/2,0),o=a.leftForLtr(t,p),h=Se(i.borderRadius);s.beginPath(),Object.values(h).some((t=>0!==t))?be(s,{x:o,y:r,w:p,h:f,radius:h}):s.rect(o,r,p,f),s.fill(),0!==n&&s.stroke()}s.restore()}(a.x(S),M,y),S=((t,e,i,s)=>t===(s?"left":"right")?i:"center"===t?(e+i)/2:e)(w,S+p+u,m?S+A:this.right,t.rtl),function(t,e,i){xe(s,i.text,t,e+g/2,h,{strikethrough:i.hidden,textAlign:a.textAlign(i.textAlign)})}(a.x(S),M,y),m)d.x+=A+l;else if("string"!=typeof y.text){const t=h.lineHeight;d.y+=cr(y,t)+l}else d.y+=b})),ui(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=ke(e.font),s=Me(e.padding);if(!e.display)return;const n=li(t.rtl,this.left,this.width),r=this.ctx,o=e.position,a=i.size/2,h=s.top+a;let l,c=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),l=this.top+h,c=Dt(t.align,c,this.right-u);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);l=h+Dt(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=Dt(o,c,c+u);r.textAlign=n.textAlign(Lt(o)),r.textBaseline="middle",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=i.string,xe(r,e.text,d,l,i)}_computeTitleHeight(){const t=this.options.title,e=ke(t.font),i=Me(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,n;if(kt(t,this.left,this.right)&&kt(e,this.top,this.bottom))for(n=this.legendHitBoxes,i=0;i<n.length;++i)if(s=n[i],kt(t,s.left,s.left+s.width)&&kt(e,s.top,s.top+s.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function(t,e){return!("mousemove"!==t&&"mouseout"!==t||!e.onHover&&!e.onLeave)||!(!e.onClick||"click"!==t&&"mouseup"!==t)}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,o=(n=i,null!==(s=r)&&null!==n&&s.datasetIndex===n.datasetIndex&&s.index===n.index);r&&!o&&W(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&W(e.onHover,[t,i,this],this)}else i&&W(e.onClick,[t,i,this],this);var s,n}}function cr(t,e){return e*(t.text?t.text.length:0)}var ur={id:"legend",_element:lr,start(t,e,i){const s=t.legend=new lr({ctx:t.ctx,options:i,chart:t});gs.configure(t,s,i),gs.addBox(t,s)},stop(t){gs.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const s=t.legend;gs.configure(t,s,i),s.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const s=e.datasetIndex,n=i.chart;n.isDatasetVisible(s)?(n.hide(s),e.hidden=!0):(n.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:s,textAlign:n,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const h=t.controller.getStyle(i?0:void 0),l=Me(h.borderWidth);return{text:e[t.index].label,fillStyle:h.backgroundColor,fontColor:r,hidden:!t.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:h.borderColor,pointStyle:s||h.pointStyle,rotation:h.rotation,textAlign:n||h.textAlign,borderRadius:o&&(a||h.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class dr extends Rs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const s=D(i.text)?i.text.length:1;this._padding=Me(i.padding);const n=s*ke(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=n:this.width=n}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:s,right:n,options:r}=this,o=r.align;let a,h,l,c=0;return this.isHorizontal()?(h=Dt(o,i,n),l=e+t,a=n-i):("left"===r.position?(h=i+t,l=Dt(o,s,e),c=-.5*st):(h=n-t,l=Dt(o,e,s),c=.5*st),a=s-e),{titleX:h,titleY:l,maxWidth:a,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=ke(e.font),s=i.lineHeight/2+this._padding.top,{titleX:n,titleY:r,maxWidth:o,rotation:a}=this._drawArgs(s);xe(t,e.text,0,0,i,{color:e.color,maxWidth:o,rotation:a,textAlign:Lt(e.align),textBaseline:"middle",translation:[n,r]})}}var pr={id:"title",_element:dr,start(t,e,i){!function(t,e){const i=new dr({ctx:t.ctx,options:e,chart:t});gs.configure(t,i,e),gs.addBox(t,i),t.titleBlock=i}(t,i)},stop(t){const e=t.titleBlock;gs.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const s=t.titleBlock;gs.configure(t,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fr=new WeakMap;var gr={id:"subtitle",start(t,e,i){const s=new dr({ctx:t.ctx,options:i,chart:t});gs.configure(t,s,i),gs.addBox(t,s),fr.set(t,s)},stop(t){gs.removeBox(t,fr.get(t)),fr.delete(t)},beforeUpdate(t,e,i){const s=fr.get(t);gs.configure(t,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const mr={average(t){if(!t.length)return!1;let e,i,s=new Set,n=0,r=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();s.add(t.x),n+=t.y,++r}}return 0!==r&&0!==s.size&&{x:[...s].reduce(((t,e)=>t+e))/s.size,y:n/r}},nearest(t,e){if(!t.length)return!1;let i,s,n,r=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(i=0,s=t.length;i<s;++i){const s=t[i].element;if(s&&s.hasValue()){const t=vt(e,s.getCenterPoint());t<a&&(a=t,n=s)}}if(n){const t=n.tooltipPosition();r=t.x,o=t.y}return{x:r,y:o}}};function xr(t,e){return e&&(D(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function br(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function yr(t,e){const{element:i,datasetIndex:s,index:n}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(n);return{chart:t,label:o,parsed:r.getParsed(n),raw:t.data.datasets[s].data[n],formattedValue:a,dataset:r.getDataset(),dataIndex:n,datasetIndex:s,element:i}}function _r(t,e){const i=t.chart.ctx,{body:s,footer:n,title:r}=t,{boxWidth:o,boxHeight:a}=e,h=ke(e.bodyFont),l=ke(e.titleFont),c=ke(e.footerFont),u=r.length,d=n.length,p=s.length,f=Me(e.padding);let g=f.height,m=0,x=s.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);x+=t.beforeBody.length+t.afterBody.length,u&&(g+=u*l.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),x&&(g+=p*(e.displayColors?Math.max(a,h.lineHeight):h.lineHeight)+(x-p)*h.lineHeight+(x-1)*e.bodySpacing),d&&(g+=e.footerMarginTop+d*c.lineHeight+(d-1)*e.footerSpacing);let b=0;const y=function(t){m=Math.max(m,i.measureText(t).width+b)};return i.save(),i.font=l.string,j(t.title,y),i.font=h.string,j(t.beforeBody.concat(t.afterBody),y),b=e.displayColors?o+2+e.boxPadding:0,j(s,(t=>{j(t.before,y),j(t.lines,y),j(t.after,y)})),b=0,i.font=c.string,j(t.footer,y),i.restore(),m+=f.width,{width:m,height:g}}function vr(t,e,i,s){const{x:n,width:r}=i,{width:o,chartArea:{left:a,right:h}}=t;let l="center";return"center"===s?l=n<=(a+h)/2?"left":"right":n<=r/2?l="left":n>=o-r/2&&(l="right"),function(t,e,i,s){const{x:n,width:r}=s,o=i.caretSize+i.caretPadding;return"left"===t&&n+r+o>e.width||"right"===t&&n-r-o<0||void 0}(l,t,e,i)&&(l="center"),l}function wr(t,e,i){const s=i.yAlign||e.yAlign||function(t,e){const{y:i,height:s}=e;return i<s/2?"top":i>t.height-s/2?"bottom":"center"}(t,i);return{xAlign:i.xAlign||e.xAlign||vr(t,e,i,s),yAlign:s}}function Ar(t,e,i,s){const{caretSize:n,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:h}=i,l=n+r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:p}=Se(o);let f=function(t,e){let{x:i,width:s}=t;return"right"===e?i-=s:"center"===e&&(i-=s/2),i}(e,a);const g=function(t,e,i){let{y:s,height:n}=t;return"top"===e?s+=i:s-="bottom"===e?n+i:n/2,s}(e,h,l);return"center"===h?"left"===a?f+=l:"right"===a&&(f-=l):"left"===a?f-=Math.max(c,d)+n:"right"===a&&(f+=Math.max(u,p)+n),{x:Mt(f,0,s.width-e.width),y:Mt(g,0,s.height-e.height)}}function Sr(t,e,i){const s=Me(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-s.right:t.x+s.left}function Mr(t){return xr([],br(t))}function kr(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const Cr={beforeTitle:R,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,s=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return i[e.dataIndex]}return""},afterTitle:R,beforeBody:R,beforeLabel:R,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const i=t.formattedValue;return L(i)||(e+=i),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:R,afterBody:R,beforeFooter:R,footer:R,afterFooter:R};function Pr(t,e,i,s){const n=t[e].call(i,s);return void 0===n?Cr[e].call(i,s):n}class Tr extends Rs{static positioners=mr;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,n=new Mi(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=Pe(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(t,e){const{callbacks:i}=e,s=Pr(i,"beforeTitle",this,t),n=Pr(i,"title",this,t),r=Pr(i,"afterTitle",this,t);let o=[];return o=xr(o,br(s)),o=xr(o,br(n)),o=xr(o,br(r)),o}getBeforeBody(t,e){return Mr(Pr(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return j(t,(t=>{const e={before:[],lines:[],after:[]},n=kr(i,t);xr(e.before,br(Pr(n,"beforeLabel",this,t))),xr(e.lines,Pr(n,"label",this,t)),xr(e.after,br(Pr(n,"afterLabel",this,t))),s.push(e)})),s}getAfterBody(t,e){return Mr(Pr(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=Pr(i,"beforeFooter",this,t),n=Pr(i,"footer",this,t),r=Pr(i,"afterFooter",this,t);let o=[];return o=xr(o,br(s)),o=xr(o,br(n)),o=xr(o,br(r)),o}_createItems(t){const e=this._active,i=this.chart.data,s=[],n=[],r=[];let o,a,h=[];for(o=0,a=e.length;o<a;++o)h.push(yr(this.chart,e[o]));return t.filter&&(h=h.filter(((e,s,n)=>t.filter(e,s,n,i)))),t.itemSort&&(h=h.sort(((e,s)=>t.itemSort(e,s,i)))),j(h,(e=>{const i=kr(t.callbacks,e);s.push(Pr(i,"labelColor",this,e)),n.push(Pr(i,"labelPointStyle",this,e)),r.push(Pr(i,"labelTextColor",this,e))})),this.labelColors=s,this.labelPointStyles=n,this.labelTextColors=r,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let n,r=[];if(s.length){const t=mr[i.position].call(this,s,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const e=this._size=_r(this,i),o=Object.assign({},t,e),a=wr(this.chart,i,o),h=Ar(i,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,n={opacity:1,x:h.x,y:h.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=r,this.$context=void 0,n&&this._resolveAnimations().update(this,n),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const n=this.getCaretPosition(t,i,s);e.lineTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.lineTo(n.x3,n.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:n}=this,{caretSize:r,cornerRadius:o}=i,{topLeft:a,topRight:h,bottomLeft:l,bottomRight:c}=Se(o),{x:u,y:d}=t,{width:p,height:f}=e;let g,m,x,b,y,_;return"center"===n?(y=d+f/2,"left"===s?(g=u,m=g-r,b=y+r,_=y-r):(g=u+p,m=g+r,b=y-r,_=y+r),x=g):(m="left"===s?u+Math.max(a,l)+r:"right"===s?u+p-Math.max(h,c)-r:this.caretX,"top"===n?(b=d,y=b-r,g=m-r,x=m+r):(b=d+f,y=b+r,g=m+r,x=m-r),_=b),{x1:g,x2:m,x3:x,y1:b,y2:y,y3:_}}drawTitle(t,e,i){const s=this.title,n=s.length;let r,o,a;if(n){const h=li(i.rtl,this.x,this.width);for(t.x=Sr(this,i.titleAlign,i),e.textAlign=h.textAlign(i.titleAlign),e.textBaseline="middle",r=ke(i.titleFont),o=i.titleSpacing,e.fillStyle=i.titleColor,e.font=r.string,a=0;a<n;++a)e.fillText(s[a],h.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+o,a+1===n&&(t.y+=i.titleMarginBottom-o)}}_drawColorBox(t,e,i,s,n){const r=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:a,boxWidth:h}=n,l=ke(n.bodyFont),c=Sr(this,"left",n),u=s.x(c),d=a<l.lineHeight?(l.lineHeight-a)/2:0,p=e.y+d;if(n.usePointStyle){const e={radius:Math.min(h,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},i=s.leftForLtr(u,h)+h/2,l=p+a/2;t.strokeStyle=n.multiKeyBackground,t.fillStyle=n.multiKeyBackground,he(t,e,i,l),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,he(t,e,i,l)}else{t.lineWidth=B(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const e=s.leftForLtr(u,h),i=s.leftForLtr(s.xPlus(u,1),h-2),o=Se(r.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=n.multiKeyBackground,be(t,{x:e,y:p,w:h,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),be(t,{x:i,y:p+1,w:h-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=n.multiKeyBackground,t.fillRect(e,p,h,a),t.strokeRect(e,p,h,a),t.fillStyle=r.backgroundColor,t.fillRect(i,p+1,h-2,a-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:n,bodyAlign:r,displayColors:o,boxHeight:a,boxWidth:h,boxPadding:l}=i,c=ke(i.bodyFont);let u=c.lineHeight,d=0;const p=li(i.rtl,this.x,this.width),f=function(i){e.fillText(i,p.x(t.x+d),t.y+u/2),t.y+=u+n},g=p.textAlign(r);let m,x,b,y,_,v,w;for(e.textAlign=r,e.textBaseline="middle",e.font=c.string,t.x=Sr(this,g,i),e.fillStyle=i.bodyColor,j(this.beforeBody,f),d=o&&"right"!==g?"center"===r?h/2+l:h+2+l:0,y=0,v=s.length;y<v;++y){for(m=s[y],x=this.labelTextColors[y],e.fillStyle=x,j(m.before,f),b=m.lines,o&&b.length&&(this._drawColorBox(e,t,y,p,i),u=Math.max(c.lineHeight,a)),_=0,w=b.length;_<w;++_)f(b[_]),u=c.lineHeight;j(m.after,f)}d=0,u=c.lineHeight,j(this.afterBody,f),t.y-=n}drawFooter(t,e,i){const s=this.footer,n=s.length;let r,o;if(n){const a=li(i.rtl,this.x,this.width);for(t.x=Sr(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=a.textAlign(i.footerAlign),e.textBaseline="middle",r=ke(i.footerFont),e.fillStyle=i.footerColor,e.font=r.string,o=0;o<n;++o)e.fillText(s[o],a.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:n,yAlign:r}=this,{x:o,y:a}=t,{width:h,height:l}=i,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:p}=Se(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(o+c,a),"top"===r&&this.drawCaret(t,e,i,s),e.lineTo(o+h-u,a),e.quadraticCurveTo(o+h,a,o+h,a+u),"center"===r&&"right"===n&&this.drawCaret(t,e,i,s),e.lineTo(o+h,a+l-p),e.quadraticCurveTo(o+h,a+l,o+h-p,a+l),"bottom"===r&&this.drawCaret(t,e,i,s),e.lineTo(o+d,a+l),e.quadraticCurveTo(o,a+l,o,a+l-d),"center"===r&&"left"===n&&this.drawCaret(t,e,i,s),e.lineTo(o,a+c),e.quadraticCurveTo(o,a,o+c,a),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,n=i&&i.y;if(s||n){const i=mr[t.position].call(this,this._active,this._eventPosition);if(!i)return;const r=this._size=_r(this,t),o=Object.assign({},i,this._size),a=wr(e,t,o),h=Ar(t,o,a,e);s._to===h.x&&n._to===h.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=r.width,this.height=r.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},n={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=Me(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=i,this.drawBackground(n,t,s,e),ci(t,e.textDirection),n.y+=r.top,this.drawTitle(n,t,e),this.drawBody(n,t,e),this.drawFooter(n,t,e),ui(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map((({datasetIndex:t,index:e})=>{const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[e],index:e}})),n=!U(i,s),r=this._positionChanged(s,e);(n||r)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,n=this._active||[],r=this._getActiveElements(t,n,e,i),o=this._positionChanged(r,t),a=e||!U(r,n)||o;return a&&(this._active=r,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,i,s){const n=this.options;if("mouseout"===t.type)return[];if(!s)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const r=this.chart.getElementsAtEventForMode(t,n.mode,n,i);return n.reverse&&r.reverse(),r}_positionChanged(t,e){const{caretX:i,caretY:s,options:n}=this,r=mr[n.position].call(this,t,e);return!1!==r&&(i!==r.x||s!==r.y)}}var Or={id:"tooltip",_element:Tr,positioners:mr,afterInit(t,e,i){i&&(t.tooltip=new Tr({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Cr},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Er=Object.freeze({__proto__:null,Colors:Wn,Decimation:$n,Filler:ar,Legend:ur,SubTitle:gr,Title:pr,Tooltip:Or});function Ir(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}function Rr(t,e,{horizontal:i,minRotation:s}){const n=xt(s),r=(i?Math.sin(n):Math.cos(n))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class Fr extends Ws{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return L(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:n}=this;const r=t=>s=e?s:t,o=t=>n=i?n:t;if(t){const t=dt(s),e=dt(n);t<0&&e<0?o(0):t>0&&e>0&&r(0)}if(s===n){let e=0===n?1:Math.abs(.05*n);o(n+e),t||r(s-e)}this.min=s,this.max=n}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:i,stepSize:s}=t;return s?(e=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s=function(t,e){const i=[],{bounds:s,step:n,min:r,max:o,precision:a,count:h,maxTicks:l,maxDigits:c,includeBounds:u}=t,d=n||1,p=l-1,{min:f,max:g}=e,m=!L(r),x=!L(o),b=!L(h),y=(g-f)/(c+1);let _,v,w,A,S=ft((g-f)/p/d)*d;if(S<1e-14&&!m&&!x)return[{value:f},{value:g}];A=Math.ceil(g/S)-Math.floor(f/S),A>p&&(S=ft(A*S/p/d)*d),L(a)||(_=Math.pow(10,a),S=Math.ceil(S*_)/_),"ticks"===s?(v=Math.floor(f/S)*S,w=Math.ceil(g/S)*S):(v=f,w=g),m&&x&&n&&function(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}((o-r)/n,S/1e3)?(A=Math.round(Math.min((o-r)/S,l)),S=(o-r)/A,v=r,w=o):b?(v=m?r:v,w=x?o:w,A=h-1,S=(w-v)/A):(A=(w-v)/S,A=pt(A,Math.round(A),S/1e3)?Math.round(A):Math.ceil(A));const M=Math.max(yt(S),yt(v));_=Math.pow(10,L(a)?M:a),v=Math.round(v*_)/_,w=Math.round(w*_)/_;let k=0;for(m&&(u&&v!==r?(i.push({value:r}),v<r&&k++,pt(Math.round((v+k*S)*_)/_,r,Rr(r,y,t))&&k++):v<r&&k++);k<A;++k){const t=Math.round((v+k*S)*_)/_;if(x&&t>o)break;i.push({value:t})}return x&&u&&w!==o?i.length&&pt(i[i.length-1].value,o,Rr(o,y,t))?i[i.length-1].value=o:i.push({value:o}):x&&w!==o||i.push({value:w}),i}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&mt(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return qt(t,this.chart.options.locale,this.options.ticks.format)}}class Lr extends Fr{static id="linear";static defaults={ticks:{callback:Zt.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=z(t)?t:0,this.max=z(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=xt(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,n.lineHeight/s))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Dr=t=>Math.floor(ut(t)),Br=(t,e)=>Math.pow(10,Dr(t)+e);function zr(t){return 1==t/Math.pow(10,Dr(t))}function Vr(t,e,i){const s=Math.pow(10,i),n=Math.floor(t/s);return Math.ceil(e/s)-n}class Hr extends Ws{static id="logarithmic";static defaults={ticks:{callback:Zt.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Fr.prototype.parse.apply(this,[t,e]);if(0!==i)return z(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=z(t)?Math.max(0,t):null,this.max=z(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!z(this._userMin)&&(this.min=t===Br(this.min,0)?Br(this.min,-1):Br(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const n=e=>i=t?i:e,r=t=>s=e?s:t;i===s&&(i<=0?(n(1),r(10)):(n(Br(i,-1)),r(Br(s,1)))),i<=0&&n(Br(s,-1)),s<=0&&r(Br(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e=function(t,{min:e,max:i}){e=V(t.min,e);const s=[],n=Dr(e);let r=function(t,e){let i=Dr(e-t);for(;Vr(t,e,i)>10;)i++;for(;Vr(t,e,i)<10;)i--;return Math.min(i,Dr(t))}(e,i),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),h=n>r?Math.pow(10,n):0,l=Math.round((e-h)*o)/o,c=Math.floor((e-h)/a/10)*a*10;let u=Math.floor((l-c)/Math.pow(10,r)),d=V(t.min,Math.round((h+c+u*Math.pow(10,r))*o)/o);for(;d<i;)s.push({value:d,major:zr(d),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(r++,u=2,o=r>=0?1:o),d=Math.round((h+c+u*Math.pow(10,r))*o)/o;const p=V(t.max,d);return s.push({value:p,major:zr(p),significand:u}),s}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&mt(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":qt(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ut(t),this._valueRange=ut(this.max)-ut(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ut(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Nr(t){const e=t.ticks;if(e.display&&t.display){const t=Me(e.backdropPadding);return H(e.font&&e.font.size,se.font.size)+t.height}return 0}function Wr(t,e,i,s,n){return t===s||t===n?{start:e-i/2,end:e+i/2}:t<s||t>n?{start:e-i,end:e}:{start:e,end:e+i}}function jr(t,e,i,s,n){const r=Math.abs(Math.sin(i)),o=Math.abs(Math.cos(i));let a=0,h=0;s.start<e.l?(a=(e.l-s.start)/r,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),n.start<e.t?(h=(e.t-n.start)/o,t.t=Math.min(t.t,e.t-h)):n.end>e.b&&(h=(n.end-e.b)/o,t.b=Math.max(t.b,e.b+h))}function Ur(t,e,i){const s=t.drawingArea,{extra:n,additionalAngle:r,padding:o,size:a}=i,h=t.getPointPosition(e,s+n+o,r),l=Math.round(bt(At(h.angle+ht))),c=function(t,e,i){return 90===i||270===i?t-=e/2:(i>270||i<90)&&(t-=e),t}(h.y,a.h,l),u=function(t){return 0===t||180===t?"center":t<180?"left":"right"}(l),d=(p=h.x,f=a.w,"right"===(g=u)?p-=f:"center"===g&&(p-=f/2),p);var p,f,g;return{visible:!0,x:h.x,y:c,textAlign:u,left:d,top:c,right:d+a.w,bottom:c+a.h}}function $r(t,e){if(!e)return!0;const{left:i,top:s,right:n,bottom:r}=t;return!(ce({x:i,y:s},e)||ce({x:i,y:r},e)||ce({x:n,y:s},e)||ce({x:n,y:r},e))}function Gr(t,e,i){const{left:s,top:n,right:r,bottom:o}=i,{backdropColor:a}=e;if(!L(a)){const i=Se(e.borderRadius),h=Me(e.backdropPadding);t.fillStyle=a;const l=s-h.left,c=n-h.top,u=r-s+h.width,d=o-n+h.height;Object.values(i).some((t=>0!==t))?(t.beginPath(),be(t,{x:l,y:c,w:u,h:d,radius:i}),t.fill()):t.fillRect(l,c,u,d)}}function Yr(t,e,i,s){const{ctx:n}=t;if(i)n.arc(t.xCenter,t.yCenter,e,0,nt);else{let i=t.getPointPosition(0,e);n.moveTo(i.x,i.y);for(let r=1;r<s;r++)i=t.getPointPosition(r,e),n.lineTo(i.x,i.y)}}class Xr extends Fr{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Zt.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Me(Nr(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=z(t)&&!isNaN(t)?t:0,this.max=z(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Nr(this.options))}generateTickLabels(t){Fr.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const i=W(this.options.pointLabels.callback,[t,e],this);return i||0===i?i:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?function(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),s=[],n=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?st/r:0;for(let u=0;u<r;u++){const r=o.setContext(t.getPointLabelContext(u));n[u]=r.padding;const d=t.getPointPosition(u,t.drawingArea+n[u],a),p=ke(r.font),f=(h=t.ctx,l=p,c=D(c=t._pointLabels[u])?c:[c],{w:re(h,l.string,c),h:c.length*l.lineHeight});s[u]=f;const g=At(t.getIndexAngle(u)+a),m=Math.round(bt(g));jr(i,e,g,Wr(m,d.x,f.w,0,180),Wr(m,d.y,f.h,90,270))}var h,l,c;t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=function(t,e,i){const s=[],n=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,h={extra:Nr(r)/2,additionalAngle:o?st/n:0};let l;for(let r=0;r<n;r++){h.padding=i[r],h.size=e[r];const n=Ur(t,r,h);s.push(n),"auto"===a&&(n.visible=$r(n,l),n.visible&&(l=n))}return s}(t,s,n)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){return At(t*(nt/(this._pointLabels.length||1))+xt(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(L(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(L(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function(t,e,i){return Pe(t,{label:i,index:e,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-ht+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:n}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:n}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),Yr(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s,border:n}=e,r=this._pointLabels.length;let o,a,h;if(e.pointLabels.display&&function(t,e){const{ctx:i,options:{pointLabels:s}}=t;for(let n=e-1;n>=0;n--){const e=t._pointLabelItems[n];if(!e.visible)continue;const r=s.setContext(t.getPointLabelContext(n));Gr(i,r,e);const o=ke(r.font),{x:a,y:h,textAlign:l}=e;xe(i,t._pointLabels[n],a,h+o.lineHeight/2,o,{color:r.color,textAlign:l,textBaseline:"middle"})}}(this,r),s.display&&this.ticks.forEach(((t,e)=>{if(0!==e||0===e&&this.min<0){a=this.getDistanceFromCenterForValue(t.value);const i=this.getContext(e),o=s.setContext(i),h=n.setContext(i);!function(t,e,i,s,n){const r=t.ctx,o=e.circular,{color:a,lineWidth:h}=e;!o&&!s||!a||!h||i<0||(r.save(),r.strokeStyle=a,r.lineWidth=h,r.setLineDash(n.dash||[]),r.lineDashOffset=n.dashOffset,r.beginPath(),Yr(t,i,o,s),r.closePath(),r.stroke(),r.restore())}(this,o,a,r,h)}})),i.display){for(t.save(),o=r-1;o>=0;o--){const s=i.setContext(this.getPointLabelContext(o)),{color:n,lineWidth:r}=s;r&&n&&(t.lineWidth=r,t.strokeStyle=n,t.setLineDash(s.borderDash),t.lineDashOffset=s.borderDashOffset,a=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),h=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(h.x,h.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let n,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((s,o)=>{if(0===o&&this.min>=0&&!e.reverse)return;const a=i.setContext(this.getContext(o)),h=ke(a.font);if(n=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=h.string,r=t.measureText(s.label).width,t.fillStyle=a.backdropColor;const e=Me(a.backdropPadding);t.fillRect(-r/2-e.left,-n-h.size/2-e.top,r+e.width,h.size+e.height)}xe(t,s.label,0,-n,h,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),t.restore()}drawTitle(){}}const qr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kr=Object.keys(qr);function Zr(t,e){return t-e}function Qr(t,e){if(L(e))return null;const i=t._adapter,{parser:s,round:n,isoWeekday:r}=t._parseOpts;let o=e;return"function"==typeof s&&(o=s(o)),z(o)||(o="string"==typeof s?i.parse(o,s):i.parse(o)),null===o?null:(n&&(o="week"!==n||!gt(r)&&!0!==r?i.startOf(o,n):i.startOf(o,"isoWeek",r)),+o)}function Jr(t,e,i,s){const n=Kr.length;for(let r=Kr.indexOf(t);r<n-1;++r){const t=qr[Kr[r]],n=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((i-e)/(n*t.size))<=s)return Kr[r]}return Kr[n-1]}function to(t,e,i){if(i){if(i.length){const{lo:s,hi:n}=Ct(i,e);t[i[s]>=e?i[s]:i[n]]=!0}}else t[e]=!0}function eo(t,e,i){const s=[],n={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],n[a]=o,s.push({value:a,major:!1});return 0!==r&&i?function(t,e,i,s){const n=t._adapter,r=+n.startOf(e[0].value,s),o=e[e.length-1].value;let a,h;for(a=r;a<=o;a=+n.add(a,1,s))h=i[a],h>=0&&(e[h].major=!0);return e}(t,s,n,i):s}class io extends Ws{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new Zi(t.adapters.date);s.init(e),q(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:Qr(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:n,minDefined:r,maxDefined:o}=this.getUserBounds();function a(t){r||isNaN(t.min)||(s=Math.min(s,t.min)),o||isNaN(t.max)||(n=Math.max(n,t.max))}r&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),s=z(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),n=z(n)&&!isNaN(n)?n:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,n-1),this.max=Math.max(s+1,n)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const n=this.min,r=function(t,e,i){let s=0,n=t.length;for(;s<n&&t[s]<e;)s++;for(;n>s&&t[n-1]>i;)n--;return s>0||n<t.length?t.slice(s,n):t}(s,n,this.max);return this._unit=e.unit||(i.autoSkip?Jr(e.minUnit,this.min,this.max,this._getLabelCapacity(n)):function(t,e,i,s,n){for(let r=Kr.length-1;r>=Kr.indexOf(i);r--){const i=Kr[r];if(qr[i].common&&t._adapter.diff(n,s,i)>=e-1)return i}return Kr[i?Kr.indexOf(i):0]}(this,r.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(t){for(let e=Kr.indexOf(t)+1,i=Kr.length;e<i;++e)if(qr[Kr[e]].common)return Kr[e]}(this._unit):void 0,this.initOffsets(s),t.reverse&&r.reverse(),eo(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t=[]){let e,i,s=0,n=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),s=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),n=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;s=Mt(s,0,r),n=Mt(n,0,r),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,n=s.time,r=n.unit||Jr(n.minUnit,e,i,this._getLabelCapacity(e)),o=H(s.ticks.stepSize,1),a="week"===r&&n.isoWeekday,h=gt(a)||!0===a,l={};let c,u,d=e;if(h&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,h?"day":r),t.diff(i,e,r)>1e5*o)throw new Error(e+" and "+i+" are too far apart with stepSize of "+o+" "+r);const p="data"===s.ticks.source&&this.getDataTimestamps();for(c=d,u=0;c<i;c=+t.add(c,o,r),u++)to(l,c,p);return c!==i&&"ticks"!==s.bounds&&1!==u||to(l,c,p),Object.keys(l).sort(Zr).map((t=>+t))}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,s=this._unit,n=e||i[s];return this._adapter.format(t,n)}_tickFormatFunction(t,e,i,s){const n=this.options,r=n.ticks.callback;if(r)return W(r,[t,e,i],this);const o=n.time.displayFormats,a=this._unit,h=this._majorUnit,l=a&&o[a],c=h&&o[h],u=i[e],d=h&&c&&u&&u.major;return this._adapter.format(t,s||(d?c:l))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=xt(this.isHorizontal()?e.maxRotation:e.minRotation),n=Math.cos(s),r=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:i*n+o*r,h:i*r+o*n}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,n=this._tickFormatFunction(t,0,eo(this,[t],this._majorUnit),s),r=this._getLabelSize(n),o=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,i=this._cache.data||[];if(i.length)return i;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,e=s.length;t<e;++t)i=i.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(Qr(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return It(t.sort(Zr))}}function so(t,e,i){let s,n,r,o,a=0,h=t.length-1;i?(e>=t[a].pos&&e<=t[h].pos&&({lo:a,hi:h}=Pt(t,"pos",e)),({pos:s,time:r}=t[a]),({pos:n,time:o}=t[h])):(e>=t[a].time&&e<=t[h].time&&({lo:a,hi:h}=Pt(t,"time",e)),({time:s,pos:r}=t[a]),({time:n,pos:o}=t[h]));const l=n-s;return l?r+(o-r)*(e-s)/l:r}var no=Object.freeze({__proto__:null,CategoryScale:class extends Ws{static id="category";static defaults={ticks:{callback:Ir}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:i,label:s}of e)t[i]===s&&t.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(L(t))return null;const i=this.getLabels();return((t,e)=>null===t?null:Mt(Math.round(t),0,e))(e=isFinite(e)&&i[e]===t?e:function(t,e,i,s){const n=t.indexOf(e);return-1===n?((t,e,i,s)=>("string"==typeof e?(i=t.push(e)-1,s.unshift({index:i,label:e})):isNaN(e)&&(i=null),i))(t,e,i,s):n!==t.lastIndexOf(e)?i:n}(i,t,H(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let n=this.getLabels();n=0===t&&e===n.length-1?n:n.slice(t,e+1),this._valueRange=Math.max(n.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=t;i<=e;i++)s.push({value:i});return s}getLabelForValue(t){return Ir.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:Lr,LogarithmicScale:Hr,RadialLinearScale:Xr,TimeScale:io,TimeSeriesScale:class extends io{static id="timeseries";static defaults=io.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=so(e,this.min),this._tableRange=so(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],n=[];let r,o,a,h,l;for(r=0,o=t.length;r<o;++r)h=t[r],h>=e&&h<=i&&s.push(h);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(r=0,o=s.length;r<o;++r)l=s[r+1],a=s[r-1],h=s[r],Math.round((l+a)/2)!==h&&n.push({time:h,pos:r/(o-1)});return n}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return i.includes(t)&&i.length||i.splice(0,0,t),i.includes(e)&&1!==i.length||i.push(e),i.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(so(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return so(this._table,i*this._tableRange+this._minPos,!0)}}});const ro=[Xi,Dn,Er,no];bn.register(...ro)},6557:(t,e,i)=>{"use strict";var s=i(1979),n=i(8507),r=i(583),o=i(4492);const a=[];function h(t={}){const e=t&&t.resource,i=e?t.resource:t,s=e?t:{resource:t};for(let t=0;t<a.length;t++){const e=a[t];if(e.test(i))return new e(s)}throw new Error(`Could not find a source type for resource: ${s.resource}`)}n.XO.handleByList(n.Ag.TextureSource,a),o.g.from=function(t,e=!1){return"string"==typeof t?s.l.get(t):t instanceof r.v?new o.g({source:t}):function(t={},e=!1){const i=t&&t.resource,n=i?t.resource:t,r=i?t:{resource:t};if(!e&&s.l.has(n))return s.l.get(n);const a=new o.g({source:h(r)});return a.on("destroy",(()=>{s.l.has(n)&&s.l.remove(n)})),e||s.l.set(n,a),a}(t,e)},r.v.from=h},6563:(t,e,i)=>{"use strict";i.d(e,{a:()=>a});var s=i(3804);const n=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function r(t){let e="";for(let i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+=`if(test == ${i}.0){}`);return e}let o=null;function a(){if(o)return o;const t=(0,s.W)();return o=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),o=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const i=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const s=n.replace(/%forloop%/gi,r(t));if(e.shaderSource(i,s),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}}finally{e.deleteShader(i)}return t}(o,t),t.getExtension("WEBGL_lose_context")?.loseContext(),o}},6570:t=>{"use strict";function e(t,e,s){s=s||2;var r,o,a,h,u,d,f,g=e&&e.length,m=g?e[0]*s:t.length,x=i(t,0,m,s,!0),b=[];if(!x||x.next===x.prev)return b;if(g&&(x=function(t,e,s,n){var r,o,a,h=[];for(r=0,o=e.length;r<o;r++)(a=i(t,e[r]*n,r<o-1?e[r+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),h.push(p(a));for(h.sort(l),r=0;r<h.length;r++)s=c(h[r],s);return s}(t,e,x,s)),t.length>80*s){r=a=t[0],o=h=t[1];for(var y=s;y<m;y+=s)(u=t[y])<r&&(r=u),(d=t[y+1])<o&&(o=d),u>a&&(a=u),d>h&&(h=d);f=0!==(f=Math.max(a-r,h-o))?32767/f:0}return n(x,b,s,r,o,f,0),b}function i(t,e,i,s,n){var r,o;if(n===k(t,e,i,s)>0)for(r=e;r<i;r+=s)o=A(r,t[r],t[r+1],o);else for(r=i-s;r>=e;r-=s)o=A(r,t[r],t[r+1],o);return o&&x(o,o.next)&&(S(o),o=o.next),o}function s(t,e){if(!t)return t;e||(e=t);var i,s=t;do{if(i=!1,s.steiner||!x(s,s.next)&&0!==m(s.prev,s,s.next))s=s.next;else{if(S(s),(s=e=s.prev)===s.next)break;i=!0}}while(i||s!==e);return e}function n(t,e,i,l,c,u,p){if(t){!p&&u&&function(t,e,i,s){var n=t;do{0===n.z&&(n.z=d(n.x,n.y,e,i,s)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,s,n,r,o,a,h,l=1;do{for(i=t,t=null,r=null,o=0;i;){for(o++,s=i,a=0,e=0;e<l&&(a++,s=s.nextZ);e++);for(h=l;a>0||h>0&&s;)0!==a&&(0===h||!s||i.z<=s.z)?(n=i,i=i.nextZ,a--):(n=s,s=s.nextZ,h--),r?r.nextZ=n:t=n,n.prevZ=r,r=n;i=s}r.nextZ=null,l*=2}while(o>1)}(n)}(t,l,c,u);for(var f,g,m=t;t.prev!==t.next;)if(f=t.prev,g=t.next,u?o(t,l,c,u):r(t))e.push(f.i/i|0),e.push(t.i/i|0),e.push(g.i/i|0),S(t),t=g.next,m=g.next;else if((t=g)===m){p?1===p?n(t=a(s(t),e,i),e,i,l,c,u,2):2===p&&h(t,e,i,l,c,u):n(s(t),e,i,l,c,u,1);break}}}function r(t){var e=t.prev,i=t,s=t.next;if(m(e,i,s)>=0)return!1;for(var n=e.x,r=i.x,o=s.x,a=e.y,h=i.y,l=s.y,c=n<r?n<o?n:o:r<o?r:o,u=a<h?a<l?a:l:h<l?h:l,d=n>r?n>o?n:o:r>o?r:o,p=a>h?a>l?a:l:h>l?h:l,g=s.next;g!==e;){if(g.x>=c&&g.x<=d&&g.y>=u&&g.y<=p&&f(n,a,r,h,o,l,g.x,g.y)&&m(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function o(t,e,i,s){var n=t.prev,r=t,o=t.next;if(m(n,r,o)>=0)return!1;for(var a=n.x,h=r.x,l=o.x,c=n.y,u=r.y,p=o.y,g=a<h?a<l?a:l:h<l?h:l,x=c<u?c<p?c:p:u<p?u:p,b=a>h?a>l?a:l:h>l?h:l,y=c>u?c>p?c:p:u>p?u:p,_=d(g,x,e,i,s),v=d(b,y,e,i,s),w=t.prevZ,A=t.nextZ;w&&w.z>=_&&A&&A.z<=v;){if(w.x>=g&&w.x<=b&&w.y>=x&&w.y<=y&&w!==n&&w!==o&&f(a,c,h,u,l,p,w.x,w.y)&&m(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,A.x>=g&&A.x<=b&&A.y>=x&&A.y<=y&&A!==n&&A!==o&&f(a,c,h,u,l,p,A.x,A.y)&&m(A.prev,A,A.next)>=0)return!1;A=A.nextZ}for(;w&&w.z>=_;){if(w.x>=g&&w.x<=b&&w.y>=x&&w.y<=y&&w!==n&&w!==o&&f(a,c,h,u,l,p,w.x,w.y)&&m(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;A&&A.z<=v;){if(A.x>=g&&A.x<=b&&A.y>=x&&A.y<=y&&A!==n&&A!==o&&f(a,c,h,u,l,p,A.x,A.y)&&m(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function a(t,e,i){var n=t;do{var r=n.prev,o=n.next.next;!x(r,o)&&b(r,n,n.next,o)&&v(r,o)&&v(o,r)&&(e.push(r.i/i|0),e.push(n.i/i|0),e.push(o.i/i|0),S(n),S(n.next),n=t=o),n=n.next}while(n!==t);return s(n)}function h(t,e,i,r,o,a){var h=t;do{for(var l=h.next.next;l!==h.prev;){if(h.i!==l.i&&g(h,l)){var c=w(h,l);return h=s(h,h.next),c=s(c,c.next),n(h,e,i,r,o,a,0),void n(c,e,i,r,o,a,0)}l=l.next}h=h.next}while(h!==t)}function l(t,e){return t.x-e.x}function c(t,e){var i=function(t,e){var i,s=e,n=t.x,r=t.y,o=-1/0;do{if(r<=s.y&&r>=s.next.y&&s.next.y!==s.y){var a=s.x+(r-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(a<=n&&a>o&&(o=a,i=s.x<s.next.x?s:s.next,a===n))return i}s=s.next}while(s!==e);if(!i)return null;var h,l=i,c=i.x,d=i.y,p=1/0;s=i;do{n>=s.x&&s.x>=c&&n!==s.x&&f(r<d?n:o,r,c,d,r<d?o:n,r,s.x,s.y)&&(h=Math.abs(r-s.y)/(n-s.x),v(s,t)&&(h<p||h===p&&(s.x>i.x||s.x===i.x&&u(i,s)))&&(i=s,p=h)),s=s.next}while(s!==l);return i}(t,e);if(!i)return e;var n=w(i,t);return s(n,n.next),s(i,i.next)}function u(t,e){return m(t.prev,t,e.prev)<0&&m(e.next,t,t.next)<0}function d(t,e,i,s,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*n|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-s)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function f(t,e,i,s,n,r,o,a){return(n-o)*(e-a)>=(t-o)*(r-a)&&(t-o)*(s-a)>=(i-o)*(e-a)&&(i-o)*(r-a)>=(n-o)*(s-a)}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&b(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(v(t,e)&&v(e,t)&&function(t,e){var i=t,s=!1,n=(t.x+e.x)/2,r=(t.y+e.y)/2;do{i.y>r!=i.next.y>r&&i.next.y!==i.y&&n<(i.next.x-i.x)*(r-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next}while(i!==t);return s}(t,e)&&(m(t.prev,t,e.prev)||m(t,e.prev,e))||x(t,e)&&m(t.prev,t,t.next)>0&&m(e.prev,e,e.next)>0)}function m(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function x(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,i,s){var n=_(m(t,e,i)),r=_(m(t,e,s)),o=_(m(i,s,t)),a=_(m(i,s,e));return n!==r&&o!==a||!(0!==n||!y(t,i,e))||!(0!==r||!y(t,s,e))||!(0!==o||!y(i,t,s))||!(0!==a||!y(i,e,s))}function y(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function _(t){return t>0?1:t<0?-1:0}function v(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function w(t,e){var i=new M(t.i,t.x,t.y),s=new M(e.i,e.x,e.y),n=t.next,r=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,s.next=i,i.prev=s,r.next=s,s.prev=r,s}function A(t,e,i,s){var n=new M(t,e,i);return s?(n.next=s.next,n.prev=s,s.next.prev=n,s.next=n):(n.prev=n,n.next=n),n}function S(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function M(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function k(t,e,i,s){for(var n=0,r=e,o=i-s;r<i;r+=s)n+=(t[o]-t[r])*(t[r+1]+t[o+1]),o=r;return n}t.exports=e,t.exports.default=e,e.deviation=function(t,e,i,s){var n=e&&e.length,r=n?e[0]*i:t.length,o=Math.abs(k(t,0,r,i));if(n)for(var a=0,h=e.length;a<h;a++){var l=e[a]*i,c=a<h-1?e[a+1]*i:t.length;o-=Math.abs(k(t,l,c,i))}var u=0;for(a=0;a<s.length;a+=3){var d=s[a]*i,p=s[a+1]*i,f=s[a+2]*i;u+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},e.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},s=0,n=0;n<t.length;n++){for(var r=0;r<t[n].length;r++)for(var o=0;o<e;o++)i.vertices.push(t[n][r][o]);n>0&&(s+=t[n-1].length,i.holes.push(s))}return i}},6665:(t,e,i)=>{"use strict";i.d(e,{b:()=>s,m:()=>n});const s={name:"round-pixels-bit",vertex:{header:"\n            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> \n            {\n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        "}},n={name:"round-pixels-bit",vertex:{header:"   \n            vec2 roundPixels(vec2 position, vec2 targetSize)\n            {       \n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        "}}},6736:(t,e,i)=>{"use strict";function s(t,e){const i=t.byteLength/8|0,s=new Float64Array(t,0,i);new Float64Array(e,0,i).set(s);const n=t.byteLength-8*i;if(n>0){const s=new Uint8Array(t,8*i,n);new Uint8Array(e,8*i,n).set(s)}}i.d(e,{W:()=>s})},6844:(t,e,i)=>{"use strict";i.d(e,{k:()=>h});var s=i(2812),n=i(4492),r=i(2048),o=i(4670),a=i(4985);class h extends a.l{constructor(t=n.g.EMPTY){t instanceof n.g&&(t={texture:t});const{texture:e=n.g.EMPTY,anchor:i,roundPixels:r,width:o,height:a,...h}=t;super({label:"Sprite",...h}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new s.o({_onUpdate:()=>{this.onViewUpdate()}}),i?this.anchor=i:e.defaultAnchor&&(this.anchor=e.defaultAnchor),this.texture=e,this.allowChildren=!1,this.roundPixels=r??!1,void 0!==o&&(this.width=o),void 0!==a&&(this.height=a)}static from(t,e=!1){return t instanceof n.g?new h(t):new h(n.g.from(t,e))}set texture(t){t||(t=n.g.EMPTY);const e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return(0,r.y)(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return(0,o.t6)("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,e=this._texture,i=this._bounds,{width:s,height:n}=e.orig;i.minX=-t._x*s,i.maxX=i.minX+s,i.minY=-t._y*n,i.maxY=i.minY+n}destroy(t=!1){if(super.destroy(t),"boolean"==typeof t?t:t?.texture){const e="boolean"==typeof t?t:t?.textureSource;this._texture.destroy(e)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,e){"object"==typeof t?(e=t.height??t.width,t=t.width):e??(e=t),void 0!==t&&this._setWidth(t,this._texture.orig.width),void 0!==e&&this._setHeight(e,this._texture.orig.height)}}},6858:(t,e,i)=>{"use strict";let s;async function n(){return s??(s=(async()=>{const t=document.createElement("canvas").getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const e=await new Promise((t=>{const e=document.createElement("video");e.onloadeddata=()=>t(e),e.onerror=()=>t(null),e.autoplay=!1,e.crossOrigin="anonymous",e.preload="auto",e.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",e.load()}));if(!e)return"premultiply-alpha-on-upload";const i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);const s=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,s),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const n=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,n),t.deleteFramebuffer(s),t.deleteTexture(i),t.getExtension("WEBGL_lose_context")?.loseContext(),n[0]<=n[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),s}i.d(e,{C:()=>n})},6954:(t,e,i)=>{"use strict";i.d(e,{G:()=>o});var s=i(9313),n=i(4676);const r=new s.u;class o{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,e=t>>16|65280&t|(255&t)<<16,i=this.renderable;return i?(0,n.u)(e,i.groupColor)+(this.alpha*i.groupAlpha*255<<24):e+(255*this.alpha<<24)}get transform(){return this.renderable?.groupTransform||r}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}},7073:(t,e,i)=>{"use strict";i.d(e,{M:()=>r,d:()=>o});var s=i(8507),n=i(2571);class r{static init(){globalThis.__PIXI_APP_INIT__?.(this,n.xv)}static destroy(){}}r.extension=s.Ag.Application;class o{constructor(t){this._renderer=t}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,n.xv)}destroy(){this._renderer=null}}o.extension={type:[s.Ag.WebGLSystem,s.Ag.WebGPUSystem],name:"initHook",priority:-10}},7269:(t,e,i)=>{"use strict";i.d(e,{n:()=>r});var s=i(9313),n=i(2208);function r(t,e,i){return e.clear(),i||(i=s.u.IDENTITY),o(t,e,i,t,!0),e.isValid||e.set(0,0,0,0),e}function o(t,e,i,r,a){let h;if(a)h=n.u.get(),h=i.copyTo(h);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const e=t.localTransform;h=n.u.get(),h.appendFrom(e,i)}const l=e,c=!!t.effects.length;if(c&&(e=n.o.get().clear()),t.boundsArea)e.addRect(t.boundsArea,h);else{t.renderPipeId&&(e.matrix=h,e.addBounds(t.bounds));const i=t.children;for(let t=0;t<i.length;t++)o(i[t],e,h,r,!1)}if(c){for(let i=0;i<t.effects.length;i++)t.effects[i].addLocalBounds?.(e,r);l.addBounds(e,s.u.IDENTITY),n.o.return(e)}n.u.return(h)}},7276:(t,e,i)=>{"use strict";i.d(e,{_:()=>p});var s=i(2577),n=i(1761),r=i(9313),o=i(8293),a=i(4492),h=i(133),l=i(4670),c=i(2698);const u=[{offset:0,color:"white"},{offset:1,color:"black"}],d=class t{constructor(...e){this.uid=(0,h.L)("fillGradient"),this.type="linear",this.colorStops=[];let i=function(t){let e=t[0]??{};return("number"==typeof e||t[1])&&((0,l.t6)("8.5.2","use options object instead"),e={type:"linear",start:{x:t[0],y:t[1]},end:{x:t[2],y:t[3]},textureSpace:t[4],textureSize:t[5]??p.defaultLinearOptions.textureSize}),e}(e);i={..."radial"===i.type?t.defaultRadialOptions:t.defaultLinearOptions,...(0,c.S)(i)},this._textureSize=i.textureSize,this._wrapMode=i.wrapMode,"radial"===i.type?(this.center=i.center,this.outerCenter=i.outerCenter??this.center,this.innerRadius=i.innerRadius,this.outerRadius=i.outerRadius,this.scale=i.scale,this.rotation=i.rotation):(this.start=i.start,this.end=i.end),this.textureSpace=i.textureSpace,this.type=i.type,i.colorStops.forEach((t=>{this.addColorStop(t.offset,t.color)}))}addColorStop(t,e){return this.colorStops.push({offset:t,color:s.Q.shared.setValue(e).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:e}=this.start,{x:i,y:s}=this.end,n=i-t,h=s-e;const l=n<0||h<0;if("clamp-to-edge"===this._wrapMode){if(n<0){const e=t;t=i,i=e,n*=-1}if(h<0){const t=e;e=s,s=t,h*=-1}}const c=this.colorStops.length?this.colorStops:u,d=this._textureSize,{canvas:p,context:m}=g(d,1),x=l?m.createLinearGradient(this._textureSize,0,0,0):m.createLinearGradient(0,0,this._textureSize,0);f(x,c),m.fillStyle=x,m.fillRect(0,0,d,1),this.texture=new a.g({source:new o.b({resource:p,addressMode:this._wrapMode})});const b=Math.sqrt(n*n+h*h),y=Math.atan2(h,n),_=new r.u;_.scale(b/d,1),_.rotate(y),_.translate(t,e),"local"===this.textureSpace&&_.scale(d,d),this.transform=_}buildGradient(){"linear"===this.type?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:u,e=this._textureSize,{canvas:i,context:s}=g(e,e),{x:n,y:h}=this.center,{x:l,y:c}=this.outerCenter,d=this.innerRadius,p=this.outerRadius,m=l-p,x=c-p,b=e/(2*p),y=(n-m)*b,_=(h-x)*b,v=s.createRadialGradient(y,_,d*b,(l-m)*b,(c-x)*b,p*b);f(v,t),s.fillStyle=t[t.length-1].color,s.fillRect(0,0,e,e),s.fillStyle=v,s.translate(y,_),s.rotate(this.rotation),s.scale(1,this.scale),s.translate(-y,-_),s.fillRect(0,0,e,e),this.texture=new a.g({source:new o.b({resource:i,addressMode:this._wrapMode})});const w=new r.u;w.scale(1/b,1/b),w.translate(m,x),"local"===this.textureSpace&&w.scale(e,e),this.transform=w}get styleKey(){return this.uid}destroy(){this.texture?.destroy(!0),this.texture=null}};d.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"},d.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let p=d;function f(t,e){for(let i=0;i<e.length;i++){const s=e[i];t.addColorStop(s.offset,s.color)}}function g(t,e){const i=n.e.get().createCanvas(t,e),s=i.getContext("2d");return{canvas:i,context:s}}},7309:(t,e,i)=>{"use strict";i.d(e,{R:()=>o});var s=i(4458);class n{constructor(t,e=null,i=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=e,this.priority=i,this._once=s}match(t,e=null){return this._fn===t&&this._context===e}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const e=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}const r=class t{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new n(null,null,1/0),this.deltaMS=1/t.targetFPMS,this.elapsedMS=1/t.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,i=s.d.NORMAL){return this._addListener(new n(t,e,i))}addOnce(t,e,i=s.d.NORMAL){return this._addListener(new n(t,e,i,!0))}_addListener(t){let e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this}remove(t,e){let i=this._head.next;for(;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let i;if(e>this.lastTime){if(i=this.elapsedMS=e-this.lastTime,i>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){const t=e-this._lastFrame|0;if(t<this._minElapsedMS)return;this._lastFrame=e-t%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*t.targetFPMS;const s=this._head;let n=s.next;for(;n;)n=n.emit(this);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const i=Math.min(this.maxFPS,e),s=Math.min(Math.max(0,i)/1e3,t.targetFPMS);this._maxElapsedMS=1/s}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(0===t)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!t._shared){const e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared}static get system(){if(!t._system){const e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system}};r.targetFPMS=.06;let o=r},7547:(t,e,i)=>{"use strict";i.d(e,{U:()=>r});const s={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},n=class t{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(t){!!(1&this.data)!==t&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(t){!!(2&this.data)!==t&&(this.data^=2)}set cullMode(t){"none"!==t?(this.culling=!0,this.clockwiseFrontFace="front"===t):this.culling=!1}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(4&this.data)}set culling(t){!!(4&this.data)!==t&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(t){!!(8&this.data)!==t&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(t){!!(32&this.data)!==t&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(t){!!(16&this.data)!==t&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(t){this.blend="none"!==t,this._blendMode=t,this._blendModeId=s[t]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new t;return e.depthTest=!1,e.blend=!0,e}};n.default2d=n.for2d();let r=n},7608:(t,e,i)=>{"use strict";i.d(e,{N:()=>r});var s=i(1761),n=i(9939);const r=new class{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,e){const i=s.e.get().createCanvas();i.width=t,i.height=e;const n=i.getContext("2d");return{canvas:i,context:n}}getOptimalCanvasAndContext(t,e,i=1){t=Math.ceil(t*i-1e-6),e=Math.ceil(e*i-1e-6);const s=((t=(0,n.U5)(t))<<17)+((e=(0,n.U5)(e))<<1);this._canvasPool[s]||(this._canvasPool[s]=[]);let r=this._canvasPool[s].pop();return r||(r=this._createCanvasAndContext(t,e)),r}returnCanvasAndContext(t){const e=t.canvas,{width:i,height:s}=e,n=(i<<17)+(s<<1);t.context.clearRect(0,0,i,s),this._canvasPool[n].push(t)}clear(){this._canvasPool={}}}},7729:(t,e,i)=>{"use strict";i.d(e,{C:()=>s});class s{constructor(t){this.items=[],this._name=t}emit(t,e,i,s,n,r,o,a){const{name:h,items:l}=this;for(let c=0,u=l.length;c<u;c++)l[c][h](t,e,i,s,n,r,o,a);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return-1!==e&&this.items.splice(e,1),this}contains(t){return-1!==this.items.indexOf(t)}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return 0===this.items.length}get name(){return this._name}}},7952:(t,e,i)=>{"use strict";i.d(e,{X:()=>r});const s=Object.create(null),n=Object.create(null);function r(t,e){let i=n[t];return void 0===i&&(void 0===s[e]&&(s[e]=1),n[t]=i=s[e]++),i}},8011:(t,e,i)=>{"use strict";i.d(e,{V:()=>r});var s=i(2577);const n=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function r(t){const e=[];let i=0;for(let s=0;s<n.length;s++){const r=`_${n[s]}`;e[i++]=t[r]}return i=o(t._fill,e,i),i=function(t,e,i){return t?(i=o(t,e,i),e[i++]=t.width,e[i++]=t.alignment,e[i++]=t.cap,e[i++]=t.join,e[i++]=t.miterLimit,i):i}(t._stroke,e,i),i=function(t,e,i){return t?(e[i++]=t.alpha,e[i++]=t.angle,e[i++]=t.blur,e[i++]=t.distance,e[i++]=s.Q.shared.setValue(t.color).toNumber(),i):i}(t.dropShadow,e,i),e.join("-")}function o(t,e,i){return t?(e[i++]=t.color,e[i++]=t.alpha,e[i++]=t.fill?.styleKey,i):i}},8133:t=>{t.exports=function(t){var n=[];return t.replace(i,(function(t,i,r){var o=i.toLowerCase();for(r=function(t){var e=t.match(s);return e?e.map(Number):[]}(r),"m"==o&&r.length>2&&(n.push([i].concat(r.splice(0,2))),o="l",i="m"==i?"l":"L");;){if(r.length==e[o])return r.unshift(i),n.push(r);if(r.length<e[o])throw new Error("malformed path data");n.push([i].concat(r.splice(0,e[o])))}})),n};var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=/([astvzqmhlc])([^astvzqmhlc]*)/gi,s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},8192:(t,e,i)=>{"use strict";i.d(e,{Dl5:()=>Wt,lgM:()=>m,sP:()=>Pt,mcf:()=>d.mc,Ayi:()=>zt,kxk:()=>Nt.k,EYj:()=>Yt,xJt:()=>Gt.x,gPd:()=>v.g});var s=i(8507);const n={extension:{type:s.Ag.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Promise.all([i.e(665),i.e(390)]).then(i.bind(i,5390))}},r={extension:{type:s.Ag.Environment,name:"webworker",priority:0},test:()=>"undefined"!=typeof self&&void 0!==self.WorkerGlobalScope,load:async()=>{await Promise.all([i.e(665),i.e(162)]).then(i.bind(i,2162))}};i(8480),i(9010);var o=i(1761),a=i(800);let h,l;async function c(t={}){return void 0!==l||(l=await(async()=>{const e=o.e.get().getNavigator().gpu;if(!e)return!1;try{const i=await e.requestAdapter(t);return await i.requestDevice(),!0}catch(t){return!1}})()),l}const u=["webgl","webgpu","canvas"];var d=i(5815),p=i(7073),f=i(4670);const g=class t{constructor(...t){this.stage=new d.mc,void 0!==t[0]&&(0,f.t6)(f.lj,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await async function(t){let e,s=[];t.preference?(s.push(t.preference),u.forEach((e=>{e!==t.preference&&s.push(e)}))):s=u.slice();let n={};for(let l=0;l<s.length;l++){const u=s[l];if("webgpu"===u&&await c()){const{WebGPURenderer:s}=await Promise.all([i.e(914),i.e(751)]).then(i.bind(i,4751));e=s,n={...t,...t.webgpu};break}if("webgl"===u&&(r=t.failIfMajorPerformanceCaveat??a.k.defaultOptions.failIfMajorPerformanceCaveat,void 0!==h||(h=(()=>{const t={stencil:!0,failIfMajorPerformanceCaveat:r??a.k.defaultOptions.failIfMajorPerformanceCaveat};try{if(!o.e.get().getWebGLRenderingContext())return!1;let e=o.e.get().createCanvas().getContext("webgl",t);const i=!!e?.getContextAttributes()?.stencil;if(e){const t=e.getExtension("WEBGL_lose_context");t&&t.loseContext()}return e=null,i}catch(t){return!1}})()),h)){const{WebGLRenderer:s}=await Promise.all([i.e(914),i.e(151)]).then(i.bind(i,3151));e=s,n={...t,...t.webgl};break}if("canvas"===u)throw n={...t},new Error("CanvasRenderer is not yet implemented")}var r;if(delete n.webgpu,delete n.webgl,!e)throw new Error("No available renderer for the current environment");const l=new e;return await l.init(n),l}(e),t._plugins.forEach((t=>{t.init.call(this,e)}))}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return(0,f.t6)(f.lj,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,i=!1){const s=t._plugins.slice(0);s.reverse(),s.forEach((t=>{t.destroy.call(this)})),this.stage.destroy(i),this.stage=null,this.renderer.destroy(e),this.renderer=null}};g._plugins=[];let m=g;s.XO.handleByList(s.Ag.Application,m._plugins),s.XO.add(p.M);var x=i(4589),b=i(2233),y=i(2927),_=i(9252),v=i(4492),w=i(1849),A=i(1312);class S extends w.v{constructor(t,e){super();const{textures:i,data:s}=t;Object.keys(s.pages).forEach((t=>{const e=s.pages[parseInt(t,10)],n=i[e.id];this.pages.push({texture:n})})),Object.keys(s.chars).forEach((t=>{const e=s.chars[t],{frame:n,source:r}=i[e.page],o=new _.M(e.x+n.x,e.y+n.y,e.width,e.height),a=new v.g({source:r,frame:o});this.chars[t]={id:t.codePointAt(0),xOffset:e.xOffset,yOffset:e.yOffset,xAdvance:e.xAdvance,kerning:e.kerning??{},texture:a}})),this.baseRenderedFontSize=s.fontSize,this.baseMeasurementFontSize=s.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:s.fontSize},this.baseLineOffset=s.baseLineOffset,this.lineHeight=s.lineHeight,this.fontFamily=s.fontFamily,this.distanceField=s.distanceField??{type:"none",range:0},this.url=e}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{texture:e}=this.pages[t];e.destroy(!0)}this.pages=null}static install(t){A.c.install(t)}static uninstall(t){A.c.uninstall(t)}}const M={test:t=>"string"==typeof t&&t.startsWith("info face="),parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const t in e){const s=e[t].match(/^[a-z]+/gm)[0],n=e[t].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),r={};for(const t in n){const e=n[t].split("="),i=e[0],s=e[1].replace(/"/gm,""),o=parseFloat(s),a=isNaN(o)?s:o;r[i]=a}i[s].push(r)}const s={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[n]=i.info,[r]=i.common,[o]=i.distanceField??[];o&&(s.distanceField={range:parseInt(o.distanceRange,10),type:o.fieldType}),s.fontSize=parseInt(n.size,10),s.fontFamily=n.face,s.lineHeight=parseInt(r.lineHeight,10);const a=i.page;for(let t=0;t<a.length;t++)s.pages.push({id:parseInt(a[t].id,10)||0,file:a[t].file});const h={};s.baseLineOffset=s.lineHeight-parseInt(r.base,10);const l=i.char;for(let t=0;t<l.length;t++){const e=l[t],i=parseInt(e.id,10);let n=e.letter??e.char??String.fromCharCode(i);"space"===n&&(n=" "),h[i]=n,s.chars[n]={id:i,page:parseInt(e.page,10)||0,x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xOffset:parseInt(e.xoffset,10),yOffset:parseInt(e.yoffset,10),xAdvance:parseInt(e.xadvance,10),kerning:{}}}const c=i.kerning||[];for(let t=0;t<c.length;t++){const e=parseInt(c[t].first,10),i=parseInt(c[t].second,10),n=parseInt(c[t].amount,10);s.chars[h[i]].kerning[h[e]]=n}return s}},k={test(t){const e=t;return"string"!=typeof e&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},parse(t){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},i=t.getElementsByTagName("info")[0],s=t.getElementsByTagName("common")[0],n=t.getElementsByTagName("distanceField")[0];n&&(e.distanceField={type:n.getAttribute("fieldType"),range:parseInt(n.getAttribute("distanceRange"),10)});const r=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning");e.fontSize=parseInt(i.getAttribute("size"),10),e.fontFamily=i.getAttribute("face"),e.lineHeight=parseInt(s.getAttribute("lineHeight"),10);for(let t=0;t<r.length;t++)e.pages.push({id:parseInt(r[t].getAttribute("id"),10)||0,file:r[t].getAttribute("file")});const h={};e.baseLineOffset=e.lineHeight-parseInt(s.getAttribute("base"),10);for(let t=0;t<o.length;t++){const i=o[t],s=parseInt(i.getAttribute("id"),10);let n=i.getAttribute("letter")??i.getAttribute("char")??String.fromCharCode(s);"space"===n&&(n=" "),h[s]=n,e.chars[n]={id:s,page:parseInt(i.getAttribute("page"),10)||0,x:parseInt(i.getAttribute("x"),10),y:parseInt(i.getAttribute("y"),10),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10),xOffset:parseInt(i.getAttribute("xoffset"),10),yOffset:parseInt(i.getAttribute("yoffset"),10),xAdvance:parseInt(i.getAttribute("xadvance"),10),kerning:{}}}for(let t=0;t<a.length;t++){const i=parseInt(a[t].getAttribute("first"),10),s=parseInt(a[t].getAttribute("second"),10),n=parseInt(a[t].getAttribute("amount"),10);e.chars[h[s]].kerning[h[i]]=n}return e}},C=t=>!("string"!=typeof t||!t.includes("<font>"))&&k.test(o.e.get().parseXML(t)),P=t=>k.parse(o.e.get().parseXML(t)),T=[".xml",".fnt"],O={extension:{type:s.Ag.CacheParser,name:"cacheBitmapFont"},test:t=>t instanceof S,getCacheableAssets(t,e){const i={};return t.forEach((t=>{i[t]=e,i[`${t}-bitmap`]=e})),i[`${e.fontFamily}-bitmap`]=e,i}},E={extension:{type:s.Ag.LoadParser,priority:x.T.Normal},name:"loadBitmapFont",test:t=>T.includes(y.A.extname(t).toLowerCase()),testParse:async t=>M.test(t)||C(t),async parse(t,e,i){const s=M.test(t)?M.parse(t):P(t),{src:n}=e,{pages:r}=s,o=[],a=s.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let t=0;t<r.length;++t){const e=r[t].file;let i=y.A.join(y.A.dirname(n),e);i=(0,b.Y)(i,n),o.push({src:i,data:a})}const h=await i.load(o),l=o.map((t=>h[t.src]));return new S({data:s,textures:l},n)},async load(t,e){const i=await o.e.get().fetch(t);return await i.text()},async unload(t,e,i){await Promise.all(t.pages.map((t=>i.unload(t.texture.source._sourceOrigin)))),t.destroy()}};var I=i(268);class R{constructor(t,e=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach((t=>{this._assetList.push(t)})),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],e=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<e;i++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}var F=i(1979);const L={extension:{type:s.Ag.CacheParser,name:"cacheTextureArray"},test:t=>Array.isArray(t)&&t.every((t=>t instanceof v.g)),getCacheableAssets:(t,e)=>{const i={};return t.forEach((t=>{e.forEach(((e,s)=>{i[t+(0===s?"":s+1)]=e}))})),i}};async function D(t){if("Image"in globalThis)return new Promise((e=>{const i=new Image;i.onload=()=>{e(!0)},i.onerror=()=>{e(!1)},i.src=t}));if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch(t){return!1}return!0}return!1}const B={extension:{type:s.Ag.DetectionParser,priority:1},test:async()=>D("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter((t=>"avif"!==t))},z=["png","jpg","jpeg"],V={extension:{type:s.Ag.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...z],remove:async t=>t.filter((t=>!z.includes(t)))},H="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function N(t){return!H&&""!==document.createElement("video").canPlayType(t)}const W={extension:{type:s.Ag.DetectionParser,priority:0},test:async()=>N("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter((t=>"mp4"!==t&&"m4v"!==t))},j={extension:{type:s.Ag.DetectionParser,priority:0},test:async()=>N("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter((t=>"ogv"!==t))},U={extension:{type:s.Ag.DetectionParser,priority:0},test:async()=>N("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter((t=>"webm"!==t))},$={extension:{type:s.Ag.DetectionParser,priority:0},test:async()=>D("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter((t=>"webp"!==t))};var G=i(2406),Y=i(2217);class X{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,i)=>(this._parsersValidated=!1,t[e]=i,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,e){const i={promise:null,parser:null};return i.promise=(async()=>{let s=null,n=null;if(e.loadParser&&(n=this._parserHash[e.loadParser],n||(0,I.R)(`[Assets] specified load parser "${e.loadParser}" not found while loading ${t}`)),!n){for(let i=0;i<this.parsers.length;i++){const s=this.parsers[i];if(s.load&&s.test?.(t,e,this)){n=s;break}}if(!n)return(0,I.R)(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await n.load(t,e,this),i.parser=n;for(let t=0;t<this.parsers.length;t++){const n=this.parsers[t];n.parse&&n.parse&&await(n.testParse?.(s,e,this))&&(s=await n.parse(s,e,this)||s,i.parser=n)}return s})(),i}async load(t,e){this._parsersValidated||this._validateParsers();let i=0;const s={},n=(0,Y.a)(t),r=(0,G.z)(t,(t=>({alias:[t],src:t,data:{}}))),o=r.length,a=r.map((async t=>{const n=y.A.toAbsolute(t.src);if(!s[t.src])try{this.promiseCache[n]||(this.promiseCache[n]=this._getLoadPromiseAndParser(n,t)),s[t.src]=await this.promiseCache[n].promise,e&&e(++i/o)}catch(e){throw delete this.promiseCache[n],delete s[t.src],new Error(`[Loader.load] Failed to load ${n}.\n${e}`)}}));return await Promise.all(a),n?s[r[0].src]:s}async unload(t){const e=(0,G.z)(t,(t=>({alias:[t],src:t}))).map((async t=>{const e=y.A.toAbsolute(t.src),i=this.promiseCache[e];if(i){const s=await i.promise;delete this.promiseCache[e],await(i.parser?.unload?.(s,t,this))}}));await Promise.all(e)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter((t=>t.name)).reduce(((t,e)=>(e.name?t[e.name]&&(0,I.R)(`[Assets] loadParser name conflict "${e.name}"`):(0,I.R)("[Assets] loadParser should have a name"),{...t,[e.name]:e})),{})}}function q(t,e){if(Array.isArray(e)){for(const i of e)if(t.startsWith(`data:${i}`))return!0;return!1}return t.startsWith(`data:${e}`)}function K(t,e){const i=t.split("?")[0],s=y.A.extname(i).toLowerCase();return Array.isArray(e)?e.includes(s):s===e}const Z={extension:{type:s.Ag.LoadParser,priority:x.T.Low},name:"loadJson",test:t=>q(t,"application/json")||K(t,".json"),async load(t){const e=await o.e.get().fetch(t);return await e.json()}},Q={name:"loadTxt",extension:{type:s.Ag.LoadParser,priority:x.T.Low,name:"loadTxt"},test:t=>q(t,"text/plain")||K(t,".txt"),async load(t){const e=await o.e.get().fetch(t);return await e.text()}},J=["normal","bold","100","200","300","400","500","600","700","800","900"],tt=[".ttf",".otf",".woff",".woff2"],et=["font/ttf","font/otf","font/woff","font/woff2"],it=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i,st=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/,nt={extension:{type:s.Ag.LoadParser,priority:x.T.Low},name:"loadWebFont",test:t=>q(t,et)||K(t,tt),async load(t,e){const i=o.e.get().getFontFaceSet();if(i){const n=[],r=e.data?.family??function(t){const e=y.A.extname(t),i=y.A.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map((t=>t.charAt(0).toUpperCase()+t.slice(1)));let s=i.length>0;for(const t of i)if(!t.match(it)){s=!1;break}let n=i.join(" ");return s||(n=`"${n.replace(/[\\"]/g,"\\$&")}"`),n}(t),o=e.data?.weights?.filter((t=>J.includes(t)))??["normal"],a=e.data??{};for(let e=0;e<o.length;e++){const h=o[e],l=new FontFace(r,`url(${s=t,st.test(s)?s:encodeURI(s)})`,{...a,weight:h});await l.load(),i.add(l),n.push(l)}return F.l.set(`${r}-and-url`,{url:t,fontFaces:n}),1===n.length?n[0]:n}var s;return(0,I.R)("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach((t=>{F.l.remove(`${t.family}-and-url`),o.e.get().getFontFaceSet().delete(t)}))}};var rt=i(8293),ot=i(5997),at=i(1173);function ht(t,e=1){const i=at.x.RETINA_PREFIX?.exec(t);return i?parseFloat(i[1]):e}function lt(t,e,i){t.label=i,t._sourceOrigin=i;const s=new v.g({source:t,label:i}),n=()=>{delete e.promiseCache[i],F.l.has(i)&&F.l.remove(i)};return s.source.once("destroy",(()=>{e.promiseCache[i]&&((0,I.R)("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),n())})),s.once("destroy",(()=>{t.destroyed||((0,I.R)("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),n())})),s}const ct={extension:{type:s.Ag.LoadParser,priority:x.T.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test:t=>q(t,"image/svg+xml")||K(t,".svg"),async load(t,e,i){return e.data?.parseAsGraphicsContext??this.config.parseAsGraphicsContext?async function(t){const e=await o.e.get().fetch(t),i=await e.text(),s=new ot.T;return s.svg(i),s}(t):async function(t,e,i,s){const n=await o.e.get().fetch(t),r=await n.blob(),a=URL.createObjectURL(r),h=new Image;h.src=a,h.crossOrigin=s,await h.decode(),URL.revokeObjectURL(a);const l=document.createElement("canvas"),c=l.getContext("2d"),u=e.data?.resolution||ht(t),d=e.data?.width??h.width,p=e.data?.height??h.height;l.width=d*u,l.height=p*u,c.drawImage(h,0,0,d*u,p*u);const{parseAsGraphicsContext:f,...g}=e.data??{};return lt(new rt.b({resource:l,alphaMode:"premultiply-alpha-on-upload",resolution:u,...g}),i,t)}(t,e,i,this.config.crossOrigin)},unload(t){t.destroy(!0)}};let ut=null;class dt{constructor(){ut||(ut=URL.createObjectURL(new Blob(['(function () {\n    \'use strict\';\n\n    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";\n    async function checkImageBitmap() {\n      try {\n        if (typeof createImageBitmap !== "function")\n          return false;\n        const response = await fetch(WHITE_PNG);\n        const imageBlob = await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n        return imageBitmap.width === 1 && imageBitmap.height === 1;\n      } catch (_e) {\n        return false;\n      }\n    }\n    void checkImageBitmap().then((result) => {\n      self.postMessage(result);\n    });\n\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(ut)}}dt.revokeObjectURL=function(){ut&&(URL.revokeObjectURL(ut),ut=null)};let pt=null;class ft{constructor(){pt||(pt=URL.createObjectURL(new Blob(['(function () {\n    \'use strict\';\n\n    async function loadImageBitmap(url, alphaMode) {\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\n      }\n      const imageBlob = await response.blob();\n      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);\n    }\n    self.onmessage = async (event) => {\n      try {\n        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);\n        self.postMessage({\n          data: imageBitmap,\n          uuid: event.data.uuid,\n          id: event.data.id\n        }, [imageBitmap]);\n      } catch (e) {\n        self.postMessage({\n          error: e,\n          uuid: event.data.uuid,\n          id: event.data.id\n        });\n      }\n    };\n\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(pt)}}ft.revokeObjectURL=function(){pt&&(URL.revokeObjectURL(pt),pt=null)};let gt,mt=0;const xt=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise((t=>{const{worker:e}=new dt;e.addEventListener("message",(i=>{e.terminate(),dt.revokeObjectURL(),t(i.data)}))}))),this._isImageBitmapSupported}loadImageBitmap(t,e){return this._run("loadImageBitmap",[t,e?.data?.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){void 0===gt&&(gt=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<gt&&(this._createdWorkers++,t=(new ft).worker,t.addEventListener("message",(t=>{this._complete(t.data),this._returnWorker(t.target),this._next()}))),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){void 0!==t.error?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(t,e){await this._initWorkers();const i=new Promise(((i,s)=>{this._queue.push({id:t,arguments:e,resolve:i,reject:s})}));return this._next(),i}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const e=this._queue.pop(),i=e.id;this._resolveHash[mt]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:mt++,id:i})}},bt=[".jpeg",".jpg",".png",".webp",".avif"],yt=["image/jpeg","image/png","image/webp","image/avif"],_t={name:"loadTextures",extension:{type:s.Ag.LoadParser,priority:x.T.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:t=>q(t,yt)||K(t,bt),async load(t,e,i){let s=null;return s=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await xt.isImageBitmapSupported()?await xt.loadImageBitmap(t,e):await async function(t,e){const i=await o.e.get().fetch(t);if(!i.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${i.status} ${i.statusText}`);const s=await i.blob();return"premultiplied-alpha"===e?.data?.alphaMode?createImageBitmap(s,{premultiplyAlpha:"none"}):createImageBitmap(s)}(t,e):await new Promise(((e,i)=>{s=new Image,s.crossOrigin=this.config.crossOrigin,s.src=t,s.complete?e(s):(s.onload=()=>{e(s)},s.onerror=i)})),lt(new rt.b({resource:s,alphaMode:"premultiply-alpha-on-upload",resolution:e.data?.resolution||ht(t),...e.data}),i,t)},unload(t){t.destroy(!0)}};var vt=i(6139),wt=i(6858);const At=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],St=At.map((t=>`video/${t.substring(1)}`));const Mt={name:"loadVideo",extension:{type:s.Ag.LoadParser,name:"loadVideo"},test(t){const e=q(t,St),i=K(t,At);return e||i},async load(t,e,i){const s={...vt.$.defaultOptions,resolution:e.data?.resolution||ht(t),alphaMode:e.data?.alphaMode||await(0,wt.C)(),...e.data},n=document.createElement("video"),r={preload:!1!==s.autoLoad?"auto":void 0,"webkit-playsinline":!1!==s.playsinline?"":void 0,playsinline:!1!==s.playsinline?"":void 0,muted:!0===s.muted?"":void 0,loop:!0===s.loop?"":void 0,autoplay:!1!==s.autoPlay?"":void 0};Object.keys(r).forEach((t=>{const e=r[t];void 0!==e&&n.setAttribute(t,e)})),!0===s.muted&&(n.muted=!0),function(t,e,i){void 0!==i||e.startsWith("data:")?!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous"):t.crossOrigin=function(t,e=globalThis.location){if(t.startsWith("data:"))return"";e||(e=globalThis.location);const i=new URL(t,document.baseURI);return i.hostname!==e.hostname||i.port!==e.port||i.protocol!==e.protocol?"anonymous":""}(e)}(n,t,s.crossorigin);const o=document.createElement("source");let a;if(t.startsWith("data:"))a=t.slice(5,t.indexOf(";"));else if(!t.startsWith("blob:")){const e=t.split("?")[0].slice(t.lastIndexOf(".")+1).toLowerCase();a=vt.$.MIME_TYPES[e]||`video/${e}`}return o.src=t,a&&(o.type=a),new Promise((r=>{const a=async()=>{const o=new vt.$({...s,resource:n});var h;n.removeEventListener("canplay",a),e.data.preload&&await(h=n,new Promise(((t,e)=>{function i(){n(),t()}function s(t){n(),e(t)}function n(){h.removeEventListener("canplaythrough",i),h.removeEventListener("error",s)}h.addEventListener("canplaythrough",i),h.addEventListener("error",s),h.load()}))),r(lt(o,i,t))};n.addEventListener("canplay",a),n.appendChild(o)}))},unload(t){t.destroy(!0)}},kt={extension:{type:s.Ag.ResolveParser,name:"resolveTexture"},test:_t.test,parse:t=>({resolution:parseFloat(at.x.RETINA_PREFIX.exec(t)?.[1]??"1"),format:t.split(".").pop(),src:t})},Ct={extension:{type:s.Ag.ResolveParser,priority:-2,name:"resolveJson"},test:t=>at.x.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:kt.parse},Pt=new class{constructor(){this._detections=[],this._initialized=!1,this.resolver=new at.x,this.loader=new X,this.cache=F.l,this._backgroundLoader=new R(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized)return void(0,I.R)("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let e=t.manifest;"string"==typeof e&&(e=await this.load(e)),this.resolver.addManifest(e)}const e=t.texturePreference?.resolution??1,i="number"==typeof e?[e]:e,s=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:i}}),t.preferences&&this.setPreferences(t.preferences)}add(t){this.resolver.add(t)}async load(t,e){this._initialized||await this.init();const i=(0,Y.a)(t),s=(0,G.z)(t).map((t=>{if("string"!=typeof t){const e=this.resolver.getAlias(t);return e.some((t=>!this.resolver.hasKey(t)))&&this.add(t),Array.isArray(e)?e[0]:e}return this.resolver.hasKey(t)||this.add({alias:t,src:t}),t})),n=this.resolver.resolve(s),r=await this._mapLoadToResolve(n,e);return i?r[s[0]]:r}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let i=!1;"string"==typeof t&&(i=!0,t=[t]);const s=this.resolver.resolveBundle(t),n={},r=Object.keys(s);let o=0,a=0;const h=()=>{e?.(++o/a)},l=r.map((t=>{const e=s[t];return a+=Object.keys(e).length,this._mapLoadToResolve(e,h).then((e=>{n[t]=e}))}));return await Promise.all(l),i?n[t[0]]:n}async backgroundLoad(t){this._initialized||await this.init(),"string"==typeof t&&(t=[t]);const e=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(t){this._initialized||await this.init(),"string"==typeof t&&(t=[t]);const e=this.resolver.resolveBundle(t);Object.values(e).forEach((t=>{this._backgroundLoader.add(Object.values(t))}))}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if("string"==typeof t)return F.l.get(t);const e={};for(let i=0;i<t.length;i++)e[i]=F.l.get(t[i]);return e}async _mapLoadToResolve(t,e){const i=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const s=await this.loader.load(i,e);this._backgroundLoader.active=!0;const n={};return i.forEach((t=>{const e=s[t.src],i=[t.src];t.alias&&i.push(...t.alias),i.forEach((t=>{n[t]=e})),F.l.set(i,e)})),n}async unload(t){this._initialized||await this.init();const e=(0,G.z)(t).map((t=>"string"!=typeof t?t.src:t)),i=this.resolver.resolve(e);await this._unloadFromResolved(i)}async unloadBundle(t){this._initialized||await this.init(),t=(0,G.z)(t);const e=this.resolver.resolveBundle(t),i=Object.keys(e).map((t=>this._unloadFromResolved(e[t])));await Promise.all(i)}async _unloadFromResolved(t){const e=Object.values(t);e.forEach((t=>{F.l.remove(t.src)})),await this.loader.unload(e)}async _detectFormats(t){let e=[];t.preferredFormats&&(e=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const i of t.detections)t.skipDetections||await i.test()?e=await i.add(e):t.skipDetections||(e=await i.remove(e));return e=e.filter(((t,i)=>e.indexOf(t)===i)),e}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach((e=>{e.config&&Object.keys(e.config).filter((e=>e in t)).forEach((i=>{e.config[i]=t[i]}))}))}};s.XO.handleByList(s.Ag.LoadParser,Pt.loader.parsers).handleByList(s.Ag.ResolveParser,Pt.resolver.parsers).handleByList(s.Ag.CacheParser,Pt.cache.parsers).handleByList(s.Ag.DetectionParser,Pt.detections),s.XO.add(L,V,B,$,W,j,U,Z,Q,nt,ct,_t,Mt,E,O,kt,Ct);const Tt={loader:s.Ag.LoadParser,resolver:s.Ag.ResolveParser,cache:s.Ag.CacheParser,detection:s.Ag.DetectionParser};s.XO.handle(s.Ag.Asset,(t=>{const e=t.ref;Object.entries(Tt).filter((([t])=>!!e[t])).forEach((([t,i])=>s.XO.add(Object.assign(e[t],{extension:e[t].extension??i}))))}),(t=>{const e=t.ref;Object.keys(Tt).filter((t=>!!e[t])).forEach((t=>s.XO.remove(e[t])))})),i(6557);var Ot=i(2698);function Et(t,e,i,s,n,r,o,a){const h=o-i,l=a-s,c=n-i,u=r-s,d=t-i,p=e-s,f=h*h+l*l,g=h*c+l*u,m=h*d+l*p,x=c*c+u*u,b=c*d+u*p,y=1/(f*x-g*g),_=(x*m-g*b)*y,v=(f*b-g*m)*y;return _>=0&&v>=0&&_+v<1}var It=i(6011),Rt=i(7547),Ft=i(4985),Lt=i(5060);class Dt extends Ft.l{constructor(...t){let e=t[0];e instanceof It.V&&((0,f.t6)(f.lj,"Mesh: use new Mesh({ geometry, shader }) instead"),e={geometry:e,shader:t[1]},t[3]&&((0,f.t6)(f.lj,"Mesh: drawMode argument has been removed, use geometry.topology instead"),e.geometry.topology=t[3]));const{geometry:i,shader:s,texture:n,roundPixels:r,state:o,...a}=e;super({label:"Mesh",...a}),this.renderPipeId="mesh",this._shader=null,this.allowChildren=!1,this.shader=s??null,this.texture=n??s?.texture??v.g.WHITE,this.state=o??Rt.U.for2d(),this._geometry=i,this._geometry.on("update",this.onViewUpdate,this),this.roundPixels=r??!1}get material(){return(0,f.t6)(f.lj,"mesh.material property has been removed, use mesh.shader instead"),this._shader}set shader(t){this._shader!==t&&(this._shader=t,this.onViewUpdate())}get shader(){return this._shader}set geometry(t){this._geometry!==t&&(this._geometry?.off("update",this.onViewUpdate,this),t.on("update",this.onViewUpdate,this),this._geometry=t,this.onViewUpdate())}get geometry(){return this._geometry}set texture(t){t||(t=v.g.EMPTY);const e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this.shader&&(this.shader.texture=t),this._texture=t,this.onViewUpdate())}get texture(){return this._texture}get batched(){return!this._shader&&!(12&this.state.data)&&this._geometry instanceof Lt.u&&("auto"===this._geometry.batchMode?this._geometry.positions.length/2<=100:"batch"===this._geometry.batchMode)}get bounds(){return this._geometry.bounds}updateBounds(){this._bounds=this._geometry.bounds}containsPoint(t){const{x:e,y:i}=t;if(!this.bounds.containsPoint(e,i))return!1;const s=this.geometry.getBuffer("aPosition").data,n="triangle-strip"===this.geometry.topology?3:1;if(this.geometry.getIndex()){const t=this.geometry.getIndex().data,r=t.length;for(let o=0;o+2<r;o+=n){const n=2*t[o],r=2*t[o+1],a=2*t[o+2];if(Et(e,i,s[n],s[n+1],s[r],s[r+1],s[a],s[a+1]))return!0}}else{const t=s.length/2;for(let r=0;r+2<t;r+=n){const t=2*r,n=2*(r+1),o=2*(r+2);if(Et(e,i,s[t],s[t+1],s[n],s[n+1],s[o],s[o+1]))return!0}}return!1}destroy(t){if(super.destroy(t),"boolean"==typeof t?t:t?.texture){const e="boolean"==typeof t?t:t?.textureSource;this._texture.destroy(e)}this._geometry?.off("update",this.onViewUpdate,this),this._texture=null,this._geometry=null,this._shader=null}}var Bt=i(3266);class zt extends Dt{constructor(t){const{texture:e,verticesX:i,verticesY:s,...n}=t,r=new Bt.b((0,Ot.S)({width:e.width,height:e.height,verticesX:i,verticesY:s}));super((0,Ot.S)({...n,geometry:r,texture:e})),this.texture=e,this.autoResize=!0}textureUpdated(){const t=this.geometry,{width:e,height:i}=this.texture;!this.autoResize||t.width===e&&t.height===i||(t.width=e,t.height=i,t.build({}))}set texture(t){this._texture?.off("update",this.textureUpdated,this),super.texture=t,t.on("update",this.textureUpdated,this),this.textureUpdated()}get texture(){return this._texture}destroy(t){this.texture.off("update",this.textureUpdated,this),super.destroy(t)}}var Vt=i(4458),Ht=i(7309),Nt=i(6844);class Wt extends Nt.k{constructor(...t){let e=t[0];Array.isArray(t[0])&&(e={textures:t[0],autoUpdate:t[1]});const{animationSpeed:i=1,autoPlay:s=!1,autoUpdate:n=!0,loop:r=!0,onComplete:o=null,onFrameChange:a=null,onLoop:h=null,textures:l,updateAnchor:c=!1,...u}=e,[d]=l;super({...u,texture:d instanceof v.g?d:d.texture}),this._textures=null,this._durations=null,this._autoUpdate=n,this._isConnectedToTicker=!1,this.animationSpeed=i,this.loop=r,this.updateAnchor=c,this.onComplete=o,this.onFrameChange=a,this.onLoop=h,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=l,s&&this.play()}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ht.R.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ht.R.shared.add(this.update,this,Vt.d.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(t){this.stop(),this.currentFrame=t}gotoAndPlay(t){this.currentFrame=t,this.play()}update(t){if(!this._playing)return;const e=t.deltaTime,i=this.animationSpeed*e,s=this.currentFrame;if(null!==this._durations){let t=this._currentTime%1*this._durations[this.currentFrame];for(t+=i/60*1e3;t<0;)this._currentTime--,t+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);t>=this._durations[this.currentFrame];)t-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=t/this._durations[this.currentFrame]}else this._currentTime+=i;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):s!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<s||this.animationSpeed<0&&this.currentFrame>s)&&this.onLoop(),this._updateTexture())}_updateTexture(){const t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this.texture=this._textures[t],this.updateAnchor&&this.texture.defaultAnchor&&this.anchor.copyFrom(this.texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(){this.stop(),super.destroy(),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(t){const e=[];for(let i=0;i<t.length;++i)e.push(v.g.from(t[i]));return new Wt(e)}static fromImages(t){const e=[];for(let i=0;i<t.length;++i)e.push(v.g.from(t[i]));return new Wt(e)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(t){if(t[0]instanceof v.g)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(let e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this._updateTexture()}get currentFrame(){let t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}set currentFrame(t){if(t<0||t>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${t}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this._updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Ht.R.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ht.R.shared.add(this.update,this),this._isConnectedToTicker=!0))}}var jt=i(2812);class Ut extends Ft.l{constructor(t,e){const{text:i,resolution:s,style:n,anchor:r,width:o,height:a,roundPixels:h,...l}=t;super({...l}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=e,this.text=i??"",this.style=n,this.resolution=s??null,this.allowChildren=!1,this._anchor=new jt.o({_onUpdate:()=>{this.onViewUpdate()}}),r&&(this.anchor=r),this.roundPixels=h??!1,void 0!==o&&(this.width=o),void 0!==a&&(this.height=a)}get anchor(){return this._anchor}set anchor(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)}set text(t){t=t.toString(),this._text!==t&&(this._text=t,this.onViewUpdate())}get text(){return this._text}set resolution(t){this._autoResolution=null===t,this._resolution=t,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(t){t||(t={}),this._style?.off("update",this.onViewUpdate,this),t instanceof this._styleClass?this._style=t:this._style=new this._styleClass(t),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(t){this._setWidth(t,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(t){this._setHeight(t,this.bounds.height)}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this.bounds.width,t.height=Math.abs(this.scale.y)*this.bounds.height,t}setSize(t,e){"object"==typeof t?(e=t.height??t.width,t=t.width):e??(e=t),void 0!==t&&this._setWidth(t,this.bounds.width),void 0!==e&&this._setHeight(e,this.bounds.height)}containsPoint(t){const e=this.bounds.width,i=this.bounds.height,s=-e*this.anchor.x;let n=0;return t.x>=s&&t.x<=s+e&&(n=-i*this.anchor.y,t.y>=n&&t.y<=n+i)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}_getKey(){return`${this.text}:${this._style.styleKey}:${this._resolution}`}destroy(t=!1){super.destroy(t),this.owner=null,this._bounds=null,this._anchor=null,("boolean"==typeof t?t:t?.style)&&this._style.destroy(t),this._style=null,this._text=null}}var $t=i(4016),Gt=i(8291);class Yt extends Ut{constructor(...t){const e=function(t){let e=t[0]??{};return("string"==typeof e||t[1])&&((0,f.t6)(f.lj,'use new Text({ text: "hi!", style }) instead'),e={text:e,style:t[1]}),e}(t);super(e,Gt.x),this.renderPipeId="text"}updateBounds(){const t=this._bounds,e=this._anchor,i=$t.P.measureText(this._text,this._style),{width:s,height:n}=i;t.minX=-e._x*s,t.maxX=t.minX+s,t.minY=-e._y*n,t.maxY=t.minY+n}}i(8875),i(6570),s.XO.add(n,r)},8218:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});var s=i(8425);const n=new class{constructor(){this._poolsByClass=new Map}prepopulate(t,e){this.getPool(t).prepopulate(e)}get(t,e){return this.getPool(t).get(e)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new s.b(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach((e=>{const i=t[e._classType.name]?e._classType.name+e._classType.ID:e._classType.name;t[i]={free:e.totalFree,used:e.totalUsed,size:e.totalSize}})),t}}},8291:(t,e,i)=>{"use strict";i.d(e,{x:()=>d});var s=i(8875),n=i(2577),r=i(4670),o=i(7276),a=i(2806),h=i(5997),l=i(990),c=i(8011);const u=class t extends s.A{constructor(e={}){super(),function(t){const e=t;if("boolean"==typeof e.dropShadow&&e.dropShadow){const i=d.defaultDropShadow;t.dropShadow={alpha:e.dropShadowAlpha??i.alpha,angle:e.dropShadowAngle??i.angle,blur:e.dropShadowBlur??i.blur,color:e.dropShadowColor??i.color,distance:e.dropShadowDistance??i.distance}}if(void 0!==e.strokeThickness){(0,r.t6)(r.lj,"strokeThickness is now a part of stroke");const i=e.stroke;let s={};if(n.Q.isColorLike(i))s.color=i;else if(i instanceof o._||i instanceof a.m)s.fill=i;else{if(!Object.hasOwnProperty.call(i,"color")&&!Object.hasOwnProperty.call(i,"fill"))throw new Error("Invalid stroke value.");s=i}t.stroke={...s,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){let i;(0,r.t6)(r.lj,"gradient fill is now a fill pattern: `new FillGradient(...)`"),null==t.fontSize?t.fontSize=d.defaultTextStyle.fontSize:i="string"==typeof t.fontSize?parseInt(t.fontSize,10):t.fontSize;const s=new o._({start:{x:0,y:0},end:{x:0,y:1.7*(i||0)}}),a=e.fillGradientStops.map((t=>n.Q.shared.setValue(t).toNumber()));a.forEach(((t,e)=>{const i=e/(a.length-1);s.addColorStop(i,t)})),t.fill={fill:s}}}(e);const i={...t.defaultTextStyle,...e};for(const t in i)this[t]=i[t];this.update()}get align(){return this._align}set align(t){this._align=t,this.update()}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords=t,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow=null!==e&&"object"==typeof e?this._createProxy({...t.defaultDropShadow,...e}):e?this._createProxy({...t.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.update()}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize="string"==typeof t?parseInt(t,10):t,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t,this.update()}get leading(){return this._leading}set leading(t){this._leading=t,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing=t,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.update()}get padding(){return this._padding}set padding(t){this._padding=t,this.update()}get trim(){return this._trim}set trim(t){this._trim=t,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace=t,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap=t,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth=t,this.update()}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...h.T.defaultFillStyle,...t},(()=>{this._fill=(0,l.w)({...this._originalFill},h.T.defaultFillStyle)}))),this._fill=(0,l.w)(0===t?"black":t,h.T.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...h.T.defaultStrokeStyle,...t},(()=>{this._stroke=(0,l.T)({...this._originalStroke},h.T.defaultStrokeStyle)}))),this._stroke=(0,l.T)(t,h.T.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=(0,c.V)(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const e=t.defaultTextStyle;for(const t in e)this[t]=e[t]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new t({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(t=!1){if(this.removeAllListeners(),"boolean"==typeof t?t:t?.texture){const e="boolean"==typeof t?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(e),this._originalFill?.texture&&this._originalFill.texture.destroy(e),this._stroke?.texture&&this._stroke.texture.destroy(e),this._originalStroke?.texture&&this._originalStroke.texture.destroy(e)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,e){return new Proxy(t,{set:(t,i,s)=>(t[i]=s,e?.(i,s),this.update(),!0)})}_isFillStyle(t){return null!==(t??null)&&!(n.Q.isColorLike(t)||t instanceof o._||t instanceof a.m)}};u.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5},u.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let d=u},8293:(t,e,i)=>{"use strict";i.d(e,{b:()=>a});var s=i(1761),n=i(8507),r=i(268),o=i(583);class a extends o.v{constructor(t){if(t.resource&&globalThis.HTMLImageElement&&t.resource instanceof HTMLImageElement){const e=s.e.get().createCanvas(t.resource.width,t.resource.height);e.getContext("2d").drawImage(t.resource,0,0,t.resource.width,t.resource.height),t.resource=e,(0,r.R)("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}a.extension=n.Ag.TextureSource},8306:(t,e,i)=>{"use strict";i.d(e,{m:()=>n});const s={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function n(t){return s[t]??s.float32}},8425:(t,e,i)=>{"use strict";i.d(e,{b:()=>s});class s{constructor(t,e){this._pool=[],this._count=0,this._index=0,this._classType=t,e&&this.prepopulate(e)}prepopulate(t){for(let e=0;e<t;e++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){let e;return e=this._index>0?this._pool[--this._index]:new this._classType,e.init?.(t),e}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}},8475:(t,e,i)=>{"use strict";i.d(e,{M:()=>c});var s=i(8875),n=i(133),r=i(9113),o=i(3513),a=i(3012),h=i(5099),l=i(5811);class c extends s.A{constructor(t){super(),this.uid=(0,n.L)("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:e,glProgram:i,groups:s,resources:r,compatibleRenderers:a,groupMap:c}=t;this.gpuProgram=e,this.glProgram=i,void 0===a&&(a=0,e&&(a|=h.W.WEBGPU),i&&(a|=h.W.WEBGL)),this.compatibleRenderers=a;const u={};if(r||s||(r={}),r&&s)throw new Error("[Shader] Cannot have both resources and groups");if(!e&&s&&!c)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!e&&s&&c)for(const t in c)for(const e in c[t]){const i=c[t][e];u[i]={group:t,binding:e,name:i}}else if(e&&s&&!c){const t=e.structsAndGroups.groups;c={},t.forEach((t=>{c[t.group]=c[t.group]||{},c[t.group][t.binding]=t.name,u[t.name]=t}))}else if(r){s={},c={},e&&e.structsAndGroups.groups.forEach((t=>{c[t.group]=c[t.group]||{},c[t.group][t.binding]=t.name,u[t.name]=t}));let t=0;for(const e in r)u[e]||(s[99]||(s[99]=new o.T,this._ownedBindGroups.push(s[99])),u[e]={group:99,binding:t,name:e},c[99]=c[99]||{},c[99][t]=e,t++);for(const t in r){const e=t;let i=r[t];i.source||i._resourceType||(i=new l.k(i));const n=u[e];n&&(s[n.group]||(s[n.group]=new o.T,this._ownedBindGroups.push(s[n.group])),s[n.group].setResource(i,n.binding))}}this.groups=s,this._uniformBindMap=c,this.resources=this._buildResourceAccessor(s,u)}addResource(t,e,i){var s,n;(s=this._uniformBindMap)[e]||(s[e]={}),(n=this._uniformBindMap[e])[i]||(n[i]=t),this.groups[e]||(this.groups[e]=new o.T,this._ownedBindGroups.push(this.groups[e]))}_buildResourceAccessor(t,e){const i={};for(const s in e){const n=e[s];Object.defineProperty(i,n.name,{get:()=>t[n.group].getResource(n.binding),set(e){t[n.group].setResource(e,n.binding)}})}return i}destroy(t=!1){this.emit("destroy",this),t&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach((t=>{t.destroy()})),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:e,gl:i,...s}=t;let n,o;return e&&(n=a.B.from(e)),i&&(o=r.M.from(i)),new c({gpuProgram:n,glProgram:o,...s})}}},8480:(t,e,i)=>{"use strict";var s=i(8507),n=i(6844),r=i(9636),o=i(9443);const a=new r.c;function h(t,e,i){const s=a;t.measurable=!0,(0,o.fB)(t,i,s),e.addBoundsMask(s),t.measurable=!1}var l=i(7269),c=i(2208),u=i(268);function d(t,e,i){const s=c.o.get();t.measurable=!0;const n=c.u.get().identity(),r=p(t,i,n);(0,l.n)(t,s,r),t.measurable=!1,e.addBoundsMask(s),c.u.return(n),c.o.return(s)}function p(t,e,i){return t?(t!==e&&(p(t.parent,e,i),t.updateLocalTransform(),i.append(t.localTransform)),i):((0,u.R)("Mask bounds, renderable is not inside the root container"),i)}class f{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof n.k),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,e){this.inverse||h(this.mask,t,e)}addLocalBounds(t,e){d(this.mask,t,e)}containsPoint(t,e){return e(this.mask,t)}destroy(){this.reset()}static test(t){return t instanceof n.k}}f.extension=s.Ag.MaskEffect;class g{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return"number"==typeof t}}g.extension=s.Ag.MaskEffect;var m=i(5815);class x{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,e){h(this.mask,t,e)}addLocalBounds(t,e){d(this.mask,t,e)}containsPoint(t,e){return e(this.mask,t)}destroy(){this.reset()}static test(t){return t instanceof m.mc}}x.extension=s.Ag.MaskEffect;var b=i(4195),y=i(4884),_=i(8293),v=i(6139);i(6557),s.XO.add(f,g,x,v.$,_.b,y.q,b.P)},8507:(t,e,i)=>{"use strict";i.d(e,{Ag:()=>s,XO:()=>o});var s=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t.ShapeBuilder="shape-builder",t.Batcher="batcher",t))(s||{});const n=t=>{if("function"==typeof t||"object"==typeof t&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={..."object"!=typeof t.extension?{type:t.extension}:t.extension,ref:t}}if("object"!=typeof t)throw new Error("Invalid extension type");return"string"==typeof(t={...t}).type&&(t.type=[t.type]),t},r=(t,e)=>n(t).priority??e,o={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(n).forEach((t=>{t.type.forEach((e=>this._removeHandlers[e]?.(t)))})),this},add(...t){return t.map(n).forEach((t=>{t.type.forEach((e=>{const i=this._addHandlers,s=this._queue;i[e]?i[e]?.(t):(s[e]=s[e]||[],s[e]?.push(t))}))})),this},handle(t,e,i){const s=this._addHandlers,n=this._removeHandlers;if(s[t]||n[t])throw new Error(`Extension type ${t} already has a handler`);s[t]=e,n[t]=i;const r=this._queue;return r[t]&&(r[t]?.forEach((t=>e(t))),delete r[t]),this},handleByMap(t,e){return this.handle(t,(t=>{t.name&&(e[t.name]=t.ref)}),(t=>{t.name&&delete e[t.name]}))},handleByNamedList(t,e,i=-1){return this.handle(t,(t=>{e.findIndex((e=>e.name===t.name))>=0||(e.push({name:t.name,value:t.ref}),e.sort(((t,e)=>r(e.value,i)-r(t.value,i))))}),(t=>{const i=e.findIndex((e=>e.name===t.name));-1!==i&&e.splice(i,1)}))},handleByList(t,e,i=-1){return this.handle(t,(t=>{e.includes(t.ref)||(e.push(t.ref),e.sort(((t,e)=>r(e,i)-r(t,i))))}),(t=>{const i=e.indexOf(t.ref);-1!==i&&e.splice(i,1)}))},mixin(t,...e){for(const i of e)Object.defineProperties(t.prototype,Object.getOwnPropertyDescriptors(i))}}},8639:(t,e,i)=>{"use strict";i.d(e,{i:()=>n});var s=i(1957);function n(t,e){return"no-premultiply-alpha"===e.alphaMode&&s.Q[t]||t}},8875:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});const s=i(5585)},9010:(t,e,i)=>{"use strict";var s=i(8507),n=i(4589),r=i(1173),o=i(2233),a=i(4492),h=i(2927),l=i(9252);const c=class t{constructor(t,e){this.linkedSheets=[],this._texture=t instanceof a.g?t:null,this.textureSource=t.source,this.textures={},this.animations={},this.data=e;const i=parseFloat(e.meta.scale);i?(this.resolution=i,t.source.resolution=this.resolution):this.resolution=t.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise((e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()}))}_processFrames(e){let i=e;const s=t.BATCH_SIZE;for(;i-e<s&&i<this._frameKeys.length;){const t=this._frameKeys[i],e=this._frames[t],s=e.frame;if(s){let i=null,n=null;const r=!1!==e.trimmed&&e.sourceSize?e.sourceSize:e.frame,o=new l.M(0,0,Math.floor(r.w)/this.resolution,Math.floor(r.h)/this.resolution);i=e.rotated?new l.M(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new l.M(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==e.trimmed&&e.spriteSourceSize&&(n=new l.M(Math.floor(e.spriteSourceSize.x)/this.resolution,Math.floor(e.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[t]=new a.g({source:this.textureSource,frame:i,orig:o,trim:n,rotate:e.rotated?2:0,defaultAnchor:e.anchor,defaultBorders:e.borders,label:t.toString()})}i++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let i=0;i<t[e].length;i++){const s=t[e][i];this.animations[e].push(this.textures[s])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((()=>{this._batchIndex*t.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())}),0)}destroy(t=!1){for(const t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};c.BATCH_SIZE=1e3;let u=c;const d=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function p(t,e,i){const s={};if(t.forEach((t=>{s[t]=e})),Object.keys(e.textures).forEach((t=>{s[t]=e.textures[t]})),!i){const i=h.A.dirname(t[0]);e.linkedSheets.forEach(((t,n)=>{const r=p([`${i}/${e.data.meta.related_multi_packs[n]}`],t,!0);Object.assign(s,r)}))}return s}const f={extension:s.Ag.Asset,cache:{test:t=>t instanceof u,getCacheableAssets:(t,e)=>p(t,e,!1)},resolver:{extension:{type:s.Ag.ResolveParser,name:"resolveSpritesheet"},test:t=>{const e=t.split("?")[0].split("."),i=e.pop(),s=e.pop();return"json"===i&&d.includes(s)},parse:t=>{const e=t.split(".");return{resolution:parseFloat(r.x.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:s.Ag.LoadParser,priority:n.T.Normal,name:"spritesheetLoader"},testParse:async(t,e)=>".json"===h.A.extname(e.src).toLowerCase()&&!!t.frames,async parse(t,e,i){const{texture:s,imageFilename:n,textureOptions:r}=e?.data??{};let l,c=h.A.dirname(e.src);if(c&&c.lastIndexOf("/")!==c.length-1&&(c+="/"),s instanceof a.g)l=s;else{const s=(0,o.Y)(c+(n??t.meta.image),e.src);l=(await i.load([{src:s,data:r}]))[s]}const d=new u(l.source,t);await d.parse();const p=t?.meta?.related_multi_packs;if(Array.isArray(p)){const t=[];for(const s of p){if("string"!=typeof s)continue;let n=c+s;e.data?.ignoreMultiPack||(n=(0,o.Y)(n,e.src),t.push(i.load({src:n,data:{textureOptions:r,ignoreMultiPack:!0}})))}const s=await Promise.all(t);d.linkedSheets=s,s.forEach((t=>{t.linkedSheets=[d].concat(d.linkedSheets.filter((e=>e!==t)))}))}return d},async unload(t,e,i){await i.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};s.XO.add(f)},9049:(t,e,i)=>{"use strict";i.d(e,{a:()=>s});class s{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}},9113:(t,e,i)=>{"use strict";i.d(e,{M:()=>d});var s=i(7952),n=i(3804);let r;function o(){if(!r){r="mediump";const t=(0,n.W)();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);r=e.precision?"highp":"mediump"}}return r}const a={},h={},l={stripVersion:function(t,e){return e?t.replace("#version 300 es",""):t},ensurePrecision:function(t,e,i){const s=i?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if("precision"!==t.substring(0,9)){let n=i?e.requestedFragmentPrecision:e.requestedVertexPrecision;return"highp"===n&&"highp"!==s&&(n="mediump"),`precision ${n} float;\n${t}`}return"highp"!==s&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t},addProgramDefines:function(t,e,i){return e?t:i?`\n        \n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in varying\n        #define finalColor gl_FragColor\n        #define texture texture2D\n        #endif\n        ${t=t.replace("out vec4 finalColor;","")}\n        `:`\n        \n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in attribute\n        #define out varying\n        #endif\n        ${t}\n        `},setProgramName:function(t,{name:e="pixi-program"},i=!0){e=e.replace(/\s+/g,"-");const s=i?a:h;return s[e+=i?"-fragment":"-vertex"]?(s[e]++,e+=`-${s[e]}`):s[e]=1,-1!==t.indexOf("#define SHADER_NAME")?t:`#define SHADER_NAME ${e}\n${t}`},insertVersion:function(t,e){return e?`#version 300 es\n${t}`:t}},c=Object.create(null),u=class t{constructor(e){const i=-1!==(e={...t.defaultOptions,...e}).fragment.indexOf("#version 300 es"),n={stripVersion:i,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:o()},setProgramName:{name:e.name},addProgramDefines:i,insertVersion:i};let r=e.fragment,a=e.vertex;Object.keys(l).forEach((t=>{const e=n[t];r=l[t](r,e,!0),a=l[t](a,e,!1)})),this.fragment=r,this.vertex=a,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=(0,s.X)(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(e){const i=`${e.vertex}:${e.fragment}`;return c[i]||(c[i]=new t(e)),c[i]}};u.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let d=u},9252:(t,e,i)=>{"use strict";i.d(e,{M:()=>r});var s=i(5101);const n=[new s.b,new s.b,new s.b,new s.b];class r{constructor(t=0,e=0,i=0,s=0){this.type="rectangle",this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(s)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new r(0,0,0,0)}clone(){return new r(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}strokeContains(t,e,i,s=.5){const{width:n,height:r}=this;if(n<=0||r<=0)return!1;const o=this.x,a=this.y,h=i*(1-s),l=i-h;return t>=o-h&&t<=o+n+h&&e>=a-h&&e<=a+r+h&&!(t>o+l&&t<o+n-l&&e>a+l&&e<a+r-l)}intersects(t,e){if(!e){const e=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=e)return!1;const i=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>i}const i=this.left,s=this.right,r=this.top,o=this.bottom;if(s<=i||o<=r)return!1;const a=n[0].set(t.left,t.top),h=n[1].set(t.left,t.bottom),l=n[2].set(t.right,t.top),c=n[3].set(t.right,t.bottom);if(l.x<=a.x||h.y<=a.y)return!1;const u=Math.sign(e.a*e.d-e.b*e.c);if(0===u)return!1;if(e.apply(a,a),e.apply(h,h),e.apply(l,l),e.apply(c,c),Math.max(a.x,h.x,l.x,c.x)<=i||Math.min(a.x,h.x,l.x,c.x)>=s||Math.max(a.y,h.y,l.y,c.y)<=r||Math.min(a.y,h.y,l.y,c.y)>=o)return!1;const d=u*(h.y-a.y),p=u*(a.x-h.x),f=d*i+p*r,g=d*s+p*r,m=d*i+p*o,x=d*s+p*o;if(Math.max(f,g,m,x)<=d*a.x+p*a.y||Math.min(f,g,m,x)>=d*c.x+p*c.y)return!1;const b=u*(a.y-l.y),y=u*(l.x-a.x),_=b*i+y*r,v=b*s+y*r,w=b*i+y*o,A=b*s+y*o;return!(Math.max(_,v,w,A)<=b*a.x+y*a.y||Math.min(_,v,w,A)>=b*c.x+y*c.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this}fit(t){const e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),s=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=s,this.height=Math.max(n-s,0),this}ceil(t=1,e=.001){const i=Math.ceil((this.x+this.width-e)*t)/t,s=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=s-this.y,this}enlarge(t){const e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),s=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=s,this.height=n-s,this}getBounds(t){return t||(t=new r),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const e=t.x,i=t.y,s=t.x+t.width,n=t.y+t.height;return e>=this.x&&e<this.x+this.width&&i>=this.y&&i<this.y+this.height&&s>=this.x&&s<this.x+this.width&&n>=this.y&&n<this.y+this.height}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}},9313:(t,e,i)=>{"use strict";i.d(e,{u:()=>r});var s=i(1652),n=i(5101);class r{constructor(t=1,e=0,i=0,s=1,n=0,r=0){this.array=null,this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=r}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,i,s,n,r){return this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=r,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(t,e){e=e||new n.b;const i=t.x,s=t.y;return e.x=this.a*i+this.c*s+this.tx,e.y=this.b*i+this.d*s+this.ty,e}applyInverse(t,e){e=e||new n.b;const i=this.a,s=this.b,r=this.c,o=this.d,a=this.tx,h=this.ty,l=1/(i*o+r*-s),c=t.x,u=t.y;return e.x=o*l*c+-r*l*u+(h*r-a*o)*l,e.y=i*l*u+-s*l*c+(-h*i+a*s)*l,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),i=Math.sin(t),s=this.a,n=this.c,r=this.tx;return this.a=s*e-this.b*i,this.b=s*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=r*e-this.ty*i,this.ty=r*i+this.ty*e,this}append(t){const e=this.a,i=this.b,s=this.c,n=this.d;return this.a=t.a*e+t.b*s,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*s,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*s+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this}appendFrom(t,e){const i=t.a,s=t.b,n=t.c,r=t.d,o=t.tx,a=t.ty,h=e.a,l=e.b,c=e.c,u=e.d;return this.a=i*h+s*c,this.b=i*l+s*u,this.c=n*h+r*c,this.d=n*l+r*u,this.tx=o*h+a*c+e.tx,this.ty=o*l+a*u+e.ty,this}setTransform(t,e,i,s,n,r,o,a,h){return this.a=Math.cos(o+h)*n,this.b=Math.sin(o+h)*n,this.c=-Math.sin(o-a)*r,this.d=Math.cos(o-a)*r,this.tx=t-(i*this.a+s*this.c),this.ty=e-(i*this.b+s*this.d),this}prepend(t){const e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){const e=this.a,i=this.c;this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,i=this.b,n=this.c,r=this.d,o=t.pivot,a=-Math.atan2(-n,r),h=Math.atan2(i,e),l=Math.abs(a+h);return l<1e-5||Math.abs(s.TO-l)<1e-5?(t.rotation=h,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=h),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(n*n+r*r),t.position.x=this.tx+(o.x*e+o.y*n),t.position.y=this.ty+(o.x*i+o.y*r),t}invert(){const t=this.a,e=this.b,i=this.c,s=this.d,n=this.tx,r=t*s-e*i;return this.a=s/r,this.b=-e/r,this.c=-i/r,this.d=t/r,this.tx=(i*this.ty-s*n)/r,this.ty=-(t*this.ty-e*n)/r,this}isIdentity(){return 1===this.a&&0===this.b&&0===this.c&&1===this.d&&0===this.tx&&0===this.ty}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new r;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return a.identity()}static get shared(){return o.identity()}}const o=new r,a=new r},9443:(t,e,i)=>{"use strict";i.d(e,{Ek:()=>a,fB:()=>r});var s=i(9313),n=i(2208);function r(t,e,i){let r,h;return i.clear(),t.parent?e?r=t.parent.worldTransform:(h=n.u.get().identity(),r=a(t,h)):r=s.u.IDENTITY,o(t,i,r,e),h&&n.u.return(h),i.isValid||i.set(0,0,0,0),i}function o(t,e,i,r){if(!t.visible||!t.measurable)return;let a;r?a=t.worldTransform:(t.updateLocalTransform(),a=n.u.get(),a.appendFrom(t.localTransform,i));const h=e,l=!!t.effects.length;if(l&&(e=n.o.get().clear()),t.boundsArea)e.addRect(t.boundsArea,a);else{t.bounds&&(e.matrix=a,e.addBounds(t.bounds));for(let i=0;i<t.children.length;i++)o(t.children[i],e,a,r)}if(l){for(let i=0;i<t.effects.length;i++)t.effects[i].addBounds?.(e);h.addBounds(e,s.u.IDENTITY),n.o.return(e)}r||n.u.return(a)}function a(t,e){const i=t.parent;return i&&(a(i,e),i.updateLocalTransform(),e.append(i.localTransform)),e}},9636:(t,e,i)=>{"use strict";i.d(e,{c:()=>o});var s=i(9313),n=i(9252);const r=new s.u;class o{constructor(t=1/0,e=1/0,i=-1/0,s=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=r,this.minX=t,this.minY=e,this.maxX=i,this.maxY=s}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new n.M);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=r,this}set(t,e,i,s){this.minX=t,this.minY=e,this.maxX=i,this.maxY=s}addFrame(t,e,i,s,n){n||(n=this.matrix);const r=n.a,o=n.b,a=n.c,h=n.d,l=n.tx,c=n.ty;let u=this.minX,d=this.minY,p=this.maxX,f=this.maxY,g=r*t+a*e+l,m=o*t+h*e+c;g<u&&(u=g),m<d&&(d=m),g>p&&(p=g),m>f&&(f=m),g=r*i+a*e+l,m=o*i+h*e+c,g<u&&(u=g),m<d&&(d=m),g>p&&(p=g),m>f&&(f=m),g=r*t+a*s+l,m=o*t+h*s+c,g<u&&(u=g),m<d&&(d=m),g>p&&(p=g),m>f&&(f=m),g=r*i+a*s+l,m=o*i+h*s+c,g<u&&(u=g),m<d&&(d=m),g>p&&(p=g),m>f&&(f=m),this.minX=u,this.minY=d,this.maxX=p,this.maxY=f}addRect(t,e){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,e)}addBounds(t,e){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,e)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const e=this.minX,i=this.minY,s=this.maxX,n=this.maxY,{a:r,b:o,c:a,d:h,tx:l,ty:c}=t;let u=r*e+a*i+l,d=o*e+h*i+c;this.minX=u,this.minY=d,this.maxX=u,this.maxY=d,u=r*s+a*i+l,d=o*s+h*i+c,this.minX=u<this.minX?u:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=u>this.maxX?u:this.maxX,this.maxY=d>this.maxY?d:this.maxY,u=r*e+a*n+l,d=o*e+h*n+c,this.minX=u<this.minX?u:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=u>this.maxX?u:this.maxX,this.maxY=d>this.maxY?d:this.maxY,u=r*s+a*n+l,d=o*s+h*n+c,this.minX=u<this.minX?u:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=u>this.maxX?u:this.maxX,this.maxY=d>this.maxY?d:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,e,i,s){return this.minX<t&&(this.minX=t),this.maxX>e&&(this.maxX=e),this.minY<i&&(this.minY=i),this.maxY>s&&(this.maxY=s),this}pad(t,e=t){return this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new o(this.minX,this.minY,this.maxX,this.maxY)}scale(t,e=t){return this.minX*=t,this.minY*=e,this.maxX*=t,this.maxY*=e,this}get x(){return this.minX}set x(t){const e=this.maxX-this.minX;this.minX=t,this.maxX=t+e}get y(){return this.minY}set y(t){const e=this.maxY-this.minY;this.minY=t,this.maxY=t+e}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,e,i,s){let n=this.minX,r=this.minY,o=this.maxX,a=this.maxY;s||(s=this.matrix);const h=s.a,l=s.b,c=s.c,u=s.d,d=s.tx,p=s.ty;for(let s=e;s<i;s+=2){const e=t[s],i=t[s+1],f=h*e+c*i+d,g=l*e+u*i+p;n=f<n?f:n,r=g<r?g:r,o=f>o?f:o,a=g>a?g:a}this.minX=n,this.minY=r,this.maxX=o,this.maxY=a}containsPoint(t,e){return this.minX<=t&&this.minY<=e&&this.maxX>=t&&this.maxY>=e}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}},9903:(t,e,i)=>{"use strict";function s(t,e,i){const s=t.length;let n;if(e>=s||0===i)return;const r=s-(i=e+i>s?s-e:i);for(n=e;n<r;++n)t[n]=t[n+i];t.length=r}i.d(e,{d:()=>s})},9939:(t,e,i)=>{"use strict";function s(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)}function n(t){return!(t&t-1||!t)}i.d(e,{U5:()=>s,f3:()=>n})}}]);